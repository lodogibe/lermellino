{"version":3,"sources":["logo.png","StateProvider.js","i18n.js","Header.js","Product.js","Loader.js","Home.js","AddProducts.js","barcode.png","Searchlist.js","OwnShop.js","ownorder.png","OwnOrders.js","Dashboard.js","CommentForm.js","user-icon.png","Comment.js","PageProduct.js","reducer.js","CheckoutProduct.js","PayPal.js","Paysection.js","old-staff-removebg-preview.png","pappagallo.jpg","pavone.jpg","struzzo.jpg","Aboutus.js","Rules.js","Subtotal.js","Checkout.js","Login.js","Signin.js","Forgetpassword.js","contacts.jpg","Newsletter.js","Contacts.js","Footer.js","DeleteSub.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","i18n","use","initReactI18next","init","resources","it","translation","en","lng","returnObjects","interpolation","escapeValue","format","toUpperCase","Header","auth","getAuth","user","currentUser","basket","dispatch","useState","isSignedin","setisSignedin","history","useHistory","anchorEl","setAnchorEl","searchTerm","setSearchTerm","open","Boolean","showResults","setShowResults","allcart","location","useLocation","useTranslation","t","classheader","setClassheader","classmenu","setClassmenu","React","context","language","setLanguage","classMenu","cookieslan","lan","Cookies","set","console","log","useEffect","get","changeLanguage","pathname","parentToChild","search","push","handleClose","onAuthStateChanged","uid","email","dbRef","ref","getDatabase","child","then","snapshot","exists","i","val","catch","error","finally","length","addtoBasket","type","item","id","preview","title","image","price","startDate","endDate","totalday","city","tipo","CreatedOn","idbuyer","caparra","localStorage","setItem","JSON","stringify","parse","getItem","listener","event","code","preventDefault","document","addEventListener","removeEventListener","className","style","display","justifyContent","to","src","logo","alt","width","height","color","onClick","borderRadius","placeholder","name","autoComplete","onChange","target","border","marginTop","displayName","Button","signOut","currentTarget","Menu","onClose","MenuListProps","MenuItem","sendEmailVerification","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","confirmAlert","message","buttons","label","deleteUser","textDecoration","alignSelf","Product","priceday","previewEN","titleEN","getprodotto","convertedText","setConvertedText","titleconvertedText","setTitleConvertedText","backgroundColor","marginRight","Loader","Home","db","getFirestore","products","setProduct","showallprod","setShowallprod","showbutton","setShowbutton","showpop","setShowpop","checkpop","setCheckpop","setEmail","frase","setFrase","checkemail","setCheckemail","classstyle","setClassstyle","showloader","setShowloader","sender","subject","html","mailerState","loading","setLoading","buttontext","setbuttontext","a","docRef","doc","getDoc","setDoc","fetch","method","headers","body","res","json","resData","status","window","hostname","sendnewsletter","setTimeout","q","query","collection","where","orderBy","getDocs","querySnapshot","saveFirebaseTodos","forEach","data","fetchMyAPI","expires","test","emailVerified","state","fromLogin","frasewelcome","fromCheckout","fromCart","warning","fontSize","maxLength","e","textAlign","fontWeight","remove","minHeight","paddingLeft","slice","map","key","idowner","IDowner","Type","Name","Preview","NameEN","PreviewEN","Price","Priceday","City","Img","variant","AddProducts","photo","storage","getStorage","setId","productName","setProductName","setPreview","description","setDesc","productPrice","setProductPrice","productPriceday","setProductPriceday","images","setImages","urls","setUrls","setProgress","selectedFiles","setSelectedFiles","emailowner","setType","setCity","allfiles","setAll","setPreviewEN","descriptionEN","setDescEN","productNameEN","setProductNameEN","TransState","text","sendTransdescription","response","handleUploadok","sendTranspreview","sendTranstitle","files","gosetAll","all","uploadToServer","allfilex","filesArray","Array","from","file","URL","createObjectURL","prevImages","concat","revokeObjectURL","newImage","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","compressedFile","Blob","size","warn","metadata","contentType","storageRef","uploadBytesResumable","on","bytesTransferred","totalBytes","getDownloadURL","prevState","addProduct","addDoc","Number","Date","now","State","Emailowner","Description","DescriptionEN","hiddenFileInput","useRef","FormControl","fullWidth","InputLabel","Select","labelId","required","TextField","inputProps","rows","OutlinedInput","Math","max","parseInt","toString","startAdornment","InputAdornment","current","click","marginBottom","multiple","TransitionGroup","url","index","CSSTransition","timeout","classNames","startIcon","splice","removeSelectedImage","objectFit","Searchlist","slug","useParams","barcode","filter","toLowerCase","includes","OwnShop","setIdowner","Noletext","setNoletext","Acquitext","setAcquitext","getdata","boxShadow","transform","OwnOrders","idorder","setIdorder","textrent","setTextrent","textsold","setTextsold","infoprod","setInfoprod","infoproducts","ownorderpic","titolo","prewiev","prezzo","datainizio","datafine","foto","Dashboard","dash","productReftwo","updateDoc","acceptproduct","acceptprod","productRefone","declineproduct","declineprod","CommentForm","idpost","iduser","initialText","functions","whatis","iddad","setText","alert","setAlertz","papaid","what","textModi","setTextModi","textAgg","setTextAgg","onSubmit","addComment","Text","Idpost","Email","IDuser","fetchMyedit","washingtonRef","Iddad","Comment","idprodowner","comment","nameowner","date","loadcomment","replies","setReplies","isEditing","setIsediting","isReplying","setIsreplying","dates","Intl","DateTimeFormat","year","month","day","getCommentsReplies","replyComment","updateComment","deleteComment","deleteDoc","fetchMydelete","icon","seconds","PageProduct","today","gallery","setGallery","img","totaldays","setTotaldays","show","setShow","setDate","getDate","setStartDate","setEndDate","totalcost","setTotalcost","setCaparra","comments","setComments","subDays","setSubDay","tomorrow","textbuy","setTextbuy","textdeposit","setTextdeposit","startdate","enddate","selectionRange","useLayoutEffect","dateList","start","end","clone","total","caparrone","isSameOrBefore","add","getDaysBetweenDates","moment","docSnap","datesArray","datesbooked","dateString","original","thumbnail","basketlenght","checkcart","lastcart","checkprodincart","sentence","getComments","items","minDate","ranges","selection","disabledDates","timestamp","found","some","r","checkothercarts","j","g","timecheck","writeUserData","getBasketTotal","reduce","amount","getCaparraTotal","action","findIndex","basketItem","newBasket","CheckoutProduct","createdon","startcount","round","counter","setCounter","removefromBasket","timerId","setInterval","clearInterval","Paypal","surname","props","require","config","process","paypal","info","allinfo","allinfoS","s","m","join","Buttons","createOrder","actions","err","order","create","intent","purchase_units","currency_code","onApprove","productRef","capture","arrayUnion","clientID","emailclient","submitEmail","onError","render","Paysection","setMethod","setName","setSurname","totale","setTotale","showpaypal","setShowpaypal","showpaymentmethod","setShowpaymentmethod","ermellinotax","CheckoutForm","stripe","useStripe","elements","useElements","handleSubmit","createPaymentMethod","card","getElement","CardElement","paymentMethod","disabled","stripePromise","loadStripe","handleChange","total_amount","lineHeight","pricerent","Radio","checked","align","renderText","decimalScale","displayType","thousandSeparator","prefix","Aboutus","AOS","duration","Foto","maxWidth","points","Struzzo","Pappagallo","Pavone","marginLeft","Rules","margin","padding","Subtotal","Checkout","Login","password","setPassword","showPassword","values","setValues","handleClickShowPassword","handleMouseDownPassword","onMouseDown","signInWithEmailAndPassword","Signin","provider","GoogleAuthProvider","providerf","FacebookAuthProvider","inputprops","createUserWithEmailAndPassword","updateProfile","signInWithPopup","result","credentialFromResult","accessToken","credentialFromError","Forgetpassword","showText","setShowText","sendPasswordResetEmail","Newsletter","Contacts","setMailerState","handleStateChange","fraseinfo","setFraseinfo","sendEmail","Image","href","borderColor","nome","messaggio","Footer","getFullYear","DeleteSub","setResponse","getEmail","firebaseConfig","apiKey","authDomain","projectId","databaseURL","REACT_DATABASEURL","storageBucket","REACT_STORAGEBUCKET","messagingSenderId","REACT_MESSAGINGSENDERID","appId","REACT_APPID","measurementId","REACT_MEASUREMENTID","initializeApp","App","setUser","fallback","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"0oBAAe,G,cAAA,IAA0B,kC,2CCG5BA,EAAeC,0BAIfC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,SAA1B,OAC3B,cAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,GAAlD,SACGC,KAMQI,EAAgB,kBAAMC,qBAAWV,I,sFCyM9CW,IACGC,IAAIC,KACJC,KAAK,CACJC,UAvNc,CAChBC,GAAI,CACFC,YAAa,CACX,SAAa,WACb,0DAA4D,0DAC5D,uCAAyC,uCACzC,6BAA+B,6BAC/B,cAAgB,cAChB,wBAA0B,wBAC1B,uBAAyB,uBACzB,uBAAyB,uBACzB,uDAAyD,uDACzD,gBAAkB,gBAClB,0BAA4B,0BAC5B,qBAAuB,qBACvB,kBAAoB,kBACpB,KAAS,OACT,SAAW,SACX,SAAa,WACb,UAAY,UACZ,SAAa,WACb,YAAc,YACd,gJAA+I,gJAC/I,kKAAoK,kKACpK,mDAAkD,mDAClD,UAAc,YACd,8FAA6F,8FAC7F,aAAiB,eACjB,2HAA0H,2HAC1H,WAAe,aACf,gKAAkK,gKAClK,kGAAoG,kGACpG,uKAAsK,uKACtK,YAAgB,cAChB,gNAA4M,gNAC5M,sNAAwN,sNACxN,4VAA4U,4VAC5U,qOAAoO,qOACpO,cAAgB,cAChB,wBAA0B,wBAC1B,0KAAyK,0KACzK,uBAAyB,uBACzB,qIAA8H,qIAC9H,sBAAwB,sBACxB,wCAAuC,wCACvC,UAAc,YACd,uGAAsG,uGACtG,oCAAsC,oCACtC,kDAAoD,kDACpD,mEAAqE,mEACrE,oEAAkE,oEAClE,QAAY,UACZ,QAAY,UACZ,OAAW,SACX,wBAA0B,yBAC1B,gNAAkN,gNAClN,iCAAmC,iCACnC,WAAe,aACf,KAAS,OACT,wNAA0N,wNAC1N,sBAAwB,sBACxB,eAAiB,eACjB,wBAA0B,wBAC1B,0BAA4B,0BAC5B,eAAiB,eACjB,oBAAsB,oBACtB,MAAU,QACV,QAAY,UACZ,YAAgB,cAChB,UAAc,YACd,OAAW,SACX,gBAAkB,gBAClB,OAAW,YACX,qBAAuB,qBACvB,uBAAyB,uBACzB,kBAAoB,kBACpB,MAAU,QACV,oBAAsB,oBACtB,uBAAyB,uBACzB,mBAAqB,mBACrB,MAAU,QACV,QAAY,UACZ,SAAa,WACb,SAAa,WACb,OAAW,SACX,mBAAqB,mBACrB,aAAe,aACf,kBAAoB,kBACpB,mBAAqB,mBACrB,MAAU,QACV,SAAa,WACb,WAAU,WACV,mCAAqC,mCACrC,sBAAwB,sBACxB,uBAAyB,uBACzB,oBAAsB,oBACtB,gBAAkB,gBAClB,yDAA2D,yDAC3D,cAAgB,cAChB,4DAA8D,4DAC9D,oFAAsF,oFACtF,uBAAyB,uBACzB,iHAAmH,mHAGvHC,GAAI,CACFD,YAAa,CACX,YAAe,QACf,SAAa,WACb,0DAA4D,sDAC5D,uCAAyC,oCACzC,6BAA+B,yBAC/B,cAAgB,YAChB,wBAA0B,8BAC1B,uBAAyB,cACzB,uBAAyB,eACzB,uDAAyD,+CACzD,gBAAkB,WAClB,0BAA4B,oBAC5B,KAAS,KACT,qBAAuB,wBACvB,kBAAoB,iBACpB,SAAW,QACX,SAAa,WACb,UAAY,UACZ,SAAa,OACb,YAAc,WACd,gJAA+I,kJAC/I,kKAAoK,2JACpK,mDAAkD,kDAClD,UAAc,WACd,8FAA6F,qFAC7F,aAAiB,cACjB,2HAA0H,wHAC1H,WAAe,YACf,gKAAkK,2IAClK,kGAAoG,uFACpG,uKAAsK,yJACtK,gNAA4M,+KAC5M,sNAAwN,iMACxN,4VAA4U,8UAC5U,qOAAoO,qMACpO,cAAgB,aAChB,wBAA0B,2BAC1B,0KAAyK,+IACzK,uBAAyB,gBACzB,qIAA8H,0GAC9H,sBAAwB,oBACxB,wCAAuC,6BACvC,6BAA+B,wBAC/B,UAAc,UACd,uGAAsG,iGACtG,oCAAsC,kCACtC,kDAAoD,iDACpD,mEAAqE,+DACrE,oEAAiE,0DACjE,QAAY,SACZ,QAAY,SACZ,OAAW,QACX,wBAA0B,mBAC1B,gNAAkN,+KAClN,iCAAmC,6BACnC,WAAe,UACf,KAAS,OACT,wNAA0N,+KAC1N,sBAAwB,kCACxB,eAAiB,SACjB,wBAA0B,sBAC1B,0BAA4B,0BAC5B,eAAiB,UACjB,oBAAsB,cACtB,MAAU,QACV,QAAY,OACZ,YAAgB,YAChB,UAAc,UACd,OAAW,YACX,gBAAkB,aAClB,OAAW,WACX,qBAAuB,YACvB,uBAAyB,WACzB,kBAAoB,eACpB,MAAU,OACV,oBAAsB,iBACtB,uBAAyB,cACzB,mBAAqB,UACrB,MAAU,SACV,QAAY,SACZ,SAAa,SACb,SAAa,QACb,kBAAoB,qBACpB,OAAW,QACX,aAAe,YACf,mBAAqB,uBACrB,mBAAqB,cACrB,MAAU,OACV,WAAU,OACV,uBAAyB,mBACzB,oBAAsB,oBACtB,mCAAqC,0BACrC,gBAAkB,eAClB,SAAa,OACb,cAAgB,eAChB,yDAA2D,2DAC3D,oFAAsF,6EACtF,sBAAwB,kBACxB,uBAAyB,sBACzB,4DAA8D,yDAC9D,iHAAmH,kGASrHE,IAAK,KACLC,eAAe,EACfC,cAAe,CACbC,aAAa,EACbC,OAAQ,SAAUhB,EAAOgB,EAAQJ,GAC/B,MAAe,cAAXI,EAA+BhB,EAAMiB,cAClCjB,MAKAI,EAAf,EAAeA,I,kCCgMAc,MA/Yf,WAEI,IAAMC,EAAOC,cACPC,EAAOF,EAAKG,YAClB,EAA4BpB,IAA5B,mBAAQqB,EAAR,KAAQA,OAAQC,EAAhB,KACA,EAAoCC,oBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACIC,EAAUC,cACd,EAAgCJ,mBAAS,MAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAAoCN,mBAAS,IAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KACMC,EAAOC,QAAQL,GACrB,EAAsCL,oBAAS,GAA/C,mBAAOW,EAAP,KAAoBC,EAApB,KACMC,EAAU,GACZC,EAAWC,cACf,EAAoBC,cAAZC,EAAR,EAAQA,EAAGtC,EAAX,EAAWA,KACX,EAAqCqB,mBAAS,UAA9C,mBAAOkB,EAAP,KAAmBC,EAAnB,KACA,EAAiCnB,mBAAS,WAA1C,mBAAOoB,GAAP,KAAiBC,GAAjB,KACA,GAAgCC,IAAM5C,WAAW6C,IAA1CC,GAAP,GAAOA,SAAUC,GAAjB,GAAiBA,YAIjB,SAASC,KACa,WAAhBR,GACFC,EAAe,eACfE,GAAa,oBAGbF,EAAe,UACfE,GAAa,YAMjB,SAASM,GAAYC,GACnBC,IAAQC,IAAI,MAAOF,GAhBrBG,QAAQC,IAAIR,IAoBZS,qBAAU,WACkB,KAAvBJ,IAAQK,IAAI,QACfvD,EAAKwD,eAAeN,IAAQK,IAAI,QAEhCT,GAAYI,IAAQK,IAAI,UACvB,IAIHH,QAAQC,IAAIlB,EAASsB,UAGrB,IAAMC,GAAgB,WAClB,IAAMC,EAAS,CACXF,SAAS,WAAD,OAAa7B,IAEzBJ,EAAQoC,KAAKD,IAMXE,GAAc,WACpBlC,EAAY,OAIZ2B,qBAAU,WAUR,GATAQ,YAAmB/C,GAAM,SAACE,GACxB,GAAIA,EAAM,CACNM,GAAc,GACFN,EAAK8C,SAGjBxC,GAAc,MAGR,MAARN,EAAc,CAChBgB,GAAe,GACM,+BAAfhB,EAAK+C,OAET/B,GAAe,GAEf,IAAMgC,EAAQC,YAAIC,eAClBZ,YAAIa,YAAMH,EAAO,SAAWhD,EAAK8C,MAAMM,MAAK,SAACC,GAC3C,GAAIA,EAASC,SAEX,IAAI,IAAIC,KADRpB,QAAQC,IAAIiB,EAASG,OACRH,EAASG,MACtBvC,EAAQ0B,KAAK,CAACY,EAAGF,EAASG,MAAOD,UAEjCpB,QAAQC,IAAIpC,EAAK8C,QAElBW,OAAM,SAACC,GACRvB,QAAQuB,MAAMA,MACbC,SAAQ,WACY,KAAb,OAANzD,QAAM,IAANA,OAAA,EAAAA,EAAQ0D,SACT3C,EAAQ2C,OAAS,GACpBC,WAIF,CAAC7D,IAIL,IAAM6D,GAAc,WAElB,IAAI,IAAIN,EAAI,EAAGA,EAAItC,EAAQ2C,OAAQL,IAE/BpD,EAAS,CACP2D,KAAM,gBACNC,KAAM,CACFC,GAAI/C,EAAQsC,GAAG,GACfU,QAAShD,EAAQsC,GAAG,GAAGU,QACvBC,MAAOjD,EAAQsC,GAAG,GAAGW,MACrBC,MAAOlD,EAAQsC,GAAG,GAAGY,MACrBC,MAAOnD,EAAQsC,GAAG,GAAGa,MACrBC,UAAWpD,EAAQsC,GAAG,GAAGc,UACzBC,QAASrD,EAAQsC,GAAG,GAAGe,QACvBC,SAAUtD,EAAQsC,GAAG,GAAGgB,SACxBC,KAAMvD,EAAQsC,GAAG,GAAGiB,KACpBC,KAAMxD,EAAQsC,GAAG,GAAGkB,KACpBC,UAAWzD,EAAQsC,GAAG,GAAGmB,UACzBC,QAAS1D,EAAQsC,GAAG,GAAGoB,QACvBC,QAAS3D,EAAQsC,GAAG,GAAGqB,WAGjCzC,QAAQC,IAAInB,EAAQsC,KA6GtB,OAzBAlB,qBAAU,WACRwC,aAAaC,QAAQ,YAAaC,KAAKC,UAAU9E,IACjDiC,QAAQC,IAAI,oCAAoC2C,KAAKE,MAAMJ,aAAaK,QAAQ,iBAC/E,CAAChF,IAIFmC,qBAAU,WACR,IAAM8C,EAAW,SAAAC,GACI,UAAfA,EAAMC,MAAmC,gBAAfD,EAAMC,OAClClD,QAAQC,IAAI,6CACZgD,EAAME,iBAEF3E,GACJ8B,OAIJ,OADA8C,SAASC,iBAAiB,UAAWL,GAC9B,WACLI,SAASE,oBAAoB,UAAWN,QAM3B,IAAf9E,EAEA,sBAAKqF,UAAWpE,EAAcqE,MAAO,CAACC,QAA+B,gBAAtB1E,EAASsB,UAAoD,YAAtBtB,EAASsB,UAAgD,WAAtBtB,EAASsB,SAAwB,OAAS,IAAnK,UACA,sBAAKmD,MAAO,CAACC,QAAQ,OAAOC,eAAgB,UAA5C,UACA,cAAC,IAAD,CAAMC,GAAG,IAAT,SACI,qBAAKJ,UAAU,cACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAE9C,sBAAKT,UAAU,WAAf,UACA,cAAC,IAAD,CAAMI,GAAG,WAAT,SAEA,sBAAKJ,UAAU,WAAYC,MAAO,CAACS,MAA6B,aAAtBlF,EAASsB,SAA0B,oBAAsB,IAAnG,cAA2GnB,EAAE,aAA7G,SAEA,cAAC,IAAD,CAAMyE,GAAG,SAAT,SACA,sBAAKJ,UAAU,WAAWC,MAAO,CAACS,MAA6B,WAAtBlF,EAASsB,SAAwB,oBAAsB,IAAhG,cAAwGnB,EAAE,eAA1G,SAEA,cAAC,IAAD,CAAMyE,GAAG,YAAT,SACA,sBAAKJ,UAAU,WAAWC,MAAO,CAACS,MAA6B,cAAtBlF,EAASsB,SAA2B,oBAAsB,IAAnG,cAA2GnB,EAAE,YAA7G,SAEA,sBAAMqE,UAAU,yBAAyBW,QAAS,WAAOtH,EAAKwD,eAAe,MAAMR,GAAW,MAAMF,GAAY,OAAhH,eACA,sBAAM6D,UAAU,yBAAyBW,QAAS,WAAOtH,EAAKwD,eAAe,MAAMR,GAAW,MAAMF,GAAY,eAI5G,sBAAK6D,UAAU,iBAAf,UACA,sBAAKA,UAAWlE,GAAW6E,QAAS,kBAAMvE,MAA1C,UACG,uBACA,uBACA,0BAJH,IAMqF,uBAAO6D,MAAO,CAACO,MAAM,OAAOC,OAAO,OAAOG,aAAc,OAC3IC,YAAalF,EAAE,SACfmF,KAAK,SACL1C,KAAK,OACL2C,aAAa,MACbC,SAAU,SAACtB,GAAWxE,EAAcwE,EAAMuB,OAAOhI,UAG/C,cAAC,IAAD,CAAiBgH,MAAO,CAACiB,OAAO,oBAAoBN,aAAa,MAAMH,OAAO,OAAOU,UAAU,OAASR,QAAS,kBAAM5D,MACvHiD,UAAU,0BAKd,qBAAKA,UAAU,WAAf,SACA,sBAAKA,UAAU,cAAf,UACQ,sBAAKA,UAAU,iBAAf,UACI,uBAAMA,UAAU,wBAAhB,cAA0CrE,EAAE,8BAA5C,OACA,cAAC,IAAD,CAAMyE,GAAG,UAAT,SACA,uBAAMJ,UAAU,wBAAhB,cAA0CrE,EAAE,eAA5C,YAGZ,sBAAKqE,UAAU,iBAAf,UACQ,uBAAMA,UAAU,wBAAhB,cAA0CrE,EAAE,yBAA5C,QACJ,cAAC,IAAD,CAAMyE,GAAG,SAAT,SACI,sBAAMJ,UAAU,wBAAhB,mCAaR,sBAAKA,UAAWpE,EAAaqE,MAAO,CAACC,QAA+B,gBAAtB1E,EAASsB,UAAoD,YAAtBtB,EAASsB,UAAgD,WAAtBtB,EAASsB,UAA+C,iBAAtBtB,EAASsB,SAA8B,OAAS,IAA1M,cACA,sBAAKmD,MAAO,CAACC,QAAQ,OAAOC,eAAgB,UAA5C,UACA,cAAC,IAAD,CAAMC,GAAG,IAAT,SACA,qBAAKJ,UAAU,cACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAExC,sBAAKT,UAAU,WAAf,UACA,cAAC,IAAD,CAAMI,GAAG,WAAT,SAEA,sBAAKJ,UAAU,WAAWC,MAAO,CAACS,MAA6B,aAAtBlF,EAASsB,SAA0B,oBAAsB,IAAlG,cAA0GnB,EAAE,aAA5G,SAEA,cAAC,IAAD,CAAMyE,GAAG,SAAT,SACA,sBAAKJ,UAAU,WAAWC,MAAO,CAACS,MAA6B,WAAtBlF,EAASsB,SAAwB,oBAAsB,IAAhG,cAAwGnB,EAAE,eAA1G,SAEA,cAAC,IAAD,CAAMyE,GAAG,YAAT,SACA,sBAAKJ,UAAU,WAAWC,MAAO,CAACS,MAA6B,cAAtBlF,EAASsB,SAA2B,oBAAsB,IAAnG,cAA2GnB,EAAE,YAA7G,SAEA,sBAAMqE,UAAU,yBAAyBW,QAAS,WAAOtH,EAAKwD,eAAe,MAAMR,GAAW,MAAMF,GAAY,OAAhH,eACA,sBAAM6D,UAAU,yBAAyBW,QAAS,WAAOtH,EAAKwD,eAAe,MAAMR,GAAW,MAAMF,GAAY,OAAhH,qBAGF,sBAAK6D,UAAU,iBAAf,UACA,sBAAKA,UAAWlE,GAAW6E,QAAS,kBAAMvE,MAA1C,UACG,uBACA,uBACA,0BAEG,uBAAO6D,MAAO,CAACO,MAAM,OAAOC,OAAO,OAAOG,aAAc,OACxDG,aAAa,MACbF,YAAalF,EAAE,SACfmF,KAAK,SACL1C,KAAK,OACL4C,SAAU,SAACtB,GAAWxE,EAAcwE,EAAMuB,OAAOhI,UACnD,cAAC,IAAD,CAAiBgH,MAAO,CAACiB,OAAO,oBAAoBN,aAAa,MAAMH,OAAO,OAAOU,UAAU,OAASR,QAAS,kBAAM5D,MACvHiD,UAAU,0BAKV,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,uBAAMA,UAAU,wBAAhB,cAA0CrE,EAAE,QAA5C,IAAsDrB,GAAQA,EAAK8G,YAAnE,OACA,sBAAKpB,UAAU,gBAAf,UACA,cAACqB,EAAA,EAAD,CAAQV,QA/KT,WACXW,YAAQlH,GAAMsD,MAAK,WAEjBjD,EAAS,CACP2D,KAAM,iBAENvD,EAAQoC,KAAK,QACZc,OAAM,SAACC,QAwKyBiC,MAAO,CAACS,MAAO,QAAQD,OAAQ,QAAST,UAAU,uBAA3E,uBACA,qBAAKA,UAAW,yBAA2BjF,EAAW,MAAQ,IAAK4F,QAjS/D,SAACjB,GACrB1E,EAAY0E,EAAM6B,gBAgSF,SACA,mBAAGvB,UAAU,yBAGb,eAACwB,EAAA,EAAD,CACIlD,GAAG,aACHvD,SAAUA,EACVI,KAAMA,EACNsG,QAASvE,GACTwE,cAAe,CACf,kBAAmB,gBANvB,UASI,cAACC,EAAA,EAAD,CAAUhB,QArOR,WAClBzD,KACA0E,YAAsBxH,EAAKG,aAC1BmD,MAAK,WACNmE,IAAMC,QAAQ,yDAAwDxH,EAAK+C,MAAO,CAClF0E,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,QA0NM,SAAmC3G,EAAE,wBACrC,cAACgG,EAAA,EAAD,CAAUhB,QA5KhB,WAEdzD,KACIqF,uBAAa,CACX/D,MAAO,gDACPgE,QAAS,2DACTC,QAAS,CACP,CACEC,MAAO,MACP/B,QAAS,WAlDfgC,YAAWrI,GAAMoD,MAAK,WAClBmE,IAAMC,QAAQ,kCAAoC,CAC9CC,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,OAEbvE,OAAM,SAACC,GACR6D,IAAM7D,MAAM,+EAA8E,CACtF+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,SAkCd,CACEI,MAAO,UAgKG,SAA4B/G,EAAE,qBAC5BN,EAAc,cAACsG,EAAA,EAAD,CAAUhB,QAnL5B,WACZ9F,EAAQoC,KAAK,eAkLiB,yBAAuD,WAI/E,sBAAK+C,UAAU,kBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,eAAC,IAAD,CAAMI,GAAG,aAAT,UACA,uBAAMJ,UAAU,wBAAhB,cAA0CrE,EAAE,UAA5C,OACA,uBACA,uBAAMqE,UAAU,wBAAhB,cAA0CrE,EAAE,YAA5C,YAIZ,qBAAKqE,UAAU,iBAAf,SACI,eAAC,IAAD,CAAMI,GAAG,WAAT,UACI,uBAAMJ,UAAU,wBAAhB,cAA0CrE,EAAE,WAA5C,OACA,uBACA,uBAAMqE,UAAU,wBAAhB,cAA0CrE,EAAE,YAA5C,gBAKH,cAAC,IAAD,CAAMyE,GAAG,YAAaH,MAAO,CAAE2C,eAAgB,OAAQC,UAAW,UAAlE,SACG,sBAAK7C,UAAU,uBAAf,UACA,sBAAMA,UAAU,4CAAhB,gBAA6DxF,QAA7D,IAA6DA,OAA7D,EAA6DA,EAAQ0D,SACrE,cAAC,IAAD,gB,uECrUL4E,MA7Ef,YAAuF,IAArExE,EAAoE,EAApEA,GAAGS,EAAiE,EAAjEA,KAAKP,EAA4D,EAA5DA,MAAMD,EAAsD,EAAtDA,QAAQE,EAA8C,EAA9CA,MAAMC,EAAwC,EAAxCA,MAAMqE,EAAkC,EAAlCA,SAASjE,EAAyB,EAAzBA,KAAKkE,EAAoB,EAApBA,UAAUC,EAAU,EAAVA,QAEpEpI,EAAUC,cACRsD,EAAOW,EACPmE,EAAc,WAAOrI,EAAQoC,KAAR,uBAA6BqB,KACxD,EAA0C5D,mBAAS,IAAnD,mBAAOyI,EAAP,KAAsBC,EAAtB,KACA,EAAoD1I,mBAAS,IAA7D,mBAAO2I,EAAP,KAA2BC,EAA3B,KACQ3H,EAAMD,cAANC,EACFO,EAAWF,IAAM5C,WAAW6C,IAmBpC,OAfAU,qBAAU,WACiB,OAAtBT,EAASA,UACVoH,EAAsBL,GACtBG,EAAiBJ,GACjBvG,QAAQC,IAAIR,EAASA,YAGrBoH,EAAsB9E,GACtB4E,EAAiB7E,GACjB9B,QAAQC,IAAIR,EAASA,aAEvB,CAACA,IAIU,UAATkC,EAEE,sBAAK4B,UAAU,UAAf,UACQ,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,uBAAf,UACI,6BAAKqD,IACL,4BAAIF,OAER,qBAAKnD,UAAU,iBAAf,SACI,yCAAOtB,EAAP,SAEJ,qBAAKsB,UAAU,kBAAf,SACKlB,OAIjB,qBAAKuB,IAAK5B,EAAM,GAAKuB,UAAU,YAC/B,qBAAKA,UAAU,YAAf,SACA,eAACqB,EAAA,EAAD,CAAQV,QAASuC,EAAalD,UAAU,UAAUC,MAAO,CAACO,MAAO,OAAO+C,gBAAgB,UAAWrC,OAAQ,kBAAkBT,OAAO,QAApI,UACA,cAAC,IAAD,CAAgBR,MAAO,CAACS,MAAM,QAAQE,aAAa,MAAMJ,MAAM,MAAMC,OAAO,OAAO+C,YAAa,UAC/F7H,EAAE,wBAFH,YAQJ,sBAAKqE,UAAU,UAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,uBAAf,UACY,6BAAKqD,IACL,4BAAIF,OAER,qBAAKnD,UAAU,iBAAf,SACI,yCAAO+C,EAAP,IAAkBpH,EAAE,iBAApB,WAEJ,qBAAKqE,UAAU,kBAAf,SACKlB,OAIjB,qBAAKuB,IAAK5B,EAAM,GAAI8B,IAAI,GAAGP,UAAU,YACrC,qBAAKA,UAAU,YAAf,SACA,eAACqB,EAAA,EAAD,CAAQV,QAASuC,EAAalD,UAAU,UAAUC,MAAO,CAACO,MAAO,OAAO+C,gBAAgB,UAAWrC,OAAQ,kBAAkBT,OAAO,QAApI,UACA,cAAC,IAAD,CAAgBR,MAAO,CAACS,MAAM,QAAQE,aAAa,MAAMJ,MAAM,MAAMC,OAAO,OAAO+C,YAAa,UAC/F7H,EAAE,wBAFH,c,uBC1EO,SAAS8H,IACtB,OACE,qBAAKzD,UAAU,UAAf,SACI,sBAAKA,UAAU,UAAf,UACA,qBAAKA,UAAU,gBACf,qBAAKA,UAAU,gBACf,qBAAKA,UAAU,gBACf,qBAAKA,UAAU,qBCwWR0D,MAhWf,WAEI,IAAMlI,EAAWC,cACjB,EAA4BtC,IAA5B,mBAAgBsB,GAAhB,KAAQD,OAAR,MACMJ,EAAOC,cACPC,EAAOF,EAAKG,YACZoJ,EAAKC,cACX,EAA+BlJ,mBAAS,IAAxC,mBAAOmJ,EAAP,KAAiBC,EAAjB,KACA,EAAqCpJ,oBAAS,GAA9C,mBAAOqJ,EAAP,KAAmBC,EAAnB,KACA,EAAmCtJ,oBAAS,GAA5C,mBAAOuJ,EAAP,KAAkBC,EAAlB,KACA,EAAgClI,IAAM5C,WAAW6C,IAAzCkI,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACjB,EAAkC1J,mBAAS,IAA3C,mBAAQ2J,EAAR,KAAkBC,EAAlB,KACA,EAA0B5J,mBAAS,IAAnC,mBAAO2C,EAAP,KAAckH,EAAd,KACA,EAA0B7J,mBAAS,QAAnC,mBAAO8J,EAAP,KAAcC,EAAd,KACA,EAAoC/J,mBAAS,IAA7C,mBAAOgK,GAAP,KAAmBC,GAAnB,KACA,GAAoCjK,mBAAS,WAA7C,qBAAOkK,GAAP,MAAmBC,GAAnB,MACA,GAAoC7I,IAAM5C,WAAW6C,IAA9C6I,GAAP,GAAOA,WAAYC,GAAnB,GAAmBA,cACXpJ,GAAMD,cAANC,EACR,GAAsCjB,mBAAS,CAC3CsK,OAAQ,cACR3H,MAAO,GACP4H,QAAS,wBACTzC,QAAS,qDACT0C,KAAM,qKALV,qBAAOC,GAAP,MAOA,IAPA,MAO6BzK,oBAAS,IAAtC,qBAAO0K,GAAP,MAAeC,GAAf,MACA,GAAmC3K,mBAAS,IAA5C,qBAAO4K,GAAP,MAAkBC,GAAlB,MACMrJ,GAAWF,IAAM5C,WAAW6C,IA3BtB,8CAyFZ,4BAAAuJ,EAAA,yDACIH,IAAW,IACPX,GAFR,wBAGUe,EAASC,YAAI/B,EAAI,aAActG,GAHzC,SAI0BsI,YAAOF,GAJjC,kBAMoB7H,SANpB,iBAOY6G,EAAS,4CACTI,GAAc,SACdQ,IAAW,GATvB,mDAcqCO,YAAOF,YAAI/B,EAAI,aAActG,GAAQ,IACnDK,MAAK,WAAM,4CAIV,sBAAA8H,EAAA,sEACuBK,MAAM,wDAA0E,CACnGC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6F,mBAEtBzH,MAAK,SAACuI,GAAD,OAASA,EAAIC,UAClBxI,KATkB,uCASb,WAAOuI,GAAP,eAAAT,EAAA,sEACkBS,EADlB,OACEE,EADF,OAEJ1J,QAAQC,IAAIyJ,GACW,YAAnBA,EAAQC,OACV3J,QAAQC,IAAI,gBACgB,SAAnByJ,EAAQC,QACjB3J,QAAQC,IAAI,0BANV,2CATa,uDAkBlBgB,MAAK,WACuB,OAAtBxB,GAASA,SACRuI,EAAS,oGAGTA,EAAS,iHAETI,GAAc,WACdN,EAAS,OA3BrB,yDAJU,wBACVY,GAAY9H,MAAQA,EACpB8H,GAAYD,KAAO,0IAA4ImB,OAAO7K,SAAS8K,SAAW,WAAajJ,EAAQ,iGAFrM,mCAGVkJ,MAlBxB,kEAkDwB9J,QAAQuB,MAAM,0BAAd,MAlDxB,gCAwDiC,OAAtB9B,GAASA,SACRuI,EAAS,mBAGTA,EAAS,oBAEjBI,GAAc,SA9DlB,2DAzFY,yBAiQZ,OAlOAlI,qBAAU,WACiB,OAAtBT,GAASA,UACVqJ,GAAc,aACd9I,QAAQC,IAAIR,GAASA,YAGrBqJ,GAAc,aACd9I,QAAQC,IAAIR,GAASA,aAEvB,CAACA,KAEHO,QAAQC,IAAIyH,GAObxH,qBAAU,WACK6J,YAAW,kBAAMzB,IAAc,KAAQ,QACnD,IAEFpI,qBAAU,WAAM,4CAEZ,gCAAA6I,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,YAAYiD,YAAM,QAAQ,KAAK,eAAeC,YAAQ,YAAY,QADrG,SAEiCC,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,YAGhDpD,EAAWkD,GACX9C,GAAc,GATd,4CAFY,0DACZiD,GAYAX,YAAW,WACFrC,IAC2B,UAAxB5H,IAAQK,IAAI,SAEZH,QAAQC,IAAI,UACZ0H,GAAW,GACXE,GAAY,KAGZF,GAAW,GACXE,GAAY,GACZ/H,IAAQC,IAAI,OAAQ,QAAS,CAAE4K,QAAS,IACxC3K,QAAQC,IAAIH,IAAQK,IAAI,aAG7B,OACR,IAyEHD,qBAAU,WACS,yJACF0K,KAAKhK,GAIlBsH,IAAc,GAHdA,IAAc,KAIf,CAACtH,IAGJV,qBAAU,WACN,GAAa,OAATrC,EAAe,CAEf,IAAM8G,EAAc9G,EAAK8G,YACnBkG,EAAgBhN,EAAKgN,cAK3B,QAAuBhF,IAAnB9G,EAAS+L,MAET,GAAiC,WAA7B/L,EAAS+L,MAAMC,UAAwB,CAEvC,IAAIC,EAAe,GAEfA,EADoB,MAArBvL,GAASA,SACO,gBAGA,sBAEpB2F,IAAMC,QAAQ2F,EAAe,IAAMrG,EAAc,CAChDW,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,SAGT,IAAoC,IAAhC9G,EAAS+L,MAAMG,aACpB7F,IAAMC,QAAQ,8FAAgG,CAC7GC,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IACV7H,EAAS,CACN2D,KAAM,sBAGT,IAAgC,IAA5B5C,EAAS+L,MAAMI,SACpB9F,IAAM+F,QAAQ,yCAA2C,CACrD7F,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,SAKd,GAAIgF,EAAe,CAAC,IAAD,EACXG,EAAe,GAEfA,EADoB,MAArBvL,GAASA,SACO,gBAGA,sBAEpB2F,IAAMC,QAAQ2F,EAAe,IAAMrG,GAAnC,GACCW,SAAU,WACVC,WAAW,GAFZ,2BAGY,GAHZ,iCAIkB,GAJlB,8BAKe,GALf,8BAMe,GANf,2BAOY,GAPZ,8BAQWM,GARX,SAYCT,IAAM7D,MAAM,yEAA2E,CACnF+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IACVhB,YAAQlH,MAKrB,IAIP,sBAAK4F,UAAU,OAAf,UACM8E,IAAc,cAAC,EAAD,IADpB,IAEI,sBAAK9E,UAAU,kBAAf,UACEqE,GACE,qBAAKrE,UAAU,UAAUC,MAAO,CAACsD,gBAAgB,aAAjD,SACI,qBAAKvD,UAAU,QAAf,SACI,sBAAKA,UAAU,mBAAf,UACA,qBAAKA,UAAU,QAASW,QAAS,kBAAM2D,GAAY,IAAnD,oBACA,qBAAKtE,UAAU,WAAWC,MAAO,CAACO,MAAM,QAAxC,SACI,sBAAMR,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,0BAEQ,uBACA,qBAAK7H,UAAU,iBAAf,SACKrE,GAAE,0GAEH,6BAAKA,GAAE,uCACH,uBAAOsE,MAAO,CAACO,MAAM,OAAOI,aAAa,WACrCtC,GAAG,wBACHwJ,UAAU,KACV7O,MAAOoE,EAAO2D,SAAU,SAAA+G,GAAC,OAAIxD,EAASwD,EAAE9G,OAAOhI,UAEvD,qBAAKgH,MAAO,CAAC4H,SAAS,QAAtB,SAAgClM,GAAE,qDAClC,uBACQ,sBAAKsE,MAAO,CAAC+H,UAAU,OAAvB,UACI,sBAAKhI,UAAW4E,GAAY3E,MAAO,CAAC+H,UAAU,QAASH,SAAS,OAAQI,WAAW,OAAnF,cAA6FzD,EAA7F,OACA,eAACnD,EAAA,EAAD,CAAQV,QA3R5C,4CA2R0EV,MAAO,CAACS,MAAO,SAAUV,UAAU,sBAAzE,cAAiGoF,GAAU,MAAQE,GAAnH,WAER,sBAAKtF,UAAU,YAAf,UACA,8BAAIrE,GAAE,oEAAN,IAA2E,uBAA3E,IAAmFA,GAAE,wEACzF,sBAAKqE,UAAU,oBAAf,UACJ,yBAASW,QAAS,kBAAM2D,GAAY,IAAQrE,MAAO,CAACO,MAAM,SAA1D,cAAsE7E,GAAE,WAAxE,OADI,IAC0F,yBAAQgF,QA5MtI,WACIpE,IAAQ2L,OAAO,QACf5D,GAAY,IA0M8IrE,MAAO,CAACO,MAAM,SAA9C,cAA0D7E,GAAE,WAA5D,oBAOlH,sBAAKqE,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,UACA,qBAAKnI,UAAU,cAAcK,IAAI,wFAAwFE,IAAI,MAC5G,IAAhBwD,GACD,sBAAK/D,UAAU,YAAf,UACA,sBAAKA,UAAU,gBAAgBC,MAAO,CAACmI,YAAa,QAApD,UACA,oBAAGpI,UAAU,uBAAb,UAAqCrE,GAAE,2DAAvC,IAAmG,uBAAnG,IAA2GA,GAAE,2CAC7G,oBAAGqE,UAAU,uBAAb,UAAqCrE,GAAE,2DAAvC,IAAmG,uBAAnG,IAA2GA,GAAE,8CAG5GkI,EAASwE,MAAM,EAAE,GAAGC,KAAI,SAACrP,EAAOsP,GAAR,OACrB,cAAC,EAAD,CAEAjK,GAAIrF,EAAMqF,GACVkK,QAASvP,EAAMwP,QACf1J,KAAM9F,EAAMyP,KACZlK,MAAOvF,EAAM0P,KACbpK,QAAStF,EAAM2P,QACf3F,QAAShK,EAAM4P,OACf7F,UAAW/J,EAAM6P,UACjBpK,MAAOzF,EAAM8P,MACbhG,SAAU9J,EAAM+P,SAChBlK,KAAM7F,EAAMgQ,KACZxK,MAAOxF,EAAMiQ,KAXRX,UAeQ,IAAhBxE,GACD,sBAAK/D,UAAU,YAAf,UAEA,sBAAKA,UAAU,gBAAf,UACA,oBAAGA,UAAU,uBAAb,UAAqCrE,GAAE,2DAAvC,IAAmG,uBAAnG,IAA2GA,GAAE,0CAC7G,oBAAGqE,UAAU,uBAAb,UAAqCrE,GAAE,2DAAvC,IAAmG,uBAAnG,IAA2GA,GAAE,6CAI5GkI,EAASyE,KAAI,SAACrP,EAAOsP,GAAR,OACV,cAAC,EAAD,CAEAjK,GAAIrF,EAAMqF,GACVkK,QAASvP,EAAMwP,QACf1J,KAAM9F,EAAMyP,KACZlK,MAAOvF,EAAM0P,KACbpK,QAAStF,EAAM2P,QACflK,MAAOzF,EAAM8P,MACbhG,SAAU9J,EAAM+P,SAChBlK,KAAM7F,EAAMgQ,KACZxK,MAAOxF,EAAMiQ,KATRX,UAYQ,IAAhBxE,IAAwC,IAAfE,GAAuBJ,EAAS3F,OAAS,GACnE,eAACmD,EAAA,EAAD,CAAQ8H,QAAQ,YAAYlJ,MAAQ,CAACsD,gBAAiB,QAAQ7C,MAAO,SAAWC,QAAS,kBAAMqD,GAAe,IAA9G,cAAyHrI,GAAE,2BAA3H,SAA8J,mBAAGqE,UAAU,mBAAmBC,MAAO,CAAC4H,SAAS,UAA/M,iB,8HCoJDuB,OAref,WAEI,MAA4BjQ,IAA5B,mBAAgBsB,GAAhB,KAAQ4O,MAAR,MACM1F,EAAKC,cACL0F,EAAUC,cACZ1O,EAAUC,cAERR,EADOD,cACKE,YAClB,EAAoBmB,cAAZC,EAAR,EAAQA,EAAR,EAAWtC,KAGXsD,qBAAU,WACV,GAAY,MAARrC,EAAc,CAChB,IAAM8C,EAAM9C,EAAK8C,IACjBoM,GAAMpM,GACN,IAAMC,EAAQ/C,EAAK+C,MACnBkH,GAASlH,MAER,CAAC/C,IAEJ,MAAsCI,mBAAS,IAA/C,mBAAO+O,EAAP,KAAoBC,EAApB,KACA,EAA8BhP,mBAAS,IAAvC,mBAAO6D,EAAP,KAAgBoL,EAAhB,KACA,EAA+BjP,mBAAS,IAAxC,mBAAOkP,EAAP,KAAoBC,EAApB,KACA,EAAwCnP,mBAAS,GAAjD,mBAAOoP,EAAP,KAAqBC,EAArB,KACA,EAA8CrP,mBAAS,GAAvD,mBAAOsP,GAAP,KAAwBC,GAAxB,KACA,GAA4BvP,mBAAS,IAArC,qBAAOwP,GAAP,MAAeC,GAAf,MACA,GAAwBzP,mBAAS,IAAjC,qBAAO0P,GAAP,MAAaC,GAAb,MACA,GAAgC3P,mBAAS,GAAzC,qBAAO2H,GAAP,MAAiBiI,GAAjB,MACA,GAA0C5P,mBAAS,IAAnD,qBAAO6P,GAAP,MAAsBC,GAAtB,MACA,GAAmB9P,mBAAS,IAA5B,qBAAO4D,GAAP,MAAUkL,GAAV,MACA,GAA8B9O,mBAAS,IAAvC,qBAAO+P,GAAP,MAAkBlG,GAAlB,MACA,GAAuB7J,mBAAS,IAAhC,qBAAO0D,GAAP,MAAYsM,GAAZ,MACA,GAAuBhQ,mBAAS,IAAhC,qBAAOoE,GAAP,MAAY6L,GAAZ,MACA,GAA2BjQ,mBAAS,IAApC,qBAAOkQ,GAAP,MAAiBC,GAAjB,MACA,GAAoCnQ,oBAAS,GAA7C,qBAAOoK,GAAP,MAAmBC,GAAnB,MAQA,GAAkCrK,mBAAS,IAA3C,qBAAOsI,GAAP,MAAkB8H,GAAlB,MACA,GAAmCpQ,mBAAS,IAA5C,qBAAOqQ,GAAP,MAAsBC,GAAtB,MACA,GAA0CtQ,mBAAS,IAAnD,qBAAOuQ,GAAP,MAAsBC,GAAtB,MACMC,GAAa,CACjBC,KAAM,IAIFC,GAAoB,uCAAG,sBAAA7F,EAAA,6DAC3B2F,GAAWC,KAAOxB,EAClBnN,QAAQC,IAAI,CAAEyO,gBAFa,SAGrBtF,MAAM,+CAAgD,CAC1DC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6L,kBAExBzN,MAAK,SAAC4N,GAAD,OAAcA,EAASpF,UAC5BxI,MAAK,SAACwJ,GAAD,OAAU8D,GAAU9D,EAAKd,WAAS1I,MAAK,kBAAM6N,QAZxB,2CAAH,qDAepBC,GAAgB,uCAAG,sBAAAhG,EAAA,6DACvB2F,GAAWC,KAAO7M,EAClB9B,QAAQC,IAAI,CAAEyO,gBAFS,SAGhBtF,MAAM,+CAAgD,CAC3DC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6L,kBAExBzN,MAAK,SAAC4N,GAAD,OAAcA,EAASpF,UAC5BxI,MAAK,SAACwJ,GAAD,OAAU4D,GAAa5D,EAAKd,WAAS1I,MAAK,kBAAM2N,QAZ/B,2CAAH,qDAehBI,GAAc,uCAAG,sBAAAjG,EAAA,6DACrB2F,GAAWC,KAAO3B,EAClBhN,QAAQC,IAAI,CAAEyO,gBAFO,SAGftF,MAAM,+CAAgD,CAC1DC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6L,kBAExBzN,MAAK,SAAC4N,GAAD,OAAcA,EAASpF,UAC5BxI,MAAK,SAACwJ,GAAD,OAAUgE,GAAiBhE,EAAKd,WAAS1I,MAAK,kBAAM8N,QAZrC,2CAAH,qDAhFA,8CAiGpB,WAA6BzD,GAA7B,2BAAAvC,EAAA,2DAEIuC,EAAE9G,OAAOyK,MAAMxN,QAAU,GAAKqM,GAAcrM,QAAU,GAAKgM,GAAOhM,QAAU,GAFhF,iBAqCWyN,EAAT,SAAkBC,GAAOf,GAAOe,IAEjBC,EAvCjB,+BAAArG,EAAA,MAuCE,WAA8BsG,GAA9B,SAAAtG,EAAA,sEACQmG,EAASG,GADjB,uBAEQ3B,GAAUS,IAFlB,OAGEnO,QAAQC,IAAIkO,IACTV,GAAOhM,SAAW6J,EAAE9G,OAAOyK,MAAMxN,QAElCzB,QAAQC,IAAI,SANhB,2CAvCF,sDAGMqL,EAAE9G,OAAOyK,QACLK,EAAaC,MAAMC,KAAKlE,EAAE9G,OAAOyK,OAAOpD,KAAI,SAAC4D,GAAD,OAChDC,IAAIC,gBAAgBF,MAItB1B,IAAiB,SAAC6B,GAAD,OAAgBA,EAAWC,OAAOP,MACnDC,MAAMC,KAAKlE,EAAE9G,OAAOyK,OAAOpD,KACzB,SAAC4D,GAAD,OAAUC,IAAII,gBAAgBL,OAKzBrO,EAAI,EAhBf,YAgBkBA,EAAIkK,EAAE9G,OAAOyK,MAAMxN,QAhBrC,wBAkBUsO,EAAWzE,EAAE9G,OAAOyK,MAAM7N,GAG1B4O,EAAU,CACdC,UAAW,EACXC,iBAAiB,KACjBC,cAAc,GAxBpB,mBA2BmCC,aAAiBL,EAAUC,GA3B9D,eA2BYK,EA3BZ,OA4BMrQ,QAAQC,IAAI,iCAAkCoQ,aAA0BC,MACxEtQ,QAAQC,IAAR,8BAAmCoQ,EAAeE,KAAO,KAAO,KAAhE,QACApC,GAAS3N,KAAK6P,GA9BpB,UA+BYjB,EAAejB,IA/B3B,0DAiCMnO,QAAQC,IAAR,MAjCN,QAgB6CmB,IAhB7C,+CAmDCgE,IAAMoL,KAAK,sDAAoD,CAC9DlL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IA1DZ,0DAjGoB,yBAiKpB,IAyDIiJ,GAAiB,WAAQ,IAAM2B,EAAW,CAACC,YAAa,cAC9DjD,GAAO5B,KAAI,SAAC7J,GAEZ,IAAM2O,EAAa7P,YAAIA,YAAI+L,EAAS,UAAY7K,EAAMqC,OACnCuM,YAAqBD,EAAY3O,EAAOyO,GAC5CI,GAAG,iBACd,SAAC3P,GACD,IAAM0E,EAAY1E,EAAS4P,iBAAmB5P,EAAS6P,WAAc,IAErE,OADA/Q,QAAQC,IAAI,aAAe2F,EAAW,UAC9B1E,EAAS4J,OACjB,IAAK,SACH9K,QAAQC,IAAI,oBACZ,MACF,IAAK,UACHD,QAAQC,IAAI,qBAGd4N,GAAYjI,MAEhB,SAACrE,MAdG,sBAiBJ,sBAAAwH,EAAA,sEAEIiI,YAAelQ,YAAI+L,EAAS,UAAY7K,EAAMqC,OAC3CpD,MAAK,SAAC0M,GACLC,IAAQ,SAACqD,GAAD,4BAAmBA,GAAnB,CAA8BtD,UAJ9C,gDAWFzN,qBAAU,WACJ4N,GAAcrM,SAAWkM,GAAKlM,QAA0B,IAAhBkM,GAAKlM,QAC/CyP,OAEA,CAACvD,KAIL,IAUUuD,GAAa,WAGjB,IACiBC,YAAOjH,YAAWhD,EAAI,YAAa,CAC1CgF,KAAMc,EACNV,MAAO8E,OAAO/D,GACdd,SAAU6E,OAAO7D,IACjBd,IAAKkB,GACLnB,KAAMnK,GACN4J,KAAMtK,GACNY,UAAW,IAAI8O,KAAKA,KAAKC,OACzBC,MAAO,SACPvF,QAASnK,GACT2P,WAAYxD,GACZyD,YAAatE,EACbhB,QAASrK,EACTsK,OAAQoC,GACRkD,cAAepD,GACfjC,UAAW9F,KACZtF,MAAK,WACNqH,IAAc,GACZlK,EAAQoC,KAAK,eACb,MAAO8K,GACThD,IAAc,GACZtI,QAAQuB,MAAM,0BAA2B+J,KAIzCqG,GAAkBpS,IAAMqS,OAAO,MAO3C,OAGI,sBAAKrO,UAAU,wBAAf,UACI8E,IAAc,cAAC,EAAD,IAEhB,qBAAK9E,UAAU,YAAf,SACA,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,QAAf,UACA,cAAC,IAAD,CAAMI,GAAG,IAAT,SACA,qBAAKJ,UAAU,aACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAG9C,qBAAKT,UAAU,mBAAoBC,MAAO,CAACO,MAAM,QAAjD,SACI,sBAAKR,UAAU,WAAf,UACA,qBAAKA,UAAU,WAAWC,MAAO,CAACO,MAAM,QAAxC,SACA,sBAAMR,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,SAAqElM,EAAE,yBAEvE,sBAAKqE,UAAU,WAAf,UACA,sBAAKA,UAAU,WAAf,UACA,sBAAKA,UAAU,OAAf,UACM,+BAAKrE,EAAE,oBAAP,OACE,eAAC2S,EAAA,EAAD,CAAaC,WAAS,EAAtB,UACA,cAACC,EAAA,EAAD,CAAYlQ,GAAG,2BAAf,SAA2C3C,EAAE,sBAC7C,eAAC8S,EAAA,EAAD,CACEC,QAAQ,2BACRpQ,GAAG,qBACHrF,MAAOmF,GACPsE,MAAM,sBACN1B,SA5EH,SAACtB,GAClBgL,GAAQhL,EAAMuB,OAAOhI,QA4ED0V,UAAQ,EANV,UAQE,cAAChN,EAAA,EAAD,CAAU1I,MAAO,QAAjB,SAA2B0C,EAAE,WAC7B,cAACgG,EAAA,EAAD,CAAU1I,MAAO,WAAjB,SAA8B0C,EAAE,uBAIzC,uBACD,sBAAKqE,UAAU,OAAf,UACE,mCAAMrE,EAAE,YAAR,QACF,eAAC2S,EAAA,EAAD,CAAaC,WAAS,EAAtB,UACA,cAACC,EAAA,EAAD,CAAYlQ,GAAG,2BAAf,qBACA,eAACmQ,EAAA,EAAD,CACEC,QAAQ,2BACRpQ,GAAG,qBACHrF,MAAO6F,GACP4D,MAAM,sBACN1B,SA1FK,SAACtB,GAClBiL,GAAQjL,EAAMuB,OAAOhI,QA0FT0V,UAAQ,EANV,UAQE,cAAChN,EAAA,EAAD,CAAU1I,MAAO,SAAjB,oBACA,cAAC0I,EAAA,EAAD,CAAU1I,MAAO,OAAjB,2BAIJ,uBACM,sBAAK+G,UAAU,eAAf,cAA+B,mCAAMrE,EAAE,iBAAR,QAC/B,cAACiT,EAAA,EAAD,CACMtQ,GAAG,wBACHyC,aAAa,KACb8N,WAAY,CACV/G,UAAW,IAEb7O,MAAOwQ,EACPzI,SAAU,SAAC+G,GAAD,OAAO2B,EAAe3B,EAAE9G,OAAOhI,aAG3C,uBACA,sBAAK+G,UAAU,eAAf,cAA+B,mCAAMrE,EAAE,qBAAR,QACnC,cAACiT,EAAA,EAAD,CACM5O,UAAU,UACV1B,GAAG,oBACHuQ,WAAY,CACV/G,UAAW,IAEb7O,MAAOsF,EACPyC,SAAU,SAAC+G,GAAD,OAAO4B,EAAW5B,EAAE9G,OAAOhI,aAGvC,uBACJ,sBAAK+G,UAAU,eAAf,cAAgC,mCAAMrE,EAAE,wBAAR,QAC5B,cAACiT,EAAA,EAAD,CACE5O,UAAU,cACV1B,GAAG,4BACHuQ,WAAY,CACV/G,UAAW,KAEbgH,KAAM,EACN7V,MAAO2Q,EACP5I,SAAU,SAAC+G,GAAD,OAAO8B,EAAQ9B,EAAE9G,OAAOhI,aAGpC,0BAGF,sBAAK+G,UAAU,YAAf,UACA,sBAAKA,UAAU,SAAf,UACF,sBAAKA,UAAU,QAAf,cAAwB,mCAAMrE,EAAE,uBAAR,QAEtB,cAACoT,EAAA,EAAD,CACEzQ,GAAG,4BACHF,KAAK,SACLyQ,WAAY,CACV/G,UAAW,GAEb9G,SAAU,SAAC+G,GAAD,OAAOgC,EAAgBhC,EAAE9G,OAAOhI,MAAQ+V,KAAKC,IAAI,EAAGC,SAASnH,EAAE9G,OAAOhI,QAASkW,WAAW9G,MAAM,EAAE,KAAKpP,MAAO6Q,EACxHsF,eAAgB,cAACC,EAAA,EAAD,CAAgBtN,SAAS,QAAzB,sBATpB,aAWE,oCAAOpG,EAAE,qFAAT,WAEC,uBACD,sBAAKqE,UAAU,iBAAf,cAAiC,mCAAMrE,EAAE,oCAAR,QAEjC,cAACoT,EAAA,EAAD,CACEzQ,GAAG,gCACHF,KAAK,SACL4C,SAAU,SAAC+G,GAAD,OAAOkC,GAAmBlC,EAAE9G,OAAOhI,MAAQ+V,KAAKC,IAAI,EAAGC,SAASnH,EAAE9G,OAAOhI,QAASkW,WAAW9G,MAAM,EAAE,KAAKpP,MAAO+Q,GAC3HoF,eAAgB,cAACC,EAAA,EAAD,CAAgBtN,SAAS,QAAzB,sBANlB,aAQA,oCAAOpG,EAAE,6DAAT,cAGC,uBACH,sBAAKqE,UAAU,WAAf,UACA,eAACqB,EAAA,EAAD,CAAQV,QAlIM,SAAAjB,GAClB0O,GAAgBkB,QAAQC,SAiIUvP,UAAU,gBAAgBC,MAAO,CAACiB,OAAO,oBAAqBV,MAAO,QAAQgP,aAAa,MAAMrO,UAAU,OAAOoC,gBAAgB,SAA/J,cAA2K5H,EAAE,eAA7K,OACA,sBAAKqE,UAAU,aAAf,UACA,qBAAKK,IAAI,oFAAsFJ,MAAO,CAACO,MAAM,WAC7G,uBAAOpC,KAAK,OAAOqR,UAAQ,EAACzO,SAjbpB,6CAib4CzD,IAAK6Q,GAAiBnO,MAAO,CAACC,QAAS,UAC3F,oCAAOvE,EAAE,0DAAT,cAIE,6BAKF,cAAC+T,EAAA,EAAD,CAAiB1P,UAAU,aAA3B,SACCuK,GAAcjC,KAAI,SAACqH,EAAKC,GAAN,OAEjB,cAACC,EAAA,EAAD,CAEAC,QAAS,IACTC,WAAW,OAHX,SAMA,sBAAe/P,UAAU,eAAzB,UACA,eAACqB,EAAA,EAAD,CAAQpB,MAAO,CAACQ,OAAO,QAAS0I,QAAQ,WAAW6G,UAAW,cAAC,KAAD,IAAgBrP,QAAS,kBApSzE,SAACiP,GAC3BnT,QAAQC,IAAIwN,IACZA,GAAO+F,OAAOL,EAAM,GACpBrF,GAAc0F,OAAOL,EAAO,GAC5BnV,EAAS,CACP2D,KAAM,mBACNE,GAAIsR,IAERzF,GAAUD,IA4RiGgG,CAAoBN,IAAjH,cAA2HjU,EAAE,WAA7H,QACA,uBACA,qBACEsE,MAAO,CAACO,MAAM,QAAQ2P,UAAW,UAAW1P,OAAQ,QAAQ8C,gBAAiB,SAC7ElD,IAAKsP,EACLpP,IAAI,qBANIoP,IALLA,QAqBP,qBAAK3P,UAAU,SAAf,SACC,0BAAU/G,MAAOoJ,GAAU4M,IAAI,UAE/B,oBAAIhP,MAAO,CAACO,MAAM,SAClB,qBAAKR,UAAU,MAAf,SACD,cAACqB,EAAA,EAAD,CAAQ8H,QAAQ,YAAYxI,QA1SnB,WAErBoE,IAAc,GAEQ,KAAlBwF,IAAyC,IAAjBT,GAAsC,KAAhBL,GAAkC,KAAZlL,GAAkC,KAAhBqL,GAA+B,KAATxL,IAAwB,KAATU,GAEhH,aAATV,IAA2C,IAApB4L,IAKT,UAAT5L,GAFPqN,KAQI5J,IAAMoL,KAAK,8DAA+D,CAC9ElL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAKVyC,IAAc,GACblD,IAAMoL,KAAK,wBAAyB,CACnClL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,MAqQ+ClE,KAAK,SAAS4B,UAAU,+BAA3E,SAA2GrE,EAAE,uECnf9G,I,OAAA,IAA0B,qCCU1B,SAASyU,KAEpB,IAAMC,EAASC,cAATD,KACA1M,EAAKC,cACX,EAA+BlJ,mBAAS,IAAxC,mBAAOmJ,EAAP,KAAiBC,EAAjB,KACQnI,EAAMD,cAANC,EAiBR,OAfAgB,qBAAU,WAAM,4CAEZ,gCAAA6I,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,YAAYiD,YAAM,QAAQ,KAAK,eAAeC,YAAQ,YAAY,QADrG,SAEiCC,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,YAGhDpD,EAAWkD,GARX,4CAFY,0DACZG,KAWL,IAIK,gCACI,qBAAKnH,UAAU,WAAf,SAEA,sBAAKA,UAAU,WAAWC,MAAO,CAAC+H,UAAW,SAA7C,UACA,uBAAMhI,UAAU,mBAAhB,cAAoC,qBAAKK,IAAKkQ,GAAS/P,MAAO,KAA9D,OACA,uBAAMR,UAAU,QAAhB,UAAyBrE,EAAE,qBAA3B,KAAmD0U,UAGnD,qBAAKrQ,UAAU,cAAcK,IAAI,wFAAwFE,IAAI,KAC7H,qBAAKP,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,SACA,qBAAKnI,UAAU,YAAYC,MAAO,CAACkB,UAAU,QAA7C,SACA,qBAAKnB,UAAU,kBAAf,SACA,qBAAKA,UAAU,cAAcC,MAAO,CAACC,QAAS,QAA9C,SAEK2D,EAAS2M,QAAO,SAACvX,GAClB,MAAa,KAAToX,GACMpX,EAAM0P,KAAKwG,WAAWsB,cAAcC,SAASL,EAAKI,gBAAoBxX,EAAM8P,MAAMoG,WAAWsB,cAAcC,SAASL,EAAKI,gBAAoBxX,EAAMgQ,KAAKkG,WAAWsB,cAAcC,SAASL,EAAKI,gBAAoBxX,EAAM2P,QAAQuG,WAAWsB,cAAcC,SAASL,EAAKI,eADzPxX,OACpB,KAGFqP,KAAI,SAACrP,EAAOsP,GAAR,OACP,cAAC,EAAD,CAEIjK,GAAIrF,EAAMqF,GACVkK,QAASvP,EAAMwP,QACf1J,KAAM9F,EAAMyP,KACZlK,MAAOvF,EAAM0P,KACb1F,QAAShK,EAAM4P,OACftK,QAAStF,EAAM2P,QACf5F,UAAW/J,EAAM6P,UACjBpK,MAAOzF,EAAM8P,MACbhG,SAAU9J,EAAM+P,SAChBlK,KAAM7F,EAAMgQ,KACZxK,MAAOxF,EAAMiQ,KAXRX,iB,OCvCV,SAASoI,KAGpB,IAAMhN,EAAKC,cACX,EAA+BlJ,mBAAS,IAAxC,mBAAOmJ,EAAP,KAAiBC,EAAjB,KAEMxJ,EADOD,cACKE,YAClB,EAA6BG,mBAAS,IAAtC,mBAAO8N,EAAP,KAAeoI,EAAf,KACQjV,EAAMD,cAANC,EACR,EAA+BjB,mBAAS,IAAxC,mBAAOmW,EAAP,KAAgBC,EAAhB,KACA,EAAiCpW,mBAAS,IAA1C,mBAAOqW,EAAP,KAAiBC,EAAjB,KACM9U,EAAWF,IAAM5C,WAAW6C,IAClC,EAAoDvB,mBAAS,IAA7D,6BAIAiC,qBAAU,WACe,OAAtBT,EAASA,UACR4U,EAAY,QACZE,EAAa,UAIbF,EAAY,YACZE,EAAa,YAGf,CAAC9U,IAEH2H,EAASyE,KAAI,SAACrP,EAAOsP,GAAR,OAAgB9L,QAAQC,IAAIzD,MA6BzC,OAXA0D,qBAAU,WACN,GAAa,OAATrC,EAAe,CACf,IAAM8C,EAAM9C,EAAK8C,IACjBwT,EAAWxT,GAEK,KAAZoL,GArBA,WAAM,4CAEV,gCAAAhD,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,YAAYiD,YAAM,UAAW,KAAM4B,GAAS3B,YAAQ,YAAY,SADnG,SAEiCC,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,YAGhDpD,EAAWkD,GARX,4CAFU,0DACVG,GAqBA8J,KACL,CAAC3W,EAAMkO,IAKN,gCACI,sBAAKxI,UAAU,WAAf,UACA,sBAAKA,UAAU,WAAWC,MAAO,CAAC+H,UAAW,SAA7C,UACA,uBAAMhI,UAAU,mBAAhB,cAAoC,qBAAKK,IAAKkQ,GAAS/P,MAAO,KAA9D,OACA,sBAAMR,UAAU,QAAhB,SAAyBrE,EAAE,gCAE3B,qBAAKqE,UAAU,YAAf,SACA,cAAC,IAAD,CAAMI,GAAG,eAAT,SACA,eAACiB,EAAA,EAAD,CAAQ8H,QAAQ,YAAhB,cAA8BxN,EAAE,qBAAhC,cAIA,sBAAKqE,UAAU,kBAAf,UACA,qBAAKA,UAAU,cAAcK,IAAI,uGAAuGE,IAAI,KAC5I,qBAAKP,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,SACA,qBAAKnI,UAAU,YAAYC,MAAO,CAACkB,UAAU,UAA7C,SACK0C,EAASyE,KAAI,SAACrP,EAAOsP,GAAR,OACb,sBAAKvI,UAAU,cAAf,UACG,sBAAKA,UAAU,UAAUC,MAAO,CAACiR,UAAU,OAAOC,UAAW,QAA7D,UACI,sBAAKnR,UAAU,gBAAgBC,MAAO,CAAC+H,UAAU,SAAjD,UACJ,mCAAqB,UAAf/O,EAAMyP,KAAmBmI,EAAWE,EAA1C,OACA,sBAAK/Q,UAAU,uBAAf,UACI,6BAA2B,OAAtB9D,EAASA,SAAoBjD,EAAM4P,OAAS5P,EAAM0P,OACvD,4BAAI1P,EAAMsF,aAEd,mBAAGyB,UAAU,iBAAb,eACgB,UAAf/G,EAAMyP,MACH,0CAAQzP,EAAM8P,MAAd,OACY,aAAf9P,EAAMyP,MACH,0CAAQzP,EAAM+P,SAAd,IAAyBrN,EAAE,gBAA3B,OAEJ,qBAAKqE,UAAU,kBAAf,SACK/G,EAAMgQ,UAGnB,qBAAK5I,IAAKpH,EAAMiQ,IAAI,GAAI3I,IAAI,KAC5B,qBAAKP,UAAU,WAAf,SACA,eAAC,IAAD,CAAMI,GAAE,uBAAkBnH,EAAMqF,IAAM2B,MAAO,CAACQ,OAAO,QAArD,cAA+D,cAAC,IAAD,CAAgBR,MAAO,CAACS,MAAM,QAAQQ,OAAO,kBAAkBN,aAAa,MAAMJ,MAAM,MAAMC,OAAO,kBAI5J,sBAAKT,UAAU,yBAAf,cAA0CrE,EAAE,SAA5C,IACqB,WAAhB1C,EAAM+U,OACP,sBAAKhO,UAAU,QAAQC,MAAO,CAACS,MAAM,WAArC,cAAmD/E,EAAE,UAArD,OACiB,cAAhB1C,EAAM+U,OACP,sBAAKhO,UAAU,QAAQC,MAAO,CAACS,MAAM,OAArC,cAA+C/E,EAAE,aAAjD,OACiB,gBAAhB1C,EAAM+U,OACP,sBAAKhO,UAAU,QAAQC,MAAO,CAACS,MAAM,SAArC,cAAiD/E,EAAE,eAAnD,OACiB,YAAhB1C,EAAM+U,OACP,sBAAKhO,UAAU,QAAQC,MAAO,CAACS,MAAM,OAArC,cAA+C/E,EAAE,WAAjD,OARJ,SAxB+B4M,gBC3FpC,WAA0B,qCCa1B,SAAS6I,KAGpB,IAAMzN,EAAKC,cACX,EAA8BlJ,mBAAS,IAAvC,mBAAO2W,EAAP,KAAgBC,EAAhB,KAEMhX,EADOD,cACKE,YAClB,EAA6BG,mBAAS,IAAtC,mBAAO8N,EAAP,KAAeoI,EAAf,KACA,EAA+BlW,mBAAS,IAAxC,mBAAO6W,EAAP,KAAgBC,EAAhB,KACA,EAA+B9W,mBAAS,IAAxC,mBAAO+W,EAAP,KAAgBC,EAAhB,KACQ/V,EAAMD,cAANC,EACFO,EAAWF,IAAM5C,WAAW6C,IAClC,EAA+BvB,mBAAS,IAAxC,mBAAOiX,EAAP,KAAgBC,EAAhB,KAIAjV,qBAAU,WACgB,OAArBT,EAASA,UACVsV,EAAY,QACZE,EAAY,cAGZF,EAAY,YACZE,EAAY,eAEd,CAACxV,IAsCH,OAZAS,qBAAU,WACN,GAAa,OAATrC,EAAe,CACf,IAAM8C,EAAM9C,EAAK8C,IACjBwT,EAAWxT,GAEK,KAAZoL,GA3BA,WAAM,4CAGV,gCAAAhD,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,UAAUiD,YAAM,WAAY,KAAM4B,IADrE,SAEiC1B,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,SAC5CzK,QAAQC,IAAIgJ,EAAIpH,GAAI,OAAQoH,EAAIwB,WAG7BF,EAAkB9I,OAAS,IAC9BzB,QAAQC,IAAIsK,GACZsK,EAAWtK,EAAkB,GAAG1I,IAChCsT,EAAY5K,EAAkB,GAAG6K,eAZrC,4CAHU,0DAEV1K,GA0BA8J,KACL,CAAC3W,EAAMkO,IAMN,gCACI,qBAAKxI,UAAU,WAAf,SACA,sBAAKA,UAAU,WAAWC,MAAO,CAAC+H,UAAW,SAA7C,UACA,uBAAMhI,UAAU,mBAAhB,cAAoC,qBAAKK,IAAKkQ,GAAS/P,MAAO,KAA9D,OACA,sBAAMR,UAAU,QAAhB,SAAyBrE,EAAE,gCAG3B,qBAAKqE,UAAU,kBAAf,SACA,sBAAKA,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,UACA,qBAAKnI,UAAU,cAAcK,IAAKyR,GAAavR,IAAI,KACnD,qBAAKP,UAAU,YAAYC,MAAO,CAACkB,UAAU,UAA7C,SACCwQ,EAASrJ,KAAI,SAACrP,EAAOsP,GAAR,OACT,qBAAKvI,UAAU,cAAf,SACG,sBAAKA,UAAU,UAAUC,MAAO,CAACiR,UAAU,OAAOC,UAAW,QAA7D,UACI,sBAAKnR,UAAU,gBAAgBC,MAAO,CAAC+H,UAAU,SAAjD,UACA,+BAAmB,aAAd/O,EAAM8F,KAAqB0S,EAAWF,EAA3C,OACJ,6BAAKtY,EAAM8Y,SACX,qBAAK/R,UAAU,uBAAf,SACI,6BAAK/G,EAAM+Y,YAEf,sBAAKhS,UAAU,kBAAf,UACCrE,EAAE,SADH,KACe1C,EAAMgZ,OADrB,cAGgB,aAAfhZ,EAAM8F,MACP,sBAAKiB,UAAU,kBAAkBC,MAAO,CAACS,MAAM,eAA/C,UACC/E,EAAE,mBADH,KACyB1C,EAAMiG,QAD/B,cAGgB,aAAfjG,EAAM8F,MACP,mBAAGiB,UAAU,iBAAiBC,MAAO,CAACS,MAAM,eAA5C,eAEgB,aAAfzH,EAAM8F,MACP,sBAAKiB,UAAU,YAAYC,MAAO,CAACS,MAAM,eAAzC,UACC/E,EAAE,wBADH,KAC8B1C,EAAMiZ,WADpC,OAjBI,KAkBqE,aAAfjZ,EAAM8F,MAChE,sBAAKiB,UAAU,YAAYC,MAAO,CAACS,MAAM,eAAzC,cAA2D/E,EAAE,sBAA7D,KAAsF1C,EAAMkZ,SAA5F,OAEgB,aAAflZ,EAAM8F,MACP,sBAAKiB,UAAU,kBAAf,UACCrE,EAAE,mBADH,KACyB1C,EAAMiG,QAD/B,cAGgB,aAAfjG,EAAM8F,MACP,mBAAGiB,UAAU,iBAAb,eAEgB,aAAf/G,EAAM8F,MACP,sBAAKiB,UAAU,YAAf,UACCrE,EAAE,wBADH,KAC8B1C,EAAMiZ,WADpC,OAGgB,aAAfjZ,EAAM8F,MACP,sBAAKiB,UAAU,YAAf,cAA8BrE,EAAE,sBAAhC,KAAyD1C,EAAMkZ,SAA/D,UAKR,qBAAK9R,IAAKpH,EAAMmZ,KAAM7R,IAAI,KAC1B,qBAAKP,UAAU,WAAf,SACA,eAAC,IAAD,CAAMI,GAAE,uBAAkBnH,EAAMqF,IAAM2B,MAAO,CAACQ,OAAO,QAArD,cAA+D,cAAC,IAAD,CAAgBR,MAAO,CAACS,MAAM,QAAQQ,OAAO,kBAAkBN,aAAa,MAAMJ,MAAM,MAAMC,OAAO,eAGrK,sBAAKT,UAAU,SAAf,UACCrE,EAAE,UADH,MACiB0V,EADjB,IAC0B,uBACzB1V,EAAE,iBAFH,KAEuB1C,EAAMiO,YA/CWqB,gB,OC9EpC,SAAS8J,KAGpB,IAAM1O,EAAKC,cACX,EAA+BlJ,mBAAS,IAAxC,mBAAOmJ,EAAP,KAAiBC,EAAjB,KACA,EAA2B3K,IAA3B,mBAAesB,GAAf,KAAQ6X,KAAR,MAqDA,OAdA3V,qBAAU,WAAM,4CAER,gCAAA6I,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,YAAYiD,YAAM,QAAQ,KAAK,UAAUC,YAAQ,YAAY,QADhG,SAEiCC,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,YAEhDpD,EAAWkD,GAPX,4CAFQ,0DACRG,KAUD,IAIH,gCACG,qBAAKnH,UAAU,WAAf,SACC,sBAAKA,UAAU,WAAWC,MAAO,CAAC+H,UAAW,SAA7C,UACA,uBAAMhI,UAAU,mBAAhB,cAAoC,qBAAKK,IAAKkQ,GAAS/P,MAAO,KAA9D,OACA,sBAAMR,UAAU,QAAhB,yCAGA,qBAAKA,UAAU,kBAAf,SAEA,qBAAKA,UAAU,YAAf,SACK6D,EAASyE,KAAI,SAACrP,EAAM2W,GAAP,OACb,sBAAK5P,UAAU,cAAf,UACO,sBAAKA,UAAU,UAAUC,MAAO,CAACiR,UAAU,OAAOC,UAAW,QAA7D,UACA,sBAAKnR,UAAU,gBAAf,UACJ,6BAAK/G,EAAMyP,OACX,sBAAK1I,UAAU,uBAAf,UACI,6BAAK/G,EAAM0P,OACX,4BAAI1P,EAAMsF,aAEd,mBAAGyB,UAAU,iBAAb,eACgB,UAAf/G,EAAMyP,MACH,0CAAQzP,EAAM8P,MAAd,OACY,aAAf9P,EAAMyP,MACH,0CAAQzP,EAAM+P,SAAd,oBAEJ,qBAAKhJ,UAAU,kBAAf,SACK/G,EAAMgQ,UAGnB,qBAAK5I,IAAKpH,EAAMiQ,IAAI,GAAI3I,IAAI,KAC5B,eAAC,IAAD,CAAMH,GAAE,uBAAkBnH,EAAMqF,IAAM2B,MAAO,CAACQ,OAAO,QAArD,cAA+D,cAAC,IAAD,CAAgBR,MAAO,CAACS,MAAM,QAAQQ,OAAO,kBAAkBN,aAAa,MAAMJ,MAAM,MAAMC,OAAO,gBAKnK,sBAAKT,UAAU,yBAAf,UACA,cAACqB,EAAA,EAAD,CAAQ/C,GAAG,KAAKqC,QAAS,kBAvFnB,SAACrC,EAAGsR,GAAU,4CAGzB,4BAAApK,EAAA,6DACM+M,EAAgB7M,YAAI/B,EAAI,WAAYrF,GAD1C,SAEMkU,YAAUD,EAAe,CAC3BvE,MAAO,gBAHX,OAKEvT,EAAS,CACP2D,KAAM,mBACNE,GAAIA,IAERwF,EAAWD,GACXpH,QAAQC,IAAImH,GAVZ,4CAHyB,sBAC7BA,EAASoM,OAAOL,EAAO,GADM,mCAEzB6C,GAqFoCC,CAAWzZ,EAAMqF,GAAGsR,IAAQ3P,MAAO,CAACS,MAAM,QAAQmH,SAAS,UAAUI,WAAW,OAA/G,uBACA,cAAC5G,EAAA,EAAD,CAAQ/C,GAAG,MAAMqC,QAAS,kBAvEf,SAACrC,EAAGsR,GAAU,4CAI9B,4BAAApK,EAAA,6DACMmN,EAAgBjN,YAAI/B,EAAI,WAAYrF,GAD1C,SAEMkU,YAAUG,EAAe,CAC3B3E,MAAO,cAHX,OAMEvT,EAAS,CACP2D,KAAM,mBACNE,GAAIA,IAERwF,EAAWD,GACXpH,QAAQC,IAAImH,GAXZ,4CAJ8B,sBAC9BA,EAASoM,OAAOL,EAAO,GACvBnT,QAAQC,IAAImH,GAFkB,mCAG9B+O,GAoEqCC,CAAY5Z,EAAMqF,GAAGsR,IAAQ3P,MAAO,CAACS,MAAM,MAAMmH,SAAS,UAAUI,WAAW,OAA/G,4BA1BsChP,EAAMqF,c,+EC4E1CwU,OAnJf,YAAiG,IAA3EhS,EAA0E,EAA1EA,KAAMiS,EAAoE,EAApEA,OAAQ3U,EAA4D,EAA5DA,KAAMf,EAAsD,EAAtDA,MAAO2V,EAA+C,EAA/CA,OAAQC,EAAuC,EAAvCA,YAAaC,EAA0B,EAA1BA,UAAUC,EAAgB,EAAhBA,OAAQC,EAAQ,EAARA,MAEtF,EAAwB1Y,mBAASuY,GAAjC,mBAAO7H,EAAP,KAAaiI,EAAb,KACM1P,EAAKC,cACP/I,EAAUC,cACd,EAA0BJ,mBAAS,IAAnC,mBAAO4Y,EAAP,KAAaC,EAAb,KACMC,EAASJ,EACTK,EAAON,EACb,EAA+BzY,mBAAS,IAAxC,mBAAOgZ,EAAP,KAAgBC,EAAhB,KACA,EAA6BjZ,mBAAS,IAAtC,mBAAOkZ,EAAP,KAAeC,EAAf,KACM3X,EAAWF,IAAM5C,WAAW6C,IAGlCU,qBAAU,WACiB,OAAtBT,EAASA,UACVyX,EAAY,kBACZE,EAAW,iBAGXF,EAAY,qBACZE,EAAW,wBAEb,CAAC3X,IAIH,IAAM4X,EAAW,SAACpU,GAClBA,EAAME,iBAEM,MAARwL,EACDA,EAAKlN,OAAS,GAAc,OAAT4C,EACL,OAATA,EACuB,OAAtB5E,EAASA,SACVqX,EAAU,+CAGVA,EAAU,iDAGa,OAAtBrX,EAASA,SACVqX,EAAU,kBAGZA,EAAU,uBAIhBQ,EAAW3I,EAAMtK,EAAMiS,EAAQ,IAAIjF,KAAM1P,EAAMf,EAAO2V,GACtDK,EAAQ,IACK,SAATjV,GAA4B,UAATA,GACvB8U,KAIyB,OAAtBhX,EAASA,SACVqX,EAAU,oBAGZA,EAAU,0BAINQ,EAAa,SAAC3I,EAAMtK,EAAMiS,EAAQjF,EAAM1P,EAAMf,EAAO2V,GAEzD,OAAQ5U,GAER,IAAK,UAED,IACewP,YAAOjH,YAAWhD,EAAI,YAAa,CAC1CgF,KAAM7H,EACNkT,KAAM5I,EACN6I,OAAQlB,EACR/T,UAAW8O,EACXoG,MAAO7W,EACP8W,OAAQnB,EACRG,OAAQ,aACTzV,MAAK,WACN7C,EAAQoC,KAAR,uBAA6B8V,OAC3B,MAAOhL,GACPtL,QAAQuB,MAAM,0BAA2B+J,GAGrD,MAEA,IAAK,OACL,IAAK,IACUqM,EADX,uCACJ,4BAAA5O,EAAA,6DACQ6O,EAAgB3O,YAAI/B,EAAI8P,EAAMD,GADtC,SAGQhB,YAAU6B,EAAe,CAC7BL,KAAM5I,IAJV,2CADI,qDASJgJ,IAAc1W,MAAK,WACjB7C,EAAQoC,KAAR,uBAA6B8V,OAE7B,MAAOhL,GACPtL,QAAQuB,MAAM,0BAA2B+J,GAE3C,MAGA,IAAK,QAEL,IACiB6F,YAAOjH,YAAWhD,EAAI,WAAY,CACzCgF,KAAM7H,EACNkT,KAAM5I,EACNkJ,MAAOd,EACPT,OAAQA,EACR/T,UAAW8O,EACXoG,MAAO7W,EACP8W,OAAQnB,EACRG,OAAQ,YACTzV,MAAK,WACN7C,EAAQoC,KAAR,uBAA6B8V,OAC3B,MAAOhL,GACPtL,QAAQuB,MAAM,0BAA2B+J,MAQnD,OACA,sBAAK/H,UAAU,WAAf,UACE,qBAAKA,UAAU,uBACf,uBAAM8T,SAAUA,EAAhB,UACA,0BACI9T,UAAU,wBACV/G,MAAOmS,EACPpK,SAAU,SAAC+G,GAAOsL,EAAQtL,EAAE9G,OAAOhI,OAAQsa,EAAU,OAE9C,KAAVD,GAAgB,sBAAKtT,UAAU,QAAf,cAAyBsT,EAAzB,OACjB,cAACjS,EAAA,EAAD,CAAQ8H,QAAQ,YAAYxI,QAASmT,EAArC,SACU,SAAT1V,EAAkBsV,EAAYE,OAG/B,qBAAK5T,UAAU,2BCvJJ,OAA0B,sCC8M1BuU,OAlMf,SAASA,EAAT,GAAuH,IAArGjW,EAAoG,EAApGA,GAAGkW,EAAiG,EAAjGA,YAAYC,EAAqF,EAArFA,QAAQjM,EAA6E,EAA7EA,QAAQkM,EAAqE,EAArEA,UAAUC,EAA2D,EAA3DA,KAAK7T,EAAsD,EAAtDA,KAAKiS,EAAiD,EAAjDA,OAAO1V,EAA0C,EAA1CA,MAAM2V,EAAoC,EAApCA,OAAQG,EAA4B,EAA5BA,OAAOC,EAAqB,EAArBA,MAAOwB,EAAc,EAAdA,YAGxG,EAA6Bla,mBAAS,IAAtC,mBAAOma,EAAP,KAAeC,EAAf,KACA,EAAiCpa,oBAAS,GAA1C,mBAAOqa,EAAP,KAAiBC,EAAjB,KACA,EAAmCta,oBAAS,GAA5C,mBAAOua,EAAP,KAAkBC,EAAlB,KACMC,EAAQ,IAAIC,KAAKC,eAAe,QAAS,CAAEC,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAYvb,OAAY,IAAL0a,GACtGhR,EAAKC,cAELtJ,EADOD,cACKE,YACZiB,EAAWC,cACbZ,EAAUC,cACd,EAAoBY,cAAZC,EAAR,EAAQA,EACR,GADA,EAAWtC,KACoBqB,mBAAS,KAAxC,mBAAgBiZ,GAAhB,WACA,EAA6BjZ,mBAAS,IAAtC,mBAAemZ,GAAf,WACM3X,EAAWF,IAAM5C,WAAW6C,IAGlCU,qBAAU,WACiB,OAAtBT,EAASA,UACVyX,EAAY,kBACZE,EAAW,iBAGXF,EAAY,qBACZE,EAAW,wBAEb,CAAC3X,IAIHS,qBAAU,WAAM,4CAEZ,gCAAA6I,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,WAAWiD,YAAM,QAAQ,KAAMtI,IADlE,SAEiCwI,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,YAEhDzK,QAAQC,IAAIsK,GACZ8N,EAAW9N,GARX,4CAFY,0DACZyO,KAaD,CAACja,IAKJiB,QAAQC,IAAIyY,GAGR,IAAMO,EAAe,WACnBR,GAAc,GACdF,GAAa,IACM,IAAfC,GACJC,GAAc,IAGVS,GAAgB,WACpBX,GAAa,GACbE,GAAc,IACI,IAAdH,GACJC,GAAa,IAGTY,GAAgB,WAAM,4CAoB1B,sBAAApQ,EAAA,sEACMqQ,YAAUnQ,YAAI/B,EAAIwP,EAAQ7U,IADhC,4CApB0B,sBAE1BiE,uBAAa,CACXC,QAAS,iDACTC,QAAS,CACP,CACEC,MAAO,MACP/B,QAAS,kBAPW,0CAOHmV,GAAgBpY,MAAK,WAElC7C,EAAQoC,KAAR,uBAA6B8V,SAKnC,CACErQ,MAAO,UAWf,OADAjG,QAAQC,IAAI4B,EAAG6U,EAAOsB,EAAQjM,EAAQkM,EAAU5T,EAAKiS,EAAO1V,EAAM2V,EAAOI,GAErE,8BACK,sBAAcpT,UAAS,kBAAsB,YAATmT,EAAqB,SAAW,IAApE,UACP,qBAAKnT,UAAU,0BAAf,SACE,qBAAKK,IAAK0V,GAAM9V,MAAO,CAACO,MAAM,YAEhC,sBAAKR,UAAU,qBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,iBAAf,SAAiC0U,IACjC,sBAAKzU,MAAO,CAACS,MAAM,kBAAnB,cAAwCyU,EAAxC,UAGF,sBAAKlV,MAAO,CAAC+H,UAAU,UAAWC,WAAY,MAAMJ,SAAU,SAA9D,gBAA4EW,MAC1EuM,GAAa,qBAAK/U,UAAU,eAAf,SAA+ByU,IAC7CM,GACC,cAAC,GAAD,CACApU,QAAS,kBACPgV,MAEF7U,KAAQA,EACRmS,YAAewB,EACfrW,KAAO,OACPf,MAASA,EACT2V,OAAUA,EACVD,OAAUA,EACVG,UAAayC,GACbxC,OAAUA,EACVC,MAAS9U,EACTsW,YAAeA,IAEjB,sBAAK5U,UAAU,kBAAf,UAEI,qBACEA,UAAU,iBACVW,QAAS,kBACP+U,KAHJ,SAMG/Z,EAAE,cAGN6M,IAAYwK,GACX,qBACEhT,UAAU,iBACVW,QAAS,kBACRgV,MAHH,SAMGha,EAAE,cAGN6M,IAAYwK,GACX,qBACEhT,UAAU,iBACVW,QAAS,kBAAMiV,MAFjB,SAIGja,EAAE,gBAIRsZ,GACC,cAAC,GAAD,CACAnU,KAAQA,EACR1C,KAAO,QACPf,MAASA,EACT0V,OAAUA,EACVC,OAAUA,EACVE,UAAawC,EACbvC,OAAS,UACTC,MAAS9U,EACTsW,YAAeA,IAGhBC,EAAQ3W,OAAS,GAChB,qBAAK8B,UAAU,UAAf,SACI6U,EAAQvM,KAAI,SAACrP,EAAMsP,GAAP,OACd,cAACgM,EAAD,CAEAjW,GAAMrF,EAAMqF,GAEZkW,YAAeA,EACfC,QAAWxb,EAAM+a,KACjBxL,QAAWvP,EAAMkb,OACjBO,UAAazb,EAAM0P,KACnBgM,KAAQ1b,EAAM+F,UAAUgX,QACxBlV,KAAQxG,GAAQA,EAAK8G,YACrB2R,OAAUA,EACV1V,MAASA,EACT2V,OAAUA,EACVG,OAAS,UACTC,MAAS9U,EACTsW,YAAeA,GAdRrM,aA3EIjK,MCocR2X,OAzhBf,WAEI,IAAIC,EAAQ,IAAIpI,KACV5D,EAAS,GACf,EAA8BxP,mBAAS,IAAvC,mBAAOyb,EAAP,KAAeC,EAAf,KACA,EAAwB1b,mBAAS,IAAjC,mBAAO2b,EAAP,KAAWlM,EAAX,KACA,EAAiCzP,mBAAS,IAA1C,mBAAO4b,EAAP,KAAiBC,EAAjB,KACA,EAAuB7b,oBAAS,GAAhC,mBAAO8b,EAAP,KAAYC,EAAZ,KACA,EAAiC/b,mBAAS,IAAIoT,KAAKoI,EAAMQ,QAAQR,EAAMS,UAAY,KAAnF,mBAAOhY,EAAP,KAAiBiY,EAAjB,KACA,EAA6Blc,mBAAS,IAAIoT,KAAKoI,EAAMQ,QAAQR,EAAMS,aAAnE,mBAAO/X,EAAP,KAAeiY,EAAf,KACMlT,EAAKC,cACX,EAA+BlJ,mBAAS,IAAxC,mBAAOmJ,EAAP,KAAiBC,EAAjB,KAEMxJ,EADOD,cACKE,YAClB,EAAuBG,mBAAS,IAAhC,mBAAOsY,EAAP,KAAcxJ,EAAd,KACA,EAAyB9O,mBAAS,IAAlC,mBAAO2C,EAAP,KAAakH,GAAb,KACA,GAAkC7J,mBAAS,GAA3C,qBAAOoc,GAAP,MAAkBC,GAAlB,MACA,GAA8Brc,mBAAS,GAAvC,qBAAOwE,GAAP,MAAgB8X,GAAhB,MACA,GAAgCtc,mBAAS,IAAzC,qBAAOuc,GAAP,MAAiBC,GAAjB,MACA,GAA4Bxc,mBAAS,IAArC,qBAAOyc,GAAP,MAAeC,GAAf,MACM9Y,GAAOgS,cAAPhS,GACF+Y,GAAW,IAAIvJ,KACnBuJ,GAASX,QAAQW,GAASV,UAAY,GACtC,IAAMnb,GAAWC,cACjB,GAA+Bf,mBAAS,IAAxC,qBAAO6W,GAAP,MAAgBC,GAAhB,MACA,GAA6B9W,mBAAS,IAAtC,qBAAO4c,GAAP,MAAeC,GAAf,MACA,GAAsC7c,mBAAS,IAA/C,qBAAO8c,GAAP,MAAoBC,GAApB,MACMvb,GAAWF,IAAM5C,WAAW6C,IAClC,GAAoBP,cAAZC,GAAR,GAAQA,EAAR,GAAWtC,KAGXsD,qBAAU,WACiB,OAAtBT,GAASA,UACVqb,GAAW,YACX/F,GAAY,QACZiG,GAAe,wBAGfF,GAAW,YACX/F,GAAY,YACZiG,GAAe,mCAEjB,CAACvb,KAGH,IAAMwb,GAAY,IAAItC,KAAKC,eAAe,QAAS,CAAEC,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAYvb,OAAO0E,GAC1GgZ,GAAU,IAAIvC,KAAKC,eAAe,QAAS,CAAEC,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAAYvb,OAAO2E,GAE9GjC,qBAAU,WACN,GAAa,OAATrC,EAAe,CACjB,IAAM8C,EAAM9C,EAAK8C,IACjBoM,EAAMpM,GACN,IAAMC,EAAQ/C,EAAK+C,MACnBkH,GAASlH,MAER,CAAC/C,IAGR,IAKMsd,GAAiB,CACnBjZ,UAAWA,EACXC,QAASA,EACT2J,IAAK,aAITsP,2BAAgB,WAEM,UAAlBhU,EAAS6E,MACTqO,GAAalT,EAASkF,OACtBiO,GAAW,KAGXD,GAAalT,EAASmF,UACtBgO,GAAWnT,EAASkF,MAAQlF,EAASmF,aAEtC,CAACnF,IAGFgU,2BAAgB,WAEd,IAoBEC,EApBwB,SAASC,EAAOC,GAK1C,IAJA,IAAIjK,EAAMgK,EAAME,QAAS9C,EAAQ,GAC7B+C,EAAQ,EACRC,EAAY,EAETpK,EAAIqK,eAAeJ,IAClB7C,EAAMlY,KAAK8Q,EAAI9T,OAAO,eACtB8T,EAAIsK,IAAI,EAAG,QACXH,GAAgBrU,EAASmF,SACzBmP,EAAYtU,EAASkF,MAAQmP,EAC7Bzb,QAAQC,IAAIwb,GACZnB,GAAamB,GACblB,GAAWmB,GAEf,OAAOhD,EAMEmD,CAHHC,KAAO5Z,GACT4Z,KAAO3Z,IAGjB2X,EAAauB,GACbrb,QAAQC,IAAIob,KAAa,CAACnZ,EAAWC,IAKvCjC,qBAAU,WAAM,4CACZ,8BAAA6I,EAAA,6DACUC,EAASC,YAAI/B,EAAI,WAAYrF,IADvC,SAE0BqH,YAAOF,GAFjC,cAEU+S,EAFV,OAGI1U,EAAW0U,EAAQtR,QAHvB,kBAIWsR,EAAQtR,QAJnB,4CADY,uBAAC,WAAD,gCAQRC,GAAazJ,MAAK,SAACzE,GAIf,GAAkB,aAAfA,EAAMyP,KAAqB,CAE1B,IAAI+P,EAAa,GACjBhc,QAAQC,IAAIzD,EAAMyf,aAGM,MAArBzf,EAAMyf,cACTD,EAAcxf,EAAMyf,YAAYpQ,KAAI,SAAAqQ,GAAU,OAAI,IAAI7K,KAAK6K,OAG3DvB,GAAUqB,GAId,IAAK,IAAI5a,EAAI,EAAGA,EAAI5E,EAAMiQ,IAAIhL,OAAQL,IAClCqM,EAAOjN,KAAK,CACR2b,SAAU3f,EAAMiQ,IAAIrL,GACpBgb,UAAW5f,EAAMiQ,IAAIrL,KAEnBA,IAAO5E,EAAMiQ,IAAIhL,OAAS,GAE9BiM,EAAUD,QAIrB,IAGP2N,2BAAgB,WAAQzB,EAAWC,GAAMI,GAAQ,KAAU,CAACJ,IAG5D,OAA4Bld,IAA5B,qBAAQqB,GAAR,MAAQA,OAAQC,GAAhB,MACIqe,GAAY,OAAGte,SAAH,IAAGA,QAAH,EAAGA,GAAQ0D,OACrB6a,GAAY,GACZC,GAAW,GACbC,GAAkB,GAClBC,GAAW,OAhKI,8CAubf,gCAAA1T,EAAA,6DACUiB,EAAIC,YAAMC,YAAWhD,EAAI,YAAYiD,YAAM,SAAS,KAAMtI,IAAIuI,YAAQ,YAAY,QAD5F,SAEiCC,YAAQL,GAFzC,OAEUM,EAFV,OAGUC,EAAoB,GAC1BD,EAAcE,SAAQ,SAACvB,GACvBsB,EAAkB/J,KAAlB,aAAyBqB,GAAIoH,EAAIpH,IAAOoH,EAAIwB,YAEhDzK,QAAQC,IAAIsK,EAAkB9I,QAC9BgZ,GAAYlQ,GARZ,4CAvbe,sBAocnB,OAfJ6Q,2BAAgB,YArbO,oCAqbCsB,KAAkB,CAAC3d,KAgBnC,sBAAKwE,UAAU,WAAf,UAEA,qBAAKA,UAAU,WAAf,SAEA,sBAAKA,UAAU,WAAWC,MAAO,CAAC+H,UAAW,SAA7C,UACI,uBAAMhI,UAAU,mBAAhB,cAAoC,qBAAKK,IAAKkQ,GAAS/P,MAAO,KAA9D,OACA,sBAAMR,UAAU,QAAhB,SAA2C,aAAlB6D,EAAS6E,KAAsB6I,GAAY+F,UAKxE,sBAAKtX,UAAU,WAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,sBAAKA,UAAU,2BAAf,UACI,6BAA2B,OAAtB9D,GAASA,SAAoB2H,EAASgF,OAAShF,EAAS8E,QACnD,IAAT6N,GACD,cAAC,KAAD,CAAc4C,MAAOjD,SAI7B,qBAAKnW,UAAU,OAEpB,sBAAKA,UAAU,qBAAf,UACA,uBACS,6BAA2B,OAAtB9D,GAASA,SAAoB2H,EAASiF,UAAYjF,EAAS+E,UAChE,qBAAK5I,UAAU,oBAAf,SACA,4BAA0B,OAAtB9D,GAASA,SAAoB2H,EAASsK,cAAgBtK,EAASqK,gBAGnE,sBAAKlO,UAAU,wBAAf,UACmB,aAAlB6D,EAAS6E,OAAgC,IAAT8N,GACjC,gCACA,cAAC,aAAD,CACA6C,QAAShC,GACTiC,OAAQ,CAAC1B,IACT5W,SA/aO,SAACsY,GACpB1C,EAAa0C,EAAOC,UAAU5a,WAC9BkY,EAAWyC,EAAOC,UAAU3a,UA8ahB4a,cAAerC,KALf,OASA,sBAAKnX,UAAU,sBAAf,UACC6D,EAASoF,KAEV,0CAAQ6N,GAAR,IAAsC,aAAlBjT,EAAS6E,KAAsB8O,GAAe,GAAlE,OACmB,aAAlB3T,EAAS6E,MAAuB,sBAAK1I,UAAU,wBAAf,cAAyCrE,GAAE,oBAA3C,KAAkEuD,GAAlE,YAA8E,sBAAKc,UAAU,cAAf,cAA+BrE,GAAE,kHAAjC,OAA9E,QAC1C,cAAC0F,EAAA,EAAD,CAAQrB,UAAU,UAAUC,MAAO,CAACsD,gBAAgB,UAAWrC,OAAQ,kBAAkBT,OAAO,UAAWE,QA/U9F,WACpB,IAAM8Y,EAAY3L,KAAKC,MAEvBtR,QAAQC,IAAIoc,IAEZ,IAAK,IAAIjb,EAAI,EAAGA,EAAIib,GAAcjb,IAChCob,GAAmBze,GAAOqD,GAAGS,GAAIoS,SAASpS,IAExC,GAAIhE,GAAQwe,GAAe,GAAwB,GAAnBG,GAA0B,CAAC,IAIxC9R,EAJuC,uCAItD,kCAAA3B,EAAA,6DACMC,EAASC,YAAI/B,EAAI,WAAYrF,IADnC,SAEsBqH,YAAOF,GAF7B,OAEM+S,EAFN,OAGMxR,EAAoB,GAEtBwR,EAAQ5a,UACZnB,QAAQC,IAAI,iBAAkB8b,EAAQtR,QACtCF,EAAkB/J,KAAKub,EAAQtR,QAC/BzK,QAAQC,IAAIsK,EAAkB,GAAG0B,MACC,gBAA/B1B,EAAkB,GAAGgH,OAExBvR,QAAQC,IAAI,QACZD,QAAQC,IAAIsK,EAAkB,GAAG0R,aACI,aAA9B1R,EAAkB,GAAG0B,MAEhBgR,EAAQ,QAC2BpX,GAApC0E,EAAkB,GAAG0R,aACxBgB,EAAQ1S,EAAkB,GAAG0R,YAAYiB,MAAK,SAAAC,GAAC,OAAItD,EAAU5F,SAASkJ,MACtEnd,QAAQC,IAAIgd,KAGZA,GAAQ,EACRjd,QAAQC,IAAIgd,KAEC,IAAVA,EACHG,IAGIhY,IAAM+F,QAAQ,0JAAsJ,CAChK7F,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAKtBuX,KAIAhY,IAAM+F,QAAQ,8DAA0D,CACpE7F,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,MAQdT,IAAM+F,QAAQ,8DAA0D,CACpE7F,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGlB7F,QAAQC,IAAI,sBArEZ,2CAJsD,qDAGtDyK,IA2EJ,IAAM0S,EAAkB,WAEtB,IAAMvc,EAAQC,YAAIC,eAChBZ,YAAIa,YAAMH,EAAD,WAAmBI,MAAK,SAACC,GAClC,GAAIA,EAASC,SAET,IAAI,IAAIC,KADRpB,QAAQC,IAAIiB,EAASG,OACRH,EAASG,MACtBib,GAAU9b,KAAK,CAACY,EAAGF,EAASG,MAAOD,UAInCpB,QAAQC,IAAI,yGACZwc,GAAS,eAEVxb,MAAK,WACJjB,QAAQC,IAAI+c,GAEZ,IAAK,IAAIK,EAAI,EAAGA,EAAIf,GAAU7a,OAAQ4b,IAAK,CAEvC,IAAI,IAAIjc,KAAKkb,GAAUe,GAAG,GAC1Bd,GAAS/b,KAAK,CAACY,EAAGkb,GAAU,GAAG,GAAIlb,KACnCpB,QAAQC,IAAIsc,QAGjBtb,MAAK,WAER,GAAiB,cAAbwb,IAEJ,IAAK,IAAIa,EAAI,EAAGA,EAAIf,GAAS9a,OAAQ6b,IAIjC,GAFAtd,QAAQC,IAAIsc,GAASe,GAAG,IAErBf,GAASe,GAAG,KAAOzb,GACtB,CACI7B,QAAQC,IAAIsc,GAASe,GAAG,GAAG/a,WAC3B,IAAIgb,EAAYP,EAAYT,GAASe,GAAG,GAAG/a,UAG3C,GAFAvC,QAAQC,IAAIwc,GAASO,EAAUO,GAE1BA,EAAY,KAGb,GADAvd,QAAQC,IAAIsc,GAASe,GAAG,GAAGhb,MACC,aAAxBia,GAASe,GAAG,GAAGhb,KAAsB,CAEzC,IAAM2a,EAAQV,GAASe,GAAG,GAAGlb,SAAS8a,MAAK,SAAAC,GAAC,OAAGtD,EAAU5F,SAASkJ,MAElEnd,QAAQC,IAAIgd,IAEC,IAAVA,IACHR,GAAW,sDAGLA,GAAU,gDAEbA,GAAS,aAGdA,GAAS,UAElBnb,OAAM,SAACC,GACRvB,QAAQuB,MAAMA,MAEXC,SAAQ,WAIX,OAFAxB,QAAQC,IAAIwc,IAEJA,IAER,IAAK,OAELe,IAFA,IAGiBA,EAAT,WACA,IAAMtW,EAAKnG,cACXhB,YAAIe,YAAIoG,EAAI,SAAWqP,EAAS,IAAM1U,IAAK,CACvCA,GAAIA,GACJC,QAASsF,EAAS+E,QAClBpK,MAAOqF,EAAS8E,KAChBlK,MAAOoF,EAASqF,IAChBxK,MAAOoY,GACPnY,UAAW+Y,GACX9Y,QAAS+Y,GACT9Y,SAAUyX,EACVxX,KAAM+E,EAASoF,KACflK,KAAM8E,EAAS6E,KACf1J,UAAWya,EACXxa,QAAS+T,EACT9T,QAASA,MAIjBzE,GAAS,CACL2D,KAAM,gBACNC,KAAM,CACFC,GAAIA,GACJC,QAASsF,EAAS+E,QAClBpK,MAAOqF,EAAS8E,KAChBlK,MAAOoF,EAASqF,IAChBxK,MAAOoY,GACP5X,QAASA,GACTP,UAAW+Y,GACX9Y,QAAS+Y,GACT9Y,SAAUyX,EACVxX,KAAM+E,EAASoF,KACflK,KAAM8E,EAAS6E,KACf1J,UAAWya,EACXxa,QAAS+T,KAIjB,MAEA,IAAK,2CAEDnR,IAAM+F,QAAQ,wFAA0F,CACpG7F,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAIlB,MAEA,IAAK,gDAEDT,IAAM+F,QAAQ,iHAAmH,CAC7H7F,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,cAanBhI,EAYMwe,GAAe,EAExBjX,IAAM7D,MAAM,mIAAkI,CAC1I+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAMdT,IAAM7D,MAAM,2IAAoI,CAC5I+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAhCdT,IAAM7D,MAAM,+EAAiF,CACzF+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KA6Ff,SAAkI3G,GAAE,sCAKvI,sBAAKqE,UAAU,WAAf,UACA,cAAC,GAAD,CACAc,KAAQxG,GAAQA,EAAK8G,YACrB2R,OAAUzU,GACVF,KAAO,UACPf,MAASA,EACT2V,OAAUA,IAEV,qBAAKhT,UAAU,qBAAf,SACCiX,GAAS3O,KAAI,SAACrP,EAAMsP,GAAP,OACZ,cAAC,GAAD,CAEEjK,GAAMrF,EAAMqF,GACZkW,YAAe3Q,EAAS4E,QACxBgM,QAAWxb,EAAM+a,KACjBxL,QAAWvP,EAAMkb,OACjBO,UAAazb,EAAM0P,KACnBgM,KAAQ1b,EAAM+F,UAAUgX,QACxBlV,KAAQxG,GAAQA,EAAK8G,YACrB2R,OAAUzU,GACVjB,MAASA,EACT2V,OAAUA,EACVG,OAAS,WACTC,MAASna,EAAMqF,IAZViK,kBClhBJ2R,I,OAAiB,SAAC1f,GAAD,OAC9BA,EAAO2f,QAAO,SAACC,EAAQ/b,GAAT,OAAkBA,EAAKK,MAAQ0b,IAAQ,KAExCC,GAAkB,SAAC7f,GAAD,OAC/BA,EAAO2f,QAAO,SAACC,EAAQ/b,GAAT,OAAkBA,EAAKa,QAAUkb,IAAQ,IA0DxCvhB,GAvDC,SAAC0O,EAAO+S,GAGpB,OADA7d,QAAQC,IAAI4d,GACJA,EAAOlc,MAEX,IAAK,gBAED,OAAO,2BACAmJ,GADP,IAEI/M,OAAO,GAAD,mBAAM+M,EAAM/M,QAAZ,CAAoB8f,EAAOjc,SAIzC,IAAK,eAGG,OAAO,2BACAkJ,GADP,IAEI/M,OAAO,KAGnB,IAAK,qBAED,IAAMoV,EAAQrI,EAAM/M,OAAO+f,WACvB,SAACC,GAAD,OAAgBA,EAAWlc,KAAOgc,EAAOhc,MAEzCmc,EAAS,YAAOlT,EAAM/M,QAEtBoV,GAAS,EACT6K,EAAUxK,OAAOL,EAAO,GAExBnT,QAAQC,IAAI,mGAGpB,QACQ,OAAO,2BAAK6K,GAAZ,IACI/M,OAAQigB,IAIpB,IAAK,mBACG,OAAO,2BACAlT,GADP,IAEI8B,MAAM,YAAK9B,EAAM8B,SAI7B,IAAK,mBACO,OAAO,2BACA9B,GADP,IAEI+K,KAAK,YAAK/K,EAAM+K,U,2BCuCzBoI,OA5Ff,YAA0H,IAAhGpc,EAA+F,EAA/FA,GAAGE,EAA4F,EAA5FA,MAAMC,EAAsF,EAAtFA,MAAMC,EAAgF,EAAhFA,MAAMI,EAA0E,EAA1EA,KAAKC,EAAqE,EAArEA,KAAaJ,GAAwD,EAAhEO,QAAgE,EAAxDP,WAAUC,EAA8C,EAA9CA,QAAgBC,GAA8B,EAAtCN,QAAsC,EAA9BM,UAASI,EAAqB,EAArBA,QAAQ0b,EAAa,EAAbA,UAE5G,EAA6BxhB,IAA7B,mBAAiBsB,GAAjB,KAAQD,OAAR,MAEMogB,EAAa,OADD9M,KAAKC,MAAQ4M,GAE/B,EAA8BjgB,mBAASsU,KAAK6L,MAAMD,EAAa,MAA/D,mBAAOE,EAAP,KAAgBC,EAAhB,KAEMC,EAAmB,YAEjB,WACI,IAAMrX,EAAKnG,cACX0K,YAAO3K,YAAIoG,EAAI,SAAW1E,EAAU,IAAMX,GAAK,IAHvD2b,GAOAxf,EAAS,CACL2D,KAAM,qBACNE,GAAIA,KA+BZ,OA1BA3B,qBAAU,WAGN,GAAIme,EAAU,EAEPjZ,IAAM+F,QAAQ,cAAgBpJ,EAAQ,oDAAmD,CACxFuD,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAElB0Y,SAGK,GAAIF,EAAU,EACnB,CACI,IAAMG,EAAUC,aAAY,kBAAMH,EAAWD,EAAU,KAAI,KAC3D,OAAO,kBAAMK,cAAcF,OAE9B,CAACH,IAKE,sBAAK9a,UAAU,UAAUC,MAAO,CAACkR,UAAW,QAA5C,UACA,sBAAKnR,UAAU,gBAAf,UACA,sBAAKA,UAAU,YAAf,UACA,+BAAc,UAATjB,EAAmB,WAAa,WAArC,OACA,sBAAKiB,UAAU,YAAf,wBACY8a,EADZ,OAFA,OAII,qBAAK9a,UAAU,uBAAf,SACI,6BAAKxB,MAET,uBACU,UAATO,GACD,sBAAKiB,UAAU,iBAAf,UACI,yCAAOtB,EAAP,OACA,sBAAKsB,UAAU,UAAf,UACE,uBACA,uBACA,6BAII,aAATjB,GACD,sBAAKiB,UAAU,iBAAf,UACI,yCAAOtB,EAAP,OACA,sBAAKsB,UAAU,UAAf,UACGnB,EAASX,OAAS,GAAK,oBAAG+B,MAAO,CAAC4H,SAAS,QAApB,kCAAmDhJ,EAAS,GAA5D,OAD1B,IACkGA,EAASX,QAAU,GAAK,oBAAG+B,MAAO,CAAC4H,SAAS,QAApB,4CAA8DlJ,EAA9D,OAA6EC,EAA7E,aAK9H,qBAAKoB,UAAU,kBAAf,SACKlB,OAGb,qBAAKuB,IAAK5B,EAAOuB,UAAU,YAC3B,sBAAKA,UAAU,YAAf,UACA,eAAC,IAAD,CAAMI,GAAE,uBAAkB9B,GAAM2B,MAAO,CAACuD,YAAY,MAAM/C,OAAO,QAAjE,cAA2E,cAAC,IAAD,CAAgBR,MAAO,CAACS,MAAM,QAAQQ,OAAO,kBAAkBN,aAAa,MAAMJ,MAAM,OAAOC,OAAO,iBAEjL,cAACY,EAAA,EAAD,CAAQ8H,QAAQ,WAAW6G,UAAW,cAAC,KAAD,IAAgBrP,QAASqa,EAA/D,sC,UCxFW,SAASI,GAAT,GAAqE,IAApDta,EAAmD,EAAnDA,KAAKua,EAA8C,EAA9CA,QAAQC,EAAsC,EAAtCA,MAAMpD,EAAgC,EAAhCA,MAAM7a,EAA0B,EAA1BA,MAAO4B,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAIvEzC,QAAQC,IAAIoE,EAAKua,EAAQC,EAAMpD,EAAMjZ,GACrCsc,EAAQ,KAAUC,SAElB/e,QAAQC,IAAI+e,iBAEZ,IAAI5gB,EAAUC,cACRsf,EAASlC,EACfzb,QAAQC,IAAI0d,GACZ,IAAMsB,EAASrN,mBACT1K,EAAKC,cACP+N,EAAW,GACXgK,EAAO,GACPzW,EAAO,GACP0W,EAAU,GACVC,EAAW,GACf,EAAoCnhB,oBAAS,GAA7C,mBAAOoK,EAAP,KAAmBC,EAAnB,KAEMvJ,EAAW,CACfsB,SAAU,IACVyK,MAAO,CAAEG,cAAc,IAIzB/K,qBAAU,WACRuI,EAAO,8CAAgD4W,EAAI,uCAAyC5D,EAAQ,8CAAgDhZ,EAAU,mGAAqG4B,EAAO,IAAMua,EAAU,mIAClS,IAAI,IAAIxd,EAAI,EAAGA,EAAIyd,EAAMpd,OAAQL,IAEV,aAAlByd,EAAMzd,GAAGkB,MAEZ4c,EAAO,gBAAkBL,EAAMzd,GAAGS,GAAK,qBAAuBgd,EAAMzd,GAAGW,MAAQ,8CAAgD8c,EAAMzd,GAAGc,UAAY,0BAA4B2c,EAAMzd,GAAGe,QAAU,eAAiB0c,EAAMzd,GAAGqB,QAC7N0c,EAAU,CAACtd,GAAIgd,EAAMzd,GAAGS,GAAIyT,OAAQuJ,EAAMzd,GAAGW,MAAOO,KAAM,WAAYG,QAASoc,EAAMzd,GAAGqB,QAASgT,WAAYoJ,EAAMzd,GAAGc,UAAWwT,SAAUmJ,EAAMzd,GAAGe,QAASqT,OAAQqJ,EAAMzd,GAAGa,MAAO0T,KAAMkJ,EAAMzd,GAAGY,MAAM,GAAIyI,KAAM4U,GACpNnK,EAAS1U,KAAK0e,GACdE,EAAS5e,KAAK2e,GACd1W,EAAOA,EAAO,SAAWyW,EACzBlf,QAAQC,IAAIwI,GACZzI,QAAQC,IAAImf,KAGZF,EAAO,gBAAkBL,EAAMzd,GAAGS,GAAK,qBAAuBgd,EAAMzd,GAAGW,MAAQ,qBAAwB8c,EAAMzd,GAAGa,MAAQ,sBACxHkd,EAAU,CAACtd,GAAIgd,EAAMzd,GAAGS,GAAIyT,OAAQuJ,EAAMzd,GAAGW,MAAOO,KAAM,WAAYkT,OAAQqJ,EAAMzd,GAAGa,MAAO0T,KAAMkJ,EAAMzd,GAAGY,MAAM,GAAIyI,KAAM4U,GAC7HnK,EAAS1U,KAAK0e,GACdE,EAAS5e,KAAK2e,GACd1W,EAAOA,EAAO,SAAWyW,EACzBlf,QAAQC,IAAIwI,GACZzI,QAAQC,IAAImf,MAGb,IAYJ,IACIC,EATH,SAAcngB,EAAG6J,EAAGsW,GAKlB,OAAOtW,EAAE8C,KAJT,SAAgByT,GAEd,OADQ,IAAI3G,KAAKC,eAAe,KAAM0G,GAC7B9hB,OAAO0B,MAEGqgB,KAAKF,GAIrBE,CAAK,IAAIlO,KADT,CAAC,CAAC0H,IAAK,WAAY,CAACD,MAAO,QAAS,CAACD,KAAM,YACzB,KAC1B7Y,QAAQC,IAAIof,GAGX,MAAsCphB,mBAAS,CAC7CsK,OAAQ,cACR3H,MAAOA,EACP4H,QAAS,GACTzC,QAAS,yCAA2CsZ,EACpD5W,KAAM,KALR,mBAAOC,EAAP,UAkGA,OA1FAxI,qBAAU,WAER0J,OAAOqV,OAAOO,QAAQ,CAClBC,YAAa,SAAChV,EAAMiV,EAASC,EAAKlE,GAChC,OAAOiE,EAAQE,MAAMC,OAAO,CAC1BC,OAAQ,UACRC,eAAgB,CACd,CACE5S,YAAa,0BACbwQ,OAAQ,CACNqC,cAAe,MACfxjB,MAAOmhB,QAMjBsC,UAAU,WAAD,4BAAE,WAAOxV,EAAMiV,GAAb,mBAAA3W,EAAA,6DACXT,GAAc,GACR4X,EAAajX,YAAI/B,EAAI,WAAY2X,EAAM,GAAGhd,IAFrC,SAGS6d,EAAQE,MAAMO,UAHvB,UAGLP,EAHK,OAKU,aAAlBf,EAAM,GAAGvc,KALD,iCAOHyT,YAAUmK,EAAY,CAC1BjE,YAAamE,IAAU,WAAV,cAAcvB,EAAM,GAAGzc,aAR7B,gDAYH2T,YAAUmK,EAAY,CAC1B3O,MAAO,YAbA,QAiBX,IAEiBJ,YAAOjH,YAAWhD,EAAI,UAAW,CAC9CmZ,SAAS7d,EACT8d,YAAY1f,EACZwU,aAAagK,EACb7c,UAAW8O,KAAKC,QACXrQ,MAAK,SAAS+H,GAEfhJ,QAAQC,IAAI+I,EAAOnH,IACnB6G,EAAYF,QAAU,oBAAsBQ,EAAOnH,GACnD6G,EAAYD,KAAOA,KAClBxH,MAAK,WACRsf,OAEE,MAAOjV,GACLtL,QAAQuB,MAAM,0BAA2B+J,GAGrCiV,EApCH,+BAAAxX,EAAA,MAoCiB,sBAAAA,EAAA,6DAElB/I,QAAQC,IAAI,CAAEyI,gBAFI,SAGKU,MAAM,wDAA0E,CACvGC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6F,kBAEtBzH,MAAK,SAACuI,GAAD,OAASA,EAAIC,UAClBxI,KATsB,uCASjB,WAAOuI,GAAP,eAAAT,EAAA,sEACkBS,EADlB,OACEE,EADF,OAEJ1J,QAAQC,IAAIyJ,GACW,YAAnBA,EAAQC,QAEkB,SAAnBD,EAAQC,QACjBkN,MAAM,0BANJ,2CATiB,uDAkBtB5V,MAAK,WACFqH,GAAc,GACdlK,EAAQoC,KAAKzB,MAvBC,yDApCjB,qDA+DXiB,QAAQC,IAAI2f,EAAMvb,EAAKua,EAAQC,EAAMlB,EAAOkB,EAAM,GAAGzc,UA/D1C,4CAAF,qDAAC,GAiEVoe,QAAS,SAACb,GACR3f,QAAQC,IAAI0f,MAGfc,OAAOxB,EAAOpM,WAChB,IAID,8BACE,qBAAK/R,IAAKme,EAAV,SACE5W,GAAc,cAAC,EAAD,Q,uBCxJP,SAASqY,KAEpB,MAA6BhkB,IAA7B,mBAAQqB,EAAR,KAAQA,OAGR,GAHA,KAG4BE,mBAAS,WAArC,mBAAOoL,EAAP,KAAesX,EAAf,KACA,EAAwB1iB,mBAAS,IAAjC,mBAAOoG,EAAP,KAAauc,EAAb,KACA,EAA8B3iB,mBAAS,IAAvC,mBAAO2gB,EAAP,KAAgBiC,EAAhB,KACA,EAA4B5iB,mBAAS,GAArC,mBAAO6iB,EAAP,KAAeC,EAAf,KACA,EAAoC9iB,oBAAS,GAA7C,mBAAO+iB,EAAP,KAAmBC,EAAnB,KACA,EAAkDhjB,oBAAS,GAA3D,mBAAOijB,EAAP,KAA0BC,EAA1B,KAEMtjB,EADOD,cACKE,YACdM,EAAUC,cACRwgB,EAAQ,GAEVuC,EAAwB,EAATN,EAAa,IAGhC9gB,QAAQC,IAAImhB,GAEZrjB,EAAO8N,KAAI,SAACjK,GAAD,OAAYid,EAAMre,KAAKoB,GAAO5B,QAAQC,IAAI4e,MAGrD,IAAMwC,EAAe,WACnB,IAAMC,EAASC,uBACTC,EAAWC,yBAEXC,EAAY,uCAAG,WAAOze,GAAP,eAAA8F,EAAA,yDACnB9F,EAAME,iBAEW,OAAbqe,EAHe,iEAOkBF,EAAOK,oBAAoB,CAC9DhgB,KAAM,OACNigB,KAAMJ,EAASK,WAAWC,kBATT,kBAOZvgB,MAPY,EAOLwgB,cAPK,2CAAH,sDAalB,OACE,uBAAM1K,SAAUqK,EAAhB,UACE,cAAC,eAAD,IACA,cAAC9c,EAAA,EAAD,CAASjD,KAAK,SAASqgB,UAAWV,IAAWE,EAAUhe,MAAO,CAACsD,gBAAgB,UAAU7C,MAAM,QAAQF,MAAM,yBAAyBW,UAAU,QAAhJ,2BAMAud,EAAgBC,aAAW,oCAG3BC,EAAe,SAAClf,GACpB0d,EAAU1d,EAAMuB,OAAOhI,QAIrB4lB,EAAe3E,GAAe1f,GAGlCmC,qBAAU,WACR+gB,GAAc,GACdF,EAAUqB,GACVpiB,QAAQC,IAAI,sBAAwB6gB,EAAS,WAE3CK,EADU,KAAT9c,GAA2B,KAAZua,GAKJ7U,YAAW,WACvBkX,GAAc,KACb,KAECljB,EAAO0D,OAAS,GACpBrD,EAAQoC,KAAKzB,KACZ,CAACqjB,EAAa/d,EAAKua,IAIxB,IAAM7f,EAAW,CACZsB,SAAU,IACXyK,MAAO,CAAEI,UAAU,IAGrB,OACI,sBAAK3H,UAAU,cAAf,UACI,cAAC,IAAD,CAAMI,GAAG,IAAT,SACA,qBAAKJ,UAAU,cACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAI9C,qBAAKT,UAAU,0BAAf,SACA,sBAAKA,UAAU,SAAf,UACN,wBAAQA,UAAU,aAAlB,SACA,sBAAMA,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,wBAGA,sBAAK7H,UAAU,OAAf,UACE,gCACE,kDACE,yGACE,sBAAKA,UAAU,gBAAf,UACA,sBAAKA,UAAU,eAAf,UACC,uCACC,cAAC4O,EAAA,EAAD,CAAW3O,MAAO,CAACQ,OAAO,OAAQD,MAAM,QAClCR,UAAU,UACV1B,GAAG,oBACHuQ,WAAY,CACV/G,UAAW,IAEb1J,KAAK,QACLnF,MAAO6H,EACPE,SAAU,SAAC+G,GAAD,OAAOsV,EAAQtV,EAAE9G,OAAOhI,aAGpC,sBAAK+G,UAAU,kBAAf,UACJ,0CACE,cAAC4O,EAAA,EAAD,CAAW3O,MAAO,CAAEO,MAAM,QACtBR,UAAU,UACV1B,GAAG,oBACHuQ,WAAY,CACV/G,UAAW,IAEb7O,MAAOoiB,EACPra,SAAU,SAAC+G,GAAD,OAAOuV,EAAWvV,EAAE9G,OAAOhI,gBAIjD,uBACA,oBAAIgH,MAAO,CAAC+H,UAAU,SAAtB,qEACA,sBAAK/H,MAAO,CAAC+H,UAAU,QAAQ8W,WAAY,OAA3C,UACA,uCAAUxkB,GAAQA,EAAK8G,eACvB,wCAAW9G,GAAQA,EAAK+C,SACxB,qCAAQ/C,GAAQA,EAAK8C,UAEvB,gDACE,qBAAK4C,UAAU,gBAAf,SACCxF,EAAO8N,KAAI,SAACjK,EAAKuR,GAAN,OAAkB,cAAC,GAAD,CAExBtR,GAAID,EAAKC,GACTE,MAAOH,EAAKG,MACZC,MAAOJ,EAAKI,MACZC,MAAOL,EAAKK,MACZI,KAAMT,EAAKS,KACXC,KAAMV,EAAKU,KACXF,SAAUR,EAAKQ,SACfkgB,UAAW1gB,EAAK0gB,UAChB7f,QAASb,EAAKa,QACdP,UAAWN,EAAKM,UAChBC,QAASP,EAAKO,QACdL,QAASF,EAAKE,QACdU,QAASZ,EAAKY,QACd0b,UAAWtc,EAAKW,WAdXX,EAAKC,SAkBhB,oDACA,2BAAU2B,MAAO,CAACO,MAAM,yBAAyBwH,UAAU,WAA3D,UACA,yDACA,sBAAKhI,UAAU,SAAf,UACA,cAACgf,GAAA,EAAD,CACEC,QAAoB,WAAXnZ,EACT9E,SAAU4d,EACV3lB,MAAM,SACN6H,KAAK,gBACL+N,WAAY,CAAE,aAAc,OAE5B,qBAAK7O,UAAU,SAASC,MAAO,CAACO,MAAM,OAAQH,IAAI,uEAAuEE,IAAI,sCAE/H,sBAAKP,UAAU,gBAAf,UACA,cAACgf,GAAA,EAAD,CACEC,QAAoB,WAAXnZ,EACT9E,SAAU4d,EACV3lB,MAAM,SACN6H,KAAK,gBACL+N,WAAY,CAAE,aAAc,OAE7B,qBAAK7O,UAAU,SAAUC,MAAO,CAACO,MAAM,OAAQH,IAAI,oGAAoGE,IAAI,yCAI5J,gCACE,kCACE,+BACE,+CACA,qBAAI2e,MAAM,QAAV,gBAAqB,cAAC,KAAD,CACjBC,WAAY,SAAClmB,GAAD,OACR,mCACA,mBAAGgH,MAAO,CAAC6e,WAAY,OAAvB,SACA,uCAAU7lB,EAAV,gBAIJmmB,aAAc,EACdnmB,MAAOihB,GAAe1f,GACtB6kB,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,kBAGd,+BACE,8EACA,oBAAIL,MAAM,QAAV,SAAkB,cAAC,KAAD,CACdC,WAAY,SAAClmB,GAAD,OACR,mCACA,mBAAGgH,MAAO,CAAC6e,WAAY,OAAvB,SACA,yCAAY7lB,EAAZ,gBAIJmmB,aAAc,EACdnmB,MAAOohB,GAAgB7f,GACvB6kB,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,sBAIhB,wBACuB,IAAtB5B,GACD,qBAAK3d,UAAU,UAAf,6EACe,WAAX8F,IAAsC,IAAf2X,IAA6C,IAAtBE,GAChD,cAAC,GAAD,CACA7c,KAAMA,EACNua,QAASA,EACTnc,QAASmb,GAAgB7f,GACzByE,QAAS3E,GAAQA,EAAK8C,IACtBC,MAAO/C,GAAQA,EAAK+C,MACpBie,MAAOA,EACPpD,MAAOqF,IAGM,WAAXzX,IAA6C,IAAtB6X,GACvB,cAAC,YAAD,CAAUI,OAAQW,EAAlB,SACE,cAACZ,EAAD,SAIV,mC,yBC1QW,I,OAAA,IAA0B,wDCA1B,OAA0B,uCCA1B,OAA0B,mCCA1B,OAA0B,oCCY1B,SAAS0B,KAEtB,IAAQ7jB,EAAMD,cAANC,EASR,OAPAgB,qBAAU,WACR8iB,KAAIjmB,KAAK,CACPkmB,SAAW,QAEZ,IAGI,sBAAK1f,UAAU,UAAUC,MAAO,CAACkI,UAAU,QAA3C,UACC,qBAAKnI,UAAU,cAAcC,MAAO,CAAC8B,SAAS,YAAa1B,IAAI,6EAA6EE,IAAI,KAChJ,qBAAKP,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,SACE,sBAAKnI,UAAU,YAAYC,MAAO,CAACC,QAAQ,QAASiB,UAAU,UAA9D,UACE,sBAAKnB,UAAU,wBAAf,UACE,mBAAGA,UAAU,yBACb,mBAAGA,UAAU,uBAAuBC,MAAO,CAAC4H,SAAU,oBAAtD,SAA4ElM,EAAE,kBAEhF,sBAAKqE,UAAU,MAAf,UACE,oBAAIC,MAAO,CAACuD,YAAY,QAAQtC,OAAO,qBACrC,sBAAKlB,UAAU,UAAf,UACGrE,EAAE,iJACH,uBACCA,EAAE,yKAGT,qBAAK0E,IAAKsf,GAAMpf,IAAI,MAAMC,MAAM,OAAOP,MAAO,CAACkB,UAAU,OAAOye,SAAS,WACzE,oBAAI3f,MAAO,CAACkB,UAAU,UACtB,qBAAKnB,UAAU,gBAAf,SACCrE,EAAE,sDAEH,uBACA,sBAAKqE,UAAU,aAAa,WAAS,UAArC,UACE,sBAAKA,UAAU,YAAf,UACE,sBAAK1B,GAAG,cAAR,UACE,yBAAS0B,UAAU,YAAY6f,OAAO,uDACtC,yBAAS7f,UAAU,eAAe6f,OAAO,+DACzC,yBAAS7f,UAAU,eAAe6f,OAAO,8DAGrD,sBAAK7f,UAAU,QAAf,UAEI,yBACA,sBAAKA,UAAU,QAAf,cAAwB,qBAAKK,IAAKyf,GAASvf,IAAI,UAA/C,OACA,qBAAKP,UAAU,WAAf,SACI,gCACI,6BAAKrE,EAAE,eACP,4BAAIA,EAAE,4GAM1B,sBAAKqE,UAAU,YAAf,UACkB,sBAAK1B,GAAG,cAAR,UACE,yBAAS0B,UAAU,YAAY6f,OAAO,uDACtC,yBAAS7f,UAAU,eAAe6f,OAAO,+DACzC,yBAAS7f,UAAU,eAAe6f,OAAO,8DAGrD,sBAAK7f,UAAU,QAAf,UAEI,yBACA,sBAAKA,UAAU,QAAf,cAAwB,qBAAKK,IAAK0f,GAAYxf,IAAI,UAAlD,OACA,qBAAKP,UAAU,WAAf,SACI,gCACA,6BAAKrE,EAAE,kBACH,8BAAIA,EAAE,4HAAN,kBAMpB,sBAAKqE,UAAU,YAAf,UACkB,sBAAK1B,GAAG,cAAR,UACE,yBAAS0B,UAAU,YAAY6f,OAAO,uDACtC,yBAAS7f,UAAU,eAAe6f,OAAO,+DACzC,yBAAS7f,UAAU,eAAe6f,OAAO,8DAGrD,sBAAK7f,UAAU,QAAf,UAEI,yBACA,sBAAKA,UAAU,QAAf,cAAwB,qBAAKK,IAAK2f,GAAQzf,IAAI,UAA9C,OACA,qBAAKP,UAAU,WAAf,SACI,gCACA,6BAAKrE,EAAE,gBACH,4BAAIA,EAAE,8KAM1B,sBAAKqE,UAAU,MAAMC,MAAO,CAAC+H,UAAU,OAAvC,UACgB,oBAAI/H,MAAO,CAACggB,WAAW,QAAQ/e,OAAO,qBACpC,sBAAKlB,UAAU,UAAUC,MAAO,CAACuD,YAAY,MAAMyc,WAAW,SAA9D,UACCtkB,EAAE,mGACD,uBACDA,EAAE,wKAHH,qB,OCxGH,SAASukB,KAEtB,IAAQvkB,EAAMD,cAANC,EAER,OAAO,sBAAKqE,UAAU,QAAQC,MAAO,CAACkI,UAAU,QAAzC,UACG,qBAAKnI,UAAU,cAAcC,MAAO,CAAC8B,SAAS,YAAa1B,IAAI,iHAAiHE,IAAI,KACpL,qBAAKP,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,SACE,sBAAKnI,UAAU,YAAYC,MAAO,CAACC,QAAQ,QAASiB,UAAU,UAA9D,UACE,sBAAKnB,UAAU,sBAAf,UACE,mBAAGA,UAAU,yBACb,mBAAGA,UAAU,uBAAuBC,MAAO,CAAC4H,SAAU,oBAAtD,SAA4ElM,EAAE,oBAEhF,sBAAKqE,UAAU,iBAAf,UACE,qBAAKA,UAAU,cAAf,SACA,sBAAKA,UAAU,MAAMC,MAAO,CAACO,MAAM,OAAO2f,OAAO,IAAKP,SAAS,eAA/D,UACF,oBAAI3f,MAAO,CAACuD,YAAY,QAAQtC,OAAO,qBACrC,qBAAKlB,UAAU,UAAf,SACA,mCACKrE,EAAE,iNAEL,uBACA,uBAJF,KAMKA,EAAE,uNAEL,uBACA,uBATF,KAWKA,EAAE,6VAEL,uBACA,uBAdF,KAgBIA,EAAE,gPArBR,KA0BU,oBAAIsE,MAAO,CAACkB,UAAU,UA1BhC,MA0B8C,qBAAKnB,UAAU,SAASC,MAAO,CAACkB,UAAU,OAAQoC,gBAAgB,YAAa9C,OAAO,OAAO+O,aAAa,UACtJ,uBACA,oBAAIvP,MAAO,CAACsD,gBAAiB,yBAAyB6c,QAAQ,OAAOnY,WAAW,OAAhF,SACE,+BAME,sBACA,6BAAKtM,EAAE,iBACP,oCAAOA,EAAE,yBAAyB,uBAAlC,OACHA,EAAE,2KACH,uBAEA,uBACA,qCAAQA,EAAE,wBAAV,IAAmC,uBAAnC,OACCA,EAAE,sIAdD,IAeF,uBAEA,uBACA,sCAASA,EAAE,uBAAuB,uBAAlC,OACGA,EAAE,yCAnBH,KAmB2C,uBAE7C,uBACA,qCAAQA,EAAE,uBAAV,IAAkC,uBAAlC,OACCA,EAAE,yCAvBD,OAuB2C,uC,cCRhD0kB,OAhDf,WACI,MAA6BlnB,IAA7B,mBAAQqB,EAAR,KAAQA,OACJK,GADJ,KACcC,eACNa,EAAMD,cAANC,EAsBR,OACI,sBAAKqE,UAAU,WAAf,UACI,cAAC,KAAD,CACImf,WAAY,SAAClmB,GAAD,OACR,mCACA,oBAAGgH,MAAO,CAAC6e,WAAY,QAAvB,UACCnjB,EAAE,UADH,KACgBnB,EAAO0D,OADvB,IACgCvC,EAAE,cADlC,KAEA,0CAAa1C,EAAb,cAIJmmB,aAAc,EACdnmB,MAAOihB,GAAe1f,GACtB6kB,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,YAGZ,eAACle,EAAA,EAAD,CAAQ8H,QAAQ,YAAYxI,QAtCpB,WAETnG,EAAO0D,OAAS,EACnBrD,EAAQoC,KAAK,eAIT4E,IAAM7D,MAAM,iBAAmB,CAC3B+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAwBd,cAAiD3G,EAAE,wBAAnD,WCMG2kB,OAnDf,WACI,MAA6BnnB,IAA7B,mBAAQqB,EAAR,KAAQA,OACAmB,GADR,KACcD,cAANC,GAIR,OAHiBK,IAAM5C,WAAW6C,IAI9B,gCAEI,sBAAK+D,UAAU,WAAf,UAEA,qBAAKA,UAAU,iBAAf,SACA,sBAAKA,UAAU,WAAWC,MAAO,CAAC+H,UAAU,SAA5C,cAAuD,uBAAMhI,UAAU,mBAAhB,cAAoC,qBAAKK,IAAKkQ,GAAS/P,MAAO,KAA9D,OACvD,uBAAMR,UAAU,QAAhB,cAA0BrE,EAAE,mBAA5B,OADA,SAGA,qBAAKqE,UAAU,kBAAf,SACA,cAAC,GAAD,SAGA,qBAAKA,UAAU,kBAAf,SACA,sBAAKA,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,UACA,qBAAKnI,UAAU,cAAcK,IAAI,6FAA6FE,IAAI,KAClI,qBAAKP,UAAU,YAAYC,MAAO,CAACkB,UAAU,QAA7C,SAGA,qBAAKnB,UAAU,OAAf,SACCxF,EAAO8N,KAAI,SAACjK,EAAKuR,GAAN,OAAkB,cAAC,GAAD,CAE9BtR,GAAID,EAAKC,GACTE,MAAOH,EAAKG,MACZC,MAAOJ,EAAKI,MACZC,MAAOL,EAAKK,MACZI,KAAMT,EAAKS,KACXC,KAAMV,EAAKU,KACXF,SAAUR,EAAKQ,SACfkgB,UAAW1gB,EAAK0gB,UAChB7f,QAASb,EAAKa,QACdP,UAAWN,EAAKM,UAChBC,QAASP,EAAKO,QACdL,QAASF,EAAKE,QACdU,QAASZ,EAAKY,QACd0b,UAAWtc,EAAKW,WAdXX,EAAKC,oB,mDC0IPiiB,OAlKf,WAEA,MAA0B7lB,mBAAS,IAAnC,mBAAO2C,EAAP,KAAckH,EAAd,KACA,EAAgC7J,mBAAS,IAAzC,mBAAO8lB,EAAP,KAAiBC,EAAjB,KACA,EAA8B/lB,oBAAS,GAAvC,mBAAO0K,EAAP,KAAgBC,EAAhB,KACIxK,EAAUC,cACRV,EAAOC,cACLsB,EAAMD,cAANC,EACR,EAAmCjB,mBAAS,IAA5C,mBAAO4K,EAAP,KAAkBC,EAAlB,KACMrJ,EAAWF,IAAM5C,WAAW6C,IAElCQ,QAAQC,IAAIR,EAASA,UAGrBS,qBAAU,WACiB,OAAtBT,EAASA,UACVqJ,EAAc,SACd9I,QAAQC,IAAIR,EAASA,YAGrBqJ,EAAc,UACd9I,QAAQC,IAAIR,EAASA,aAEvB,CAACA,IAGH,MAA4BxB,mBAAS,CACjC8lB,SAAU,GACVE,cAAc,IAFlB,mBAAOC,EAAP,KAAeC,EAAf,KAIQC,EAA0B,WAC9BD,EAAU,2BAAKD,GAAN,IAAcD,cAAeC,EAAOD,iBAEzCI,EAA0B,SAACphB,GAC/BA,EAAME,kBAKJpE,EAAW,CACbsB,SAAU,IACVyK,MAAO,CAAEC,WAAW,IA0DpB,OACI,qBAAKxH,UAAU,aAAf,SACA,qBAAKA,UAAU,gBAAf,SACA,sBAAKA,UAAU,QAAf,UAEI,cAAC,IAAD,CAAMI,GAAG,IAAT,SACA,qBAAKJ,UAAU,aACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAK9C,sBAAKT,UAAU,mBAAf,UACA,qBAAKA,UAAU,WAAWC,MAAO,CAACO,MAAM,QAAxC,SACA,sBAAMR,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,SAAqElM,EAAE,cAInE,wCACI,uBAAOsE,MAAO,CAACO,MAAM,OAAOI,aAAc,WACpCtC,GAAG,wBACHwJ,UAAU,KACV7O,MAAOoE,EAAO2D,SAAU,SAAA+G,GAAC,OAAIxD,EAASwD,EAAE9G,OAAOhI,UAIrD,0CACD,sBAAK+G,UAAU,WAAf,UACC,uBAAQC,MAAO,CAACO,MAAM,OAAO+C,gBAAgB,QAAQ3C,aAAc,OAC3D3H,MAAOunB,EAAUxf,SAAU,SAAA+G,GAAC,OAAI0Y,EAAY1Y,EAAE9G,OAAOhI,QACrDmF,KAAMuiB,EAAOD,aAAe,OAAS,aAG7C,qBAAK1gB,UAAU,YAAf,SACE2gB,EAAOD,aAAe,cAAC,KAAD,CAAa/f,QAASkgB,EAC7CE,YAAaD,IAA6B,cAAC,KAAD,CAAgBngB,QAASkgB,EACnEE,YAAaD,SAId,qBAAK9gB,UAAU,YAAf,SACI,cAAC,IAAD,CAAMI,GAAG,kBAAT,SACAzE,EAAE,6BAGN,eAAC0F,EAAA,EAAD,CAAQV,QApGV,WACV0E,GAAW,GACX2b,YAA2B5mB,EAAMiD,EAAOmjB,GACvC9iB,MAAK,WAAQ7C,EAAQoC,KAAKzB,MACxBuC,OAAM,SAACgK,GAAQ,OAAQA,EAAEvF,SACxB,IAAK,oNACDX,IAAM7D,MAAM,uHAAsH,CAC9H+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEd,MACJ,IAAK,wCACDT,IAAM7D,MAAM,4BAA8B,CACtC+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IACd,MAEJ,IAAK,yCACGT,IAAMoL,KAAK,qBAAuB,CAC9BlL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IACd,MAER,IAAK,2EACGT,IAAMoL,KAAK,gDAAiD,CACxDlL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEd,MACR,QACIgR,MAAMvL,EAAEvF,cAkDoBvC,MAAO,CAACS,MAAO,SAAUV,UAAU,sBAA3D,eAAoFoF,EAAW,qBAAKpF,UAAU,SAAgBsF,EAA9H,OACA,4BACK3J,EAAE,mNAIP,sBAAKqE,UAAU,gBAAf,cAAgC,kCAAKrE,EAAE,kCAAP,SAChC,cAAC,IAAD,CAAMyE,GAAG,WAAT,SACA,eAACiB,EAAA,EAAD,CAAQpB,MAAO,CAACS,MAAO,UAAW8O,aAAc,MAAM5O,aAAc,MAAOM,OAAQ,YAAaqC,gBAAiB,QAASnF,KAAK,SAAU4B,UAAU,yBAAnJ,cAA8KrE,EAAE,cAAhL,uB,OCoHDslB,OA3Qf,WAAmB,IAAD,IAClB,EAAwBvmB,mBAAS,IAAjC,mBAAOoG,EAAP,KAAauc,EAAb,KACA,EAA0B3iB,mBAAS,IAAnC,mBAAO2C,EAAP,KAAckH,EAAd,KACA,EAAgC7J,mBAAS,IAAzC,mBAAO8lB,EAAP,KAAiBC,EAAjB,KACA,EAA8B/lB,oBAAS,GAAvC,mBAAO0K,EAAP,KAAgBC,EAAhB,KACIxK,EAAUC,cACRomB,EAAW,IAAIC,IACfC,EAAY,IAAIC,IAChBjnB,EAAOC,cACLsB,EAAMD,cAANC,EACR,EAAmCjB,mBAAS,IAA5C,mBAAO4K,EAAP,KAAkBC,EAAlB,KACMrJ,EAAWF,IAAM5C,WAAW6C,IAElCQ,QAAQC,IAAIR,EAASA,UAGrBS,qBAAU,WACiB,OAAtBT,EAASA,SACVqJ,EAAc,WAGdA,EAAc,gBAEhB,CAACrJ,IAGH,MAA4BxB,mBAAS,CACjC8lB,SAAU,GACVE,cAAc,IAFlB,mBAAOC,EAAP,KAAeC,EAAf,KAIQC,EAA0B,WAC9BD,EAAU,2BAAKD,GAAN,IAAcD,cAAeC,EAAOD,iBAEzCI,EAA0B,SAACphB,GAC/BA,EAAME,kBAKJpE,EAAW,CACbsB,SAAU,IACVyK,MAAO,CAAEC,UAAW,WA4JpB,OACE,qBAAKxH,UAAU,cAAf,SACA,qBAAKA,UAAU,iBAAf,SACE,sBAAKA,UAAU,SAAf,UACI,cAAC,IAAD,CAAMI,GAAG,IAAT,SACA,qBAAKJ,UAAU,cACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAI9C,sBAAKT,UAAU,oBAAf,UACA,qBAAKA,UAAU,WAAWC,MAAO,CAACO,MAAM,QAAxC,SACA,sBAAMR,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,SAAqElM,EAAE,kBAGnE,6BAAKA,EAAE,UACP,uBAAOsE,MAAK,aAAGO,MAAM,OAAOI,aAAc,UAAU2C,gBAAiB,QAAzD,eAA8E,OAClFxC,aAAa,MACXzC,GAAG,wBACHwC,KAAK,OACLwgB,WAAY,CACVxZ,UAAW,IAEb7O,MAAO6H,EAAME,SAAU,SAAA+G,GAAC,OAAIsV,EAAQtV,EAAE9G,OAAOhI,UAInD,wCACA,uBAAOgH,MAAO,CAACO,MAAM,OAAOI,aAAc,UAAU2C,gBAAiB,QAC/DjF,GAAG,0BACHwJ,UAAU,KACV7O,MAAOoE,EAAO2D,SAAU,SAAA+G,GAAC,OAAIxD,EAASwD,EAAE9G,OAAOhI,UAIrD,0CACD,sBAAK+G,UAAU,WAAf,UACC,uBAAQC,MAAO,CAACO,MAAM,OAAO+C,gBAAgB,QAAQ3C,aAAc,OAC3D3H,MAAOunB,EAAUxf,SAAU,SAAA+G,GAAC,OAAI0Y,EAAY1Y,EAAE9G,OAAOhI,QACrDmF,KAAMuiB,EAAOD,aAAe,OAAS,aAG7C,qBAAK1gB,UAAU,YAAf,SACE2gB,EAAOD,aAAe,cAAC,KAAD,CAAa/f,QAASkgB,EAC7CE,YAAaD,IAA6B,cAAC,KAAD,CAAgBngB,QAASkgB,EACnEE,YAAaD,SAGd,eAACzf,EAAA,EAAD,CAASpB,MAAO,CAACS,MAAO,UAAW8O,aAAc,MAAM5O,aAAc,MAAMO,UAAW,OAAQD,OAAQ,YAAaqC,gBAAiB,QAAS5C,QAhI5I,SAAAoH,GAEA,KAATjH,GAAeA,EAAK5C,OAAS,GAEjCmH,GAAW,GACXkc,YAA+BnnB,EAAMiD,EAAOmjB,GAC3C9iB,MAAK,WACF8jB,YAAcpnB,EAAKG,YAAa,CAC5B6G,YAAaN,IACZpD,MAAK,WACNkE,YAAsBxH,EAAKG,aAC3BsH,IAAMC,QAAQ,yDAAwDzE,EAAO,CACzE0E,SAAU,WACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEdhB,YAAQlH,GACRoM,YAAW,kBACX3L,EAAQoC,KAAK,YAAU,WAE5Bc,OAAM,SAACgK,GAER,OAAQA,EAAEvF,SACR,IAAK,+CACDX,IAAM7D,MAAM,2CAA0C,CAClD+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEd,MACJ,IAAK,wCACDT,IAAM7D,MAAM,4BAA8B,CACtC+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IACd,MACJ,IAAK,2EACGT,IAAMoL,KAAK,gDAAiD,CACxDlL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEd,MACR,QACIgR,MAAMvL,EAAEvF,aAIfvE,SAAQ,kBAAMoH,GAAW,OAItBxD,IAAMoL,KAAK,4CAA6C,CACpDlL,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAqD2JlE,KAAK,SAAU4B,UAAU,yBAA1L,cAAqNoF,EAAW,qBAAKpF,UAAU,SAAgBsF,EAA/P,OAEA,4BACK3J,EAAE,2NAGP,cAAC0F,EAAA,EAAD,CAAQV,QAxKT,SAAAoH,GAEX0Z,YAAgBrnB,EAAM8mB,GACrBxjB,MAAK,SAACgkB,GAEcP,IAAmBQ,qBAAqBD,GAClCE,YAEZF,EAAOpnB,KACpBO,EAAQoC,KAAKzB,MAEZuC,OAAM,SAACC,GAEUA,EAAM2B,KACH3B,EAAMwE,QAEbxE,EAAMX,MAEpBwE,IAAM7D,MAAM,iEAA+D,CACzE+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEO6e,IAAmBU,oBAAoB7jB,OA6IrBiC,OAAK,GAAGsD,gBAAiB,QAAS7C,MAAO,MAAO8O,aAAc,OAAzD,6BAA6E,OAA7E,6BAAiG,OAAjG,sBAA+G,SAA/G,0BAAoI,UAApI,GAA+IrG,QAAQ,YAAY6D,KAAK,SAAxM,4BAEA,cAAC3L,EAAA,EAAD,CAASV,QAhNR,SAAAoH,GAEb,IAAM3N,EAAOC,cACbonB,YAAgBrnB,EAAMgnB,GACnB1jB,MAAK,SAACgkB,GAEQA,EAAOpnB,KAGD+mB,IAAqBM,qBAAqBD,GAC9BE,YAC/B/mB,EAAQoC,KAAKzB,MAGduC,OAAM,SAACC,GAGYA,EAAM2B,KACH3B,EAAMwE,QAEbxE,EAAMX,MAEpBwE,IAAM7D,MAAM,mEAAiE,CACzE+D,SAAU,WACVC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGK+e,IAAqBQ,oBAAoB7jB,OAgLxBiC,OAAK,GAAGsD,gBAAiB,UAAW7C,MAAO,OAAQ8O,aAAc,OAA5D,6BAAgF,OAAhF,6BAAoG,OAApG,2BAAuH,WAAvH,sBAAyI,SAAzI,0BAA8J,UAA9J,GAAyKrG,QAAQ,YAAY6D,KAAK,SAAnO,8BAEA,sBAAKhN,UAAU,gBAAf,cAAgC,kCAAKrE,EAAE,uBAAP,OAChC,eAAC,IAAD,CAAMyE,GAAG,SAAT,UACKzE,EAAE,gBADP,qB,OCvMDmmB,OA/Df,WACI,MAAgCpnB,oBAAS,GAAzC,mBAAOqnB,EAAP,KAAiBC,EAAjB,KACA,EAA0BtnB,mBAAS,IAAnC,mBAAO2C,EAAP,KAAckH,EAAd,KACA,EAA8B7J,oBAAS,GAAvC,mBAAO0K,EAAP,KAAgBC,EAAhB,KACIxK,EAAUC,cAGRkZ,EAAO,kBAAM,qBAAK/T,MAAO,CAACS,MAAM,SAAnB,iEAqBnB,OACI,qBAAKV,UAAU,qBAAf,SACA,sBAAKA,UAAU,gBAAgBC,MAAO,CAACkB,UAAW,MAAlD,UACK,cAAC,IAAD,CAAMf,GAAG,IAAT,SACD,qBAAKJ,UAAU,aACfK,IAAKC,EAAMC,IAAI,OAAQC,MAAM,MAAMC,OAAO,UAI9C,sBAAKT,UAAU,2BAAf,UACA,sBAAMA,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,OAAQsJ,UAAW,iBAA9E,+BAGI,wCACI,uBAAOlR,MAAO,CAACO,MAAM,OAAOI,aAAc,WACpCtC,GAAG,wBACHwJ,UAAU,KACV7O,MAAOoE,EAAO2D,SAAU,SAAA+G,GAAC,OAAIxD,EAASwD,EAAE9G,OAAOhI,UAIrD,eAACoI,EAAA,EAAD,CAAQV,QAtCE,SAAAoH,GAClB1C,GAAW,GACX,IAAMjL,EAAOC,cAGb4nB,YAAuB7nB,EAAKiD,GAC3BK,MAAK,WACFskB,GAAY,GAEZxb,YAAW,kBACX3L,EAAQoC,KAAK,YAAU,QAExBc,OAAM,SAACgK,GAAD,OAAOuL,MAAMvL,EAAEvF,YACvBvE,SAAQ,kBAAMoH,GAAW,OAyBcpF,MAAO,CAACS,MAAO,QAAQoe,WAAW,OAAOre,OAAO,OAAOD,MAAM,QAASR,UAAU,sBAAhH,eAAyIoF,EAAU,yBAA2B,eAA9K,QAEA,8BACS2c,EAAW,cAAC/N,EAAD,IAAW,OAE/B,+JC9DD,OAA0B,qC,OCM1B,SAASkO,KAEtB,MAAsCxnB,mBAAS,CAC3CsK,OAAQ,cACR3H,MAAO,GACP4H,QAAS,wBACTzC,QAAS,qDACT0C,KAAM,qKALV,mBAAOC,EAAP,KASF,GATE,KAS4BzK,oBAAS,IAAvC,mBAAO0K,EAAP,KAAgBC,EAAhB,KACA,EAA0B3K,mBAAS,IAAnC,mBAAO2C,EAAP,KAAckH,EAAd,KACA,EAA0B7J,mBAAS,IAAnC,mBAAO8J,EAAP,KAAcC,EAAd,KACA,EAAoC/J,mBAAS,IAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAoCjK,mBAAS,WAA7C,mBAAOkK,EAAP,KAAmBC,EAAnB,KACMlB,EAAKC,cACHjI,EAAMD,cAANC,EACR,EAAmCjB,mBAAS,IAA5C,mBAAO4K,EAAP,KAAkBC,EAAlB,KACMrJ,EAAWF,IAAM5C,WAAW6C,IAnBG,4CA2CrC,4BAAAuJ,EAAA,0DAEMd,EAFN,wBAGEW,GAAW,GACLI,EAASC,YAAI/B,EAAI,aAActG,GAJvC,SAKwBsI,YAAOF,GAL/B,kBAMkB7H,SANlB,iBAOUyH,GAAW,GACXZ,EAAS,4CACTI,EAAc,SATxB,mDAaiCe,YAAOF,YAAI/B,EAAI,aAActG,GAAQ,IACvDK,MAAK,WAAM,4CAIZ,sBAAA8H,EAAA,sEACuBK,MAAM,wDAA0E,CACrGC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6F,kBAEtBzH,MAAK,SAACuI,GAAD,OAASA,EAAIC,UAClBxI,KAToB,uCASf,WAAOuI,GAAP,eAAAT,EAAA,sEACkBS,EADlB,OACEE,EADF,OAEJ1J,QAAQC,IAAIyJ,GACW,YAAnBA,EAAQC,OACX3J,QAAQC,IAAI,gBACiB,SAAnByJ,EAAQC,QAClB3J,QAAQC,IAAI,0BANT,2CATe,uDAkBpBgB,MAAK,WACJ2H,GAAW,GACc,OAAtBnJ,EAASA,SACVuI,EAAS,oGAGTA,EAAS,iHAETI,EAAc,WACdN,EAAS,OA5Bf,yDAJY,wBACZY,EAAY9H,MAAQA,EACpB8H,EAAYD,KAAO,0IAA4ImB,OAAO7K,SAAS8K,SAAW,cAAgBjJ,EAAQ,iGAFtM,mCAGZkJ,MAjBd,kEAkDclB,GAAW,GACX5I,QAAQuB,MAAM,0BAAd,MAnDd,gCAyD6B,OAAtB9B,EAASA,SACVuI,EAAS,mBAGTA,EAAS,oBAEbI,EAAc,SA/DhB,2DA3CqC,wBA+GnC,OAxFFlI,qBAAU,WACiB,OAAtBT,EAASA,UACVqJ,EAAc,aACd9I,QAAQC,IAAIR,EAASA,YAGrBqJ,EAAc,aACd9I,QAAQC,IAAIR,EAASA,aAEvB,CAACA,IAEHS,qBAAU,WACO,yJACF0K,KAAKhK,GAIlBsH,GAAc,GAHdA,GAAc,KAIb,CAACtH,IAuEA,sBAAK2C,UAAU,mBAAf,UACc,qBAAKA,UAAU,WAAWC,MAAO,CAACO,MAAM,QAAxC,SACE,sBAAMR,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,0BAEE,uBACA,qBAAK7H,UAAU,iBAAf,SACCrE,EAAE,0GAED,6BAAKA,EAAE,uCACL,uBAAOsE,MAAO,CAACO,MAAM,OAAOI,aAAa,WACvCtC,GAAG,uBACHwJ,UAAU,KACV9G,SAAU,SAAA+G,GAAC,OAAIxD,EAASwD,EAAE9G,OAAOhI,UAEnC,qBAAKgH,MAAO,CAAC4H,SAAS,QAAtB,SAAgClM,EAAE,qDAClC,sBAAKsE,MAAO,CAAC+H,UAAU,OAAvB,UACF,sBAAKhI,UAAW4E,EAAY3E,MAAO,CAAC+H,UAAU,QAASH,SAAS,OAAQI,WAAW,OAAnF,cAA6FzD,EAA7F,OACF,eAACnD,EAAA,EAAD,CAAQV,QAjIO,2CAiIuBV,MAAO,CAACS,MAAO,SAAUV,UAAU,sBAAzE,cAAiGoF,EAAU,qBAAKpF,UAAU,SAAgBsF,EAA1I,WAEN,0BC/HD,SAAS6c,KAEtB,MAA8BznB,oBAAS,GAAvC,mBAAO0K,EAAP,KAAgBC,EAAhB,KACA,EAAoC3K,mBAAS,IAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAoCjK,mBAAS,WAA7C,mBAAOkK,EAAP,KAAmBC,EAAnB,KACQlJ,EAAMD,cAANC,EACR,EAAsCjB,mBAAS,CAC7CsK,OAAQ,cACRlE,KAAM,GACNzD,MAAO,GACP4H,QAAS,eACTzC,QAAS,oDACT0C,KAAM,yCANR,mBAAOC,EAAP,KAAoBid,EAApB,KAQA,EAAmC1nB,mBAAS,IAA5C,mBAAO4K,EAAP,KAAkBC,EAAlB,KACMrJ,EAAWF,IAAM5C,WAAW6C,IAkBlC,SAASomB,EAAkBta,GACzBqa,GAAe,SAAC1U,GAAD,mBAAC,eACXA,GADU,kBAEZ3F,EAAE9G,OAAOH,KAAOiH,EAAE9G,OAAOhI,WAjB9B0D,qBAAU,WACgB,OAArBT,EAASA,UACVqJ,EAAc,iBACd9I,QAAQC,IAAIR,EAASA,YAGrBqJ,EAAc,oBACd9I,QAAQC,IAAIR,EAASA,aAEvB,CAACA,IAeH,MAAkCxB,mBAAS,QAA3C,mBAAO4nB,EAAP,KAAkBC,EAAlB,KAGA5lB,qBAAU,WACO,yJACF0K,KAAKlC,EAAY9H,OAI9BsH,GAAc,GAHdA,GAAc,KAIf,CAACQ,EAAY9H,QAMhB,IAoBMmlB,EAAS,uCAAG,WAAOza,GAAP,SAAAvC,EAAA,yDAChBH,GAAW,IACPX,EAFY,wBAGhBqD,EAAEnI,iBACFnD,QAAQC,IAAI,CAAEyI,gBACdA,EAAYD,KAAO,4CAA8CC,EAAYrE,KAAO,sDAAwDqE,EAAY3C,QAAU,gFALlJ,SAMOqD,MAAM,wDAA0E,CACrGC,OAAQ,OACRC,QAAU,CACR,eAAgB,mBAChB,OAAU,oBAEZC,KAAM3G,KAAKC,UAAU,CAAE6F,kBAEtBzH,MAAK,SAACuI,GAAD,OAASA,EAAIC,UAClBxI,KAToB,uCASf,WAAOuI,GAAP,eAAAT,EAAA,sEACkBS,EADlB,OACEE,EADF,OAEJ1J,QAAQC,IAAIyJ,GACW,YAAnBA,EAAQC,QACc,OAArBlK,EAASA,SACVqmB,EAAa,8BAGbA,EAAa,oCAEb1d,EAAc,YACdud,EAAe,CACb/kB,MAAO,GACPyD,KAAM,GACN0B,QAAS,MAEe,SAAnB2D,EAAQC,SACO,OAArBlK,EAASA,SACVqmB,EAAa,8BAGbA,EAAa,gFAEf1d,EAAc,aAvBZ,2CATe,uDAmCpBnH,MAAK,WACJ2H,GAAW,GACX+c,EAAe,CACb/kB,MAAO,GACPyD,KAAM,GACN0B,QAAS,QA9CC,sCAmDU,OAArBtG,EAASA,SACVqmB,EAAa,mBAGbA,EAAa,oBAEjB1d,EAAc,SACdQ,GAAW,GA1DK,4CAAH,sDA+Df,OAAO,sBAAKrF,UAAU,WAAWC,MAAO,CAACkI,UAAU,QAA5C,UACG,qBAAKnI,UAAU,cAAcK,IAAKoiB,GAAOliB,IAAI,KAC3C,qBAAKP,UAAU,iBAAiBC,MAAO,CAACkI,UAAU,UAAlD,SACE,sBAAKnI,UAAU,YAAYC,MAAO,CAACC,QAAQ,QAASiB,UAAU,SAAU6G,UAAW,kBAAnF,UACE,sBAAKhI,UAAU,sBAAf,UACE,mBAAGA,UAAU,uBAAb,eACA,mBAAGA,UAAU,uBAAuBC,MAAO,CAAC4H,SAAU,oBAAtD,SAA4ElM,EAAE,iBAKhG,sBAAKqE,UAAU,kBAAf,UAGI,sBAAKA,UAAU,2BAAf,UAEE,qBAAIA,UAAU,eAAd,UACE,oBAAIA,UAAU,YAAd,SAA0B,mBAAGA,UAAU,yBAAb,gEAE1B,oBAAIA,UAAU,YAAd,SAA0B,mBAAGA,UAAU,yBAAb,qEAE1B,oBAAIA,UAAU,YAAd,SAA0B,mBAAGA,UAAU,yBAAb,iEAE1B,oBAAIA,UAAU,YAAd,SAA0B,mBAAGA,UAAU,oBAAb,6BAE1B,oBAAIA,UAAU,YAAd,SAA0B,mBAAGA,UAAU,uBAAb,wCAI5B,uBACA,qBAAKA,UAAU,8BAA8BC,MAAO,CAAC+H,UAAU,UAA/D,SACI,qBAAIhI,UAAU,eAAd,UACE,6BAAI,mBAAGA,UAAU,WAAWC,MAAO,CAACsD,gBAAgB,SAAUmf,KAAK,IAA/D,SAAmE,mBAAG1iB,UAAU,uBACpF,6BAAI,mBAAGA,UAAU,YAAYC,MAAO,CAACsD,gBAAgB,SAAUmf,KAAK,IAAhE,SAAoE,mBAAG1iB,UAAU,6BAG3F,uBAEA,qBAAKA,UAAU,YAAf,8DAEI,qBAAKA,UAAU,OACf,cAACkiB,GAAD,OAKA,iCACA,qBAAKliB,UAAU,mBAAmBC,MAAO,CAAE8B,SAAU,YAArD,SACE,uBAAM/B,UAAU,QAAQC,MAAO,CAACS,MAAO,UAAWmH,SAAS,QAA3D,cAAsElM,EAAE,wDAAxE,SAGI,qBAAKqE,UAAU,gBAAgBC,MAAO,CAACkB,UAAW,KAAKT,MAAO,WAA9D,SACE,qBAAKV,UAAU,QAAf,SACE,sBAAKA,UAAU,mBAAmBC,MAAO,CAACsD,gBAAiB,UAAWof,YAAY,UAAW3a,UAAW,WAAxG,UACE,sCACE,qBAAKhI,UAAU,WAAf,SACE,uBAAOC,MAAO,CAACO,MAAM,OAAO+C,gBAAgB,QAAQ3C,aAAc,OAChEC,YAAY,OACZG,SAAUqhB,EACVvhB,KAAK,OACL7H,MAAOkM,EAAYyd,KACnB9a,UAAU,SAGhB,wCACE,uBAAO7H,MAAO,CAACO,MAAM,OAAOI,aAAc,WACxCC,YAAY,QACZG,SAAUqhB,EACVppB,MAAOkM,EAAY9H,MACnByD,KAAK,QACLgH,UAAU,OAEd,6BAAKnM,EAAE,eACL,0BACEsE,MAAO,CAAEkI,UAAW,QAAS3H,MAAM,OAAOI,aAAc,WACxDC,YAAalF,EAAE,8BACfqF,SAAUqhB,EACVvhB,KAAK,UACL7H,MAAOkM,EAAY0d,YAErB,sBAAK7iB,UAAW4E,EAAY3E,MAAO,CAAC+H,UAAU,QAASH,SAAS,OAAQI,WAAW,OAAnF,cAA6Fqa,EAA7F,OACF,eAACjhB,EAAA,EAAD,CAAQV,QAAS6hB,EAAWviB,MAAO,CAACS,MAAO,SAAUpC,GAAG,cAAc0B,UAAU,sBAAhF,cAAwGoF,EAAU,qBAAKpF,UAAU,SAAgBsF,EAAjJ,0B,OCtMPwd,OA/Bf,WAEI,IAAIxN,GAAO,IAAIxH,MAAOiV,cAElBvnB,EAAWC,cAEf,OACI,8BACI,sBAAKuE,UAAU,cAAeC,MAAO,CAACC,QAA+B,gBAAtB1E,EAASsB,UAAoD,YAAtBtB,EAASsB,UAAgD,WAAtBtB,EAASsB,SAAwB,OAAS,GAAIqE,UAAW,QAAlL,UACJ,oBAAIlB,MAAO,CAACmgB,QAAS,OACvB,qBAAKpgB,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,8BAAf,SACE,oBAAGA,UAAU,iBAAb,4BAAgDsV,EAAhD,gDAKF,qBAAKtV,UAAU,8BAAf,SACE,qBAAIA,UAAU,eAAd,UACE,6BAAI,mBAAGA,UAAU,WAAW0iB,KAAK,GAA7B,SAAgC,mBAAG1iB,UAAU,uBACjD,6BAAI,mBAAGA,UAAU,YAAY0iB,KAAK,GAA9B,SAAiC,mBAAG1iB,UAAU,wCClBjD,SAASgjB,KAEhB,IAAM3lB,EAAUiT,cAAVjT,MACAsG,EAAKC,cACX,EAA+BlJ,mBAAS,IAAxC,mBAAO4Q,EAAP,KAAgB2X,EAAhB,KAwBN,OAtBMtmB,qBAAU,WAAM,4CAGZ,8BAAA6I,EAAA,6DAEUC,EAASC,YAAI/B,EAAI,aAActG,GAFzC,SAG0BsI,YAAOF,GAHjC,QAGU+S,EAHV,QAKgB5a,UACZnB,QAAQC,IAAI,iBAAkB8b,EAAQtR,QACtC2O,YAAUnQ,YAAI/B,EAAI,aAActG,IAChC4lB,EAAY,4GAGZxmB,QAAQC,IAAI,qBACZumB,EAAY,8DAZhB,4CAHY,0DAEZC,KAiBD,IAIP,6CAAgB7lB,EAAhB,IAAuB,6BAAKiO,IAA5B,O,uBCGJ7O,QAAQC,IAAI,oCAAoC2C,KAAKE,MAAMJ,aAAaK,QAAQ,eAIhF,IAAM2jB,GAAiB,CACrBC,OAAQ3H,0CACR4H,WAAY5H,kCACZ6H,UAAW7H,kBACX8H,YAAa9H,0UAAY+H,kBACzBC,cAAehI,0UAAYiI,oBAC3BC,kBAAmBlI,0UAAYmI,wBAC/BC,MAAOpI,0UAAYqI,YACnBC,cAAetI,0UAAYuI,qBAI7BC,aAAcd,IACP,IAAMlnB,GAAUD,IAAMrD,cAAc,MAmL5BurB,OA/Kf,WAEA,MAA6BxpB,oBAAS,GAAtC,mBAAOyJ,EAAP,KAAeC,EAAf,KACA,EAAoC1J,oBAAS,GAA7C,mBAAOoK,EAAP,KAAmBC,EAAnB,KACA,EAAwBrK,mBAAS,MAAjC,mBAAaypB,GAAb,WACA,EAAgCzpB,mBAAS,MAAzC,mBAAOwB,EAAP,KAAiBC,EAAjB,KASE,OAPFQ,qBAAU,WACV,IAAMvC,EAAOC,eACb8C,aAAmB/C,GAAM,SAAAE,GACvB6pB,EAAQ7pB,QAEP,IAGC,cAAC,IAAD,UACA,cAAC,WAAD,CAAU8pB,SAAU,cAAC,EAAD,IAApB,SACA,cAAC,GAAQprB,SAAT,CAAkBC,MAAO,CAAEkL,UAASC,aAAYU,aAAYC,gBAAe7I,WAAUC,eAArF,SACE,sBAAK6D,UAAU,MAAf,UACA,cAAC,IAAD,IACE,eAAC,IAAD,WACA,eAAC,IAAD,CAAOqkB,KAAK,WAAZ,UACE,cAAC,EAAD,IAGE,cAAC7E,GAAD,IAIA,cAAC,GAAD,OAEA,eAAC,IAAD,CAAO6E,KAAK,SAAZ,UACF,cAAC,EAAD,IAGE,cAAC,GAAD,IAIA,cAAC,GAAD,OAEA,eAAC,IAAD,CAAOA,KAAK,YAAZ,UACF,cAAC,EAAD,IAEE,cAAC,GAAD,IAIA,cAAC,GAAD,OAEJ,eAAC,IAAD,CAAOA,KAAK,UAAZ,UACE,cAAC,EAAD,IAGE,cAAC,GAAD,OAMF,eAAC,IAAD,CAAOA,KAAK,SAAZ,UACE,cAAC,EAAD,IAGA,cAAC,GAAD,OAKF,cAAC,IAAD,CAAOA,KAAK,iBAAZ,SAGE,cAAC,GAAD,MAKJ,eAAC,IAAD,CAAOA,KAAK,YAAZ,UACM,cAAC,EAAD,IAGF,cAAC,GAAD,IAGA,cAAC,GAAD,OAEF,eAAC,IAAD,CAAOA,KAAK,WAAZ,UACE,cAAC,EAAD,IAGA,cAAC,GAAD,IAIA,cAAC,GAAD,OAEA,eAAC,IAAD,CAAOA,KAAK,aAAZ,UACF,cAAC,EAAD,IAGE,cAACjT,GAAD,IAIA,cAAC,GAAD,OAEF,eAAC,IAAD,CAAOiT,KAAK,eAAZ,UACA,cAAC,EAAD,IAGE,cAAC,GAAD,OAKA,eAAC,IAAD,CAAOA,KAAK,aAAZ,UACA,cAAC,EAAD,IAGA,cAAC,GAAD,IAIA,cAAC,GAAD,OAEA,eAAC,IAAD,CAAOA,KAAK,gBAAZ,UACF,cAAC,EAAD,IAGE,cAAC,GAAD,IAIA,cAAC,GAAD,OAEA,eAAC,IAAD,CAAOA,KAAK,mBAAZ,UACA,cAAC,EAAD,IAGA,cAAC,GAAD,IAIA,cAAC,GAAD,OAEA,eAAC,IAAD,CAAOA,KAAK,cAAZ,UACA,cAAC,EAAD,IAGA,cAAC,GAAD,OAMA,cAAC,IAAD,CAAOA,KAAK,oBAAZ,SACE,cAACrB,GAAD,MAGF,eAAC,IAAD,CAAOqB,KAAK,IAAZ,UACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,oBClNGC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB9mB,MAAK,YAAkD,IAA/C+mB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCKdO,IAAS5H,OACP,cAAC,IAAM6H,WAAP,UACE,cAAC,EAAD,CAAejsB,atBbS,CACxB0B,OAAQ,GACR6O,MAAO,GACPiJ,KAAM,IsBUqCzZ,QAASA,GAApD,SACA,cAAC,GAAD,QAGFgH,SAASmlB,eAAe,SAM1BV,O","file":"static/js/main.d85946b8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ddd7e19c.png\";","import React, { createContext, useContext, useReducer} from \"react\";\r\n\r\n// prepara l'insieme di dati \r\nexport const StateContext = createContext();\r\n\r\n\r\n//\r\nexport const StateProvider = ({ reducer, initialState, children }) => \r\n( <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n</StateContext.Provider> \r\n);\r\n\r\n\r\n//ottenere i dati\r\nexport const useStateValue = () => useContext(StateContext);","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\n\r\nconst resources = {\r\n  it: {\r\n    translation: {\r\n      \"Contatti\" : \"Contatti\",\r\n      \"Acquista o noleggia articoli usati con l'Ermellino ... \" : \"Acquista o noleggia articoli usati con l'Ermellino ... \",\r\n      \" ... e vedrai che non te ne pentirai\" : \" ... e vedrai che non te ne pentirai\",\r\n      \"Benvenuto fratello/sorella\" : \"Benvenuto fratello/sorella\",\r\n      \"Registrati!\" : \"Registrati!\",\r\n      \"Sei gia registrato/a?\" : \"Sei gia registrato/a?\",\r\n      \"ACQUISTA IL PRODOTTO\" : \"ACQUISTA IL PRODOTTO\",\r\n      \"NOLEGGIA IL PRODOTTO\" : \"NOLEGGIA IL PRODOTTO\",\r\n      \"Per ulteriori informazione compila il form qui sotto\" : \"Per ulteriori informazione compila il form qui sotto\",\r\n      \"*per giornata\" : \"*per giornata\",\r\n      \"Mostra tutti i prodotti\" : \"Mostra tutti i prodotti\",\r\n      \"Re-autentica email\" : \"Re-autentica email\",\r\n      \"Elimina account\" : \"Elimina account\",\r\n      \"Ciao\" : \"Ciao\",\r\n      \"I tuoi\" : \"I tuoi\",\r\n      \"acquisti\" : \"acquisti\",\r\n      \"Vendi o\" : \"Vendi o\",\r\n      \"noleggia\" : \"noleggia\",\r\n      \"Chi siamo\" : \"Chi siamo\",\r\n      \"L'Ermellino è un progetto E-COMMERCE di articoli di seconda mano con ritiro in sede, sviluppato a scopo di Portofolio da Lodovico Giberti.\" : \"L'Ermellino è un progetto E-COMMERCE di articoli di seconda mano con ritiro in sede, sviluppato a scopo di Portofolio da Lodovico Giberti.\",\r\n      \"Le varie sedi, che in questo prototipo sono presenti solo a Milano e Roma, svolgono un compito di magazzino e tutela sia per il venditore che per l'acquirente.\" : \"Le varie sedi, che in questo prototipo sono presenti solo a Milano e Roma, svolgono un compito di magazzino e tutela sia per il venditore che per l'acquirente.\",\r\n      \"Scopri le carte, scopri le nostre priorità...\" : \"Scopri le carte, scopri le nostre priorità...\",\r\n      \"SICUREZZA\" : \"SICUREZZA\",\r\n      \"I nostri magazzini sono dotati dei sistemi di sicurezza più all'avanguardia del mercato.\" : \"I nostri magazzini sono dotati dei sistemi di sicurezza più all'avanguardia del mercato.\",\r\n      \"AFFIDABILITA\" : \"AFFIDABILITA\",\r\n      \"Il trattamento e la gestione della vostra merce sarà sempre fatto nel massimo rispetto delle regole e del buon senso.\" : \"Il trattamento e la gestione della vostra merce sarà sempre fatto nel massimo rispetto delle regole e del buon senso.\",\r\n      \"PRECISIONE\" : \"PRECISIONE\",\r\n      \"Ci affidiamo alle migliori tecnologie software per la gestione di tutti i dati e le informazioni riguardanti ogni singolo prodotto che vendiamo o noleggiamo.\" : \"Ci affidiamo alle migliori tecnologie software per la gestione di tutti i dati e le informazioni riguardanti ogni singolo prodotto che vendiamo o noleggiamo.\",\r\n      \"Il progetto consiste nel creare un luogo dove chiunque puo vendere o noleggiare un suo oggetto.\" : \"Il progetto consiste nel creare un luogo dove chiunque puo vendere o noleggiare un suo oggetto.\",\r\n      \"L'inserimento di un prodotto o l'acquisto / noleggio vengono sempre fatti attraverso la piattaforma, il ritiro però avviene in sede sotto la nostra supervisione.\" : \"L'inserimento di un prodotto o l'acquisto / noleggio vengono sempre fatti attraverso la piattaforma, il ritiro però avviene in sede sotto la nostra supervisione.\",\r\n      \"Regolamento\" : \"Regolamento\",\r\n      \"La missione dell'Ermellino è quella di creare un ambiente comodo e sicuro per poter dare la possibilitò di vendere o noleggiare un proprio prodotto senza avere a che fare direttamente con il cliente.\" : \"La missione dell'Ermellino è quella di creare un ambiente comodo e sicuro per poter dare la possibilitò di vendere o noleggiare un proprio prodotto senza avere a che fare direttamente con il cliente.\",\r\n      \"Per poter mettere un tuo articolo all'interno della nostra lista dovrai procedere tu stesso ad inserire l'articolo con relative foto nella sezione aggiungi articolo che troverai nella sezione 'Vendi o noleggia'.\" : \"Per poter mettere un tuo articolo all'interno della nostra lista dovrai procedere tu stesso ad inserire l'articolo con relative foto nella sezione aggiungi articolo che troverai nella sezione 'Vendi o noleggia'.\",\r\n      \"Una volta inserito l'articolo, verrà inseritò in una lista di attesa dal quale potrà essere accettato solamente dal momento che l'articolo verrà consegnato al magazzino selezionato in fase di inserimento, se le foto e il valore saranno considerati corretti, l'articolo verrà approvato e sarà quindi acquistabile o noleggiabile.\" : \"Una volta inserito l'articolo, verrà inseritò in una lista di attesa dal quale potrà essere accettato solamente dal momento che l'articolo verrà consegnato al magazzino selezionato in fase di inserimento, se le foto e il valore saranno considerati corretti, l'articolo verrà approvato e sarà quindi acquistabile o noleggiabile.\",\r\n      \"L'acquisto e il noleggio degli articoli presenti in questa DEMO possono essere fatti solamente attraverso un profilo sandbox di paypal in quanto l'applicazione è a solo scopo dimostrativo e i prodotti non sono quindi reali.\" : \"L'acquisto e il noleggio degli articoli presenti in questa DEMO possono essere fatti solamente attraverso un profilo sandbox di paypal in quanto l'applicazione è a solo scopo dimostrativo e i prodotti non sono quindi reali.\",\r\n      \"Linee Guida\" : \"Linee Guida\",\r\n      \"Commenti sotto i Post\" : \"Commenti sotto i Post\",\r\n      \"E' possibile commentare i gli articoli semplicemente creando un account, qualsiasi commento ritenuto offensivo o non idoneo potrà essere eliminato dal nostro Staff.\" : \"E' possibile commentare i gli articoli semplicemente creando un account, qualsiasi commento ritenuto offensivo o non idoneo potrà essere eliminato dal nostro Staff.\",\r\n      \"Regole sul pagamento\" : \"Regole sul pagamento\",\r\n      \"Il pagamento può essere testato solamente con PayPal in modalità sandbox in quanto è un sito portofolio NON IN PRODUZIONE\" : \"Il pagamento può essere testato solamente con PayPal in modalità sandbox in quanto è un sito portofolio NON IN PRODUZIONE\",\r\n      \"Altra regola Random\" : \"Altra regola Random\",\r\n      \"Non è consentito alcun tipo di ...\" : \"Non è consentito alcun tipo di ...\",\r\n      \"Messaggio\" : \"Messaggio\",\r\n      \"Rimani sempre connesso e scopri tutte le novità dell'ERMELLINO, iscriviti alla nostra newsletter!\" : \"Rimani sempre connesso e scopri tutte le novità dell'ERMELLINO, iscriviti alla nostra newsletter!\",\r\n      \"Inserisci il tuo indirizzo E-mail\" : \"Inserisci il tuo indirizzo E-mail\",\r\n      \"Non condivideremo questa informazione con altri\" : \"Non condivideremo questa informazione con altri\",\r\n      \"Questo sito utilizza cookie tecnici, analytics e di terze parti.\" : \"Questo sito utilizza cookie tecnici, analytics e di terze parti.\" ,\r\n      \"Proseguendo nella navigazione accetti l’utilizzo dei cookie.\" :  \"Proseguendo nella navigazione accetti l’utilizzo dei cookie.\",\r\n      \"ACCETTA\" : \"ACCETTA\",\r\n      \"RIFIUTA\" : \"RIFIUTA\",\r\n      \"Accedi\" : \"Accedi\",\r\n      \"Password dimenticata?\" : \" Password dimenticata?\",\r\n      \"Una volta eseguito il Login sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\" : \"Una volta eseguito il Login sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\",\r\n      \"Non ti sei ancora registrato/a\" : \"Non ti sei ancora registrato/a\",\r\n      \"Registrati\" : \"Registrati\",\r\n      \"Nome\" : \"Nome\",\r\n      \"Una volta eseguita la registrazione sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\" : \"Una volta eseguita la registrazione sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\",\r\n      \"Hai gia un account?\" : \"Hai gia un account?\",\r\n      \"fai il login\" : \"fai il login\",\r\n      \"Lista dei tuoi ordini\" : \"Lista dei tuoi ordini\",\r\n      \"Stato dei tuoi articoli\" : \"Stato dei tuoi articoli\",\r\n      \"per giornata\" : \"per giornata\",\r\n      \"Aggiungi articolo\" : \"Aggiungi articolo\",\r\n      \"Stato\" : \"Stato\",\r\n      \"VENDUTO\" : \"VENDUTO\",\r\n      \"DISPONIBILE\" : \"DISPONIBILE\",\r\n      \"RIFIUTATO\" : \"RIFIUTATO\",\r\n      \"ATTESA\" : \"ATTESA\",\r\n      \"Effettuato il\" : \"Effettuato il\",\r\n      \"Ordine\" : \"ID ordine\",\r\n      \"Data fine noleggio\" : \"Data fine noleggio\",\r\n      \"Data inizio noleggio\" : \"Data inizio noleggio\",\r\n      \"Caparra versata\" : \"Caparra versata\",\r\n      \"Spesa\" : \"Spesa\",  \r\n      \"Risultati ricerca\" : \"Risultati ricerca\",\r\n      \"Aggiungi al carrello\" : \"Aggiungi al carrello\",\r\n      \"Deposito caparra\" : \"Deposito caparra\",\r\n      \"Cerca\" : \"Cerca\",\r\n      \"Elimina\" : \"Elimina\",\r\n      \"Modifica\" : \"Modifica\",\r\n      \"Rispondi\" : \"Rispondi\",\r\n      \"Totale\" : \"Totale\",\r\n      \"Vendo / Noleggio\" : \"Vendo / Noleggio\",\r\n      \"elemento/i\" : \"elemento/i\",\r\n      \"Il tuo carrello\" : \"Il tuo carrello\",\r\n      \"Vendi o noleggi?\" : \"Vendi o noleggi?\",\r\n      \"Vendi\" : \"Vendi\",\r\n      \"Noleggia\" : \"Noleggia\",\r\n      \"Città\" : \"Città\",\r\n      \"Inserisci il prezzo per giornata\" : \"Inserisci il prezzo per giornata\",\r\n      \"Inserisci il prezzo\" : \"Inserisci il prezzo\",\r\n      \"Descrizione completa\" : \"Descrizione completa\",\r\n      \"Breve descrizione\" : \"Breve descrizione\",\r\n      \"Nome prodotto\" : \"Nome prodotto\",\r\n      \"devi caricare almeno una foto, fino ad un massimo di 5\" : \"devi caricare almeno una foto, fino ad un massimo di 5\",\r\n      \"Carica foto\" : \"Carica foto\",\r\n      \"compila questo campo solo se stai noleggiando il prodotto\" : \"compila questo campo solo se stai noleggiando il prodotto\",\r\n      \"se noleggi il prodotto inserisci il suo valore assoluto per stabilirne la caparra\" : \"se noleggi il prodotto inserisci il suo valore assoluto per stabilirne la caparra\",\r\n      \"Procedi all'acquisto\" : \"Procedi all'acquisto\",\r\n      \"differenza tra costo noleggio e valore totale del prodotto, per ulteriori info controlla il nostro regolamento\" : \"differenza tra costo noleggio e valore totale del prodotto, per ulteriori info controlla il nostro regolamento\",\r\n    }\r\n  },\r\n  en: {\r\n    translation: {\r\n      \"Regolamento\": \"Rules\",\r\n      \"Contatti\" : \"Contacts\",\r\n      \"Acquista o noleggia articoli usati con l'Ermellino ... \" : \"Buy or rent second hand items with l'Ermellino ... \",\r\n      \" ... e vedrai che non te ne pentirai\" : \" ... and you won’t regret it\",\r\n      \"Benvenuto fratello/sorella\" : \"Welcome brother/sister\",\r\n      \"Registrati!\" : \"Register!\",\r\n      \"Sei gia registrato/a?\" : \"Are you already registered?\",\r\n      \"ACQUISTA IL PRODOTTO\" : \"BUY PRODUCT\",\r\n      \"NOLEGGIA IL PRODOTTO\" : \"RENT PRODUCT\",\r\n      \"Per ulteriori informazione compila il form qui sotto\" : \"For more information fill out the form below\",\r\n      \"*per giornata\" : \"*per day\",\r\n      \"Mostra tutti i prodotti\" : \"Show all products\",\r\n      \"Ciao\" : \"Hi\",\r\n      \"Re-autentica email\" : \"Re-authenticate email\",\r\n      \"Elimina account\" : \"Delete account\",\r\n      \"I tuoi\" : \"Yours\",\r\n      \"acquisti\" : \"shopping\",\r\n      \"Vendi o\" : \"Sell or\",\r\n      \"noleggia\" : \"rent\",\r\n      \"Chi siamo\" : \"About us\",\r\n      \"L'Ermellino è un progetto E-COMMERCE di articoli di seconda mano con ritiro in sede, sviluppato a scopo di Portofolio da Lodovico Giberti.\" : \"L'Ermellino is an E-COMMERCE project of second hand items with collection on site, developed for the purpose of Portofolio by Lodovico Giberti.\",\r\n      \"Le varie sedi, che in questo prototipo sono presenti solo a Milano e Roma, svolgono un compito di magazzino e tutela sia per il venditore che per l'acquirente.\" : \"The various offices, which in this prototype are present in Milan and Rome, carry out a warehouse and protection task for both the seller and the buyer.\",\r\n      \"Scopri le carte, scopri le nostre priorità...\" : \"Discover the cards, discover our priorities ...\",\r\n      \"SICUREZZA\" : \"SECURITY\",\r\n      \"I nostri magazzini sono dotati dei sistemi di sicurezza più all'avanguardia del mercato.\" : \"Our warehouses are equipped with the most advanced security systems on the market.\",\r\n      \"AFFIDABILITA\" : \"RELIABILITY\",\r\n      \"Il trattamento e la gestione della vostra merce sarà sempre fatto nel massimo rispetto delle regole e del buon senso.\" : \"The handling and management of your goods will always be done with the utmost respect for the rules and common sense.\",\r\n      \"PRECISIONE\" : \"PRECISION\",\r\n      \"Ci affidiamo alle migliori tecnologie software per la gestione di tutti i dati e le informazioni riguardanti ogni singolo prodotto che vendiamo o noleggiamo.\" : \"We rely on the best software technologies for the management of all data and information regarding every single product we sell or rent.\",\r\n      \"Il progetto consiste nel creare un luogo dove chiunque puo vendere o noleggiare un suo oggetto.\" : \"The project is to create a place where anyone can sell or rent one of their objects.\",\r\n      \"L'inserimento di un prodotto o l'acquisto / noleggio vengono sempre fatti attraverso la piattaforma, il ritiro però avviene in sede sotto la nostra supervisione.\" : \"The insertion of a product or the purchase / rental is always done through the platform, but the withdrawal takes place on site under our supervision.\",\r\n      \"La missione dell'Ermellino è quella di creare un ambiente comodo e sicuro per poter dare la possibilitò di vendere o noleggiare un proprio prodotto senza avere a che fare direttamente con il cliente.\" : \"Ermellino's mission is to create a comfortable and safe environment in order to be able to sell or rent one's own product without having to deal directly with the customer.\",\r\n      \"Per poter mettere un tuo articolo all'interno della nostra lista dovrai procedere tu stesso ad inserire l'articolo con relative foto nella sezione aggiungi articolo che troverai nella sezione 'Vendi o noleggia'.\" : \"To be able to put your article on our list you will have to proceed by inserting the article with relative photos in the add article section that you will find in the 'Sell or rent' section.\",\r\n      \"Una volta inserito l'articolo, verrà inseritò in una lista di attesa dal quale potrà essere accettato solamente dal momento che l'articolo verrà consegnato al magazzino selezionato in fase di inserimento, se le foto e il valore saranno considerati corretti, l'articolo verrà approvato e sarà quindi acquistabile o noleggiabile.\" : \"Once the article has been entered, it will be placed on a waiting list from which it can only be accepted from the moment that the article will be delivered to the warehouse selected during the insertion phase, if the photos and the value are considered correct, the article it will be approved and can then be purchased or rented.\",\r\n      \"L'acquisto e il noleggio degli articoli presenti in questa DEMO possono essere fatti solamente attraverso un profilo sandbox di paypal in quanto l'applicazione è a solo scopo dimostrativo e i prodotti non sono quindi reali.\" : \"The purchase and rental of the items in this DEMO can only be done through a paypal sandbox profile as the application is for demonstration purposes only and the products are therefore not real.\",\r\n      \"Linee Guida\" : \"Guidelines\",\r\n      \"Commenti sotto i Post\" : \"Comments under the Posts\",\r\n      \"E' possibile commentare i gli articoli semplicemente creando un account, qualsiasi commento ritenuto offensivo o non idoneo potrà essere eliminato dal nostro Staff.\" : \"It is possible to comment on articles simply by creating an account, any comment deemed offensive or unsuitable can be deleted by our staff.\",\r\n      \"Regole sul pagamento\" : \"Payment Rules\",\r\n      \"Il pagamento può essere testato solamente con PayPal in modalità sandbox in quanto è un sito portofolio NON IN PRODUZIONE\" : \"The payment can only be tested with PayPal in sandbox mode as it is a portofolio site NOT IN PRODUCTION\",\r\n      \"Altra regola Random\" : \"Other Random Rule\",\r\n      \"Non è consentito alcun tipo di ...\" : \"No kind of ... is allowed.\",\r\n      \"Scrivi il tuo messaggio...\" : \"Text your message ...\",\r\n      \"Messaggio\" : \"Message\",\r\n      \"Rimani sempre connesso e scopri tutte le novità dell'ERMELLINO, iscriviti alla nostra newsletter!\" : \"Stay always connected and discover all the news of the ERMELLINO, subscribe to our newsletter!\",\r\n      \"Inserisci il tuo indirizzo E-mail\" : \"Please enter your email address\",\r\n      \"Non condivideremo questa informazione con altri\" : \"We will not share this information with others\",\r\n      \"Questo sito utilizza cookie tecnici, analytics e di terze parti.\" : \"This site uses technical, analytics and third-party cookies.\",\r\n      \"Proseguendo nella navigazione accetti l’utilizzo dei cookie.\" : \"By continuing to browse, you accept the use of cookies.\",\r\n      \"ACCETTA\" : \"ACCEPT\",\r\n      \"RIFIUTA\" : \"REFUSE\",\r\n      \"Accedi\" : \"Login\",\r\n      \"Password dimenticata?\" : \"Forgot password?\",\r\n      \"Una volta eseguito il Login sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\" : \"Once you have logged in, you will agree with the terms of use & sale of L'ERMELLINO. We therefore ask you to check our information regarding Privacy and the use of Cookies.\",\r\n      \"Non ti sei ancora registrato/a\" : \"Haven't you registered yet\",\r\n      \"Registrati\" : \"Sign in\",\r\n      \"Nome\" : \"Name\",\r\n      \"Una volta eseguita la registrazione sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\" : \"Once you have registered you will agree with the terms of use & sale of L'ERMELLINO. We therefore ask you to check our information regarding Privacy and the use of Cookies.\",\r\n      \"Hai gia un account?\" : \"Do you already have an account?\",\r\n      \"fai il login\" : \"log in\",\r\n      \"Lista dei tuoi ordini\" : \"List of your orders\",\r\n      \"Stato dei tuoi articoli\" : \"Status of your articles\",\r\n      \"per giornata\" : \"per day\",\r\n      \"Aggiungi articolo\" : \"Add article\",\r\n      \"Stato\" : \"State\",\r\n      \"VENDUTO\" : \"SOLD\",\r\n      \"DISPONIBILE\" : \"AVAILABLE\",\r\n      \"RIFIUTATO\" : \"REFUSED\",\r\n      \"ATTESA\" : \"APPENDING\",\r\n      \"Effettuato il\" : \"Ordered on\",\r\n      \"Ordine\" : \"ID Order\",\r\n      \"Data fine noleggio\" : \"Check-out\",\r\n      \"Data inizio noleggio\" : \"Check-in\",\r\n      \"Caparra versata\" : \"Deposit paid\",\r\n      \"Spesa\" : \"Paid\",  \r\n      \"Risultati ricerca\" : \"Search results\",\r\n      \"Aggiungi al carrello\" : \"Add to cart\",\r\n      \"Deposito caparra\" : \"Deposit\",\r\n      \"Cerca\" : \"Search\",\r\n      \"Elimina\" : \"Delete\",\r\n      \"Modifica\" : \"Update\",\r\n      \"Rispondi\" : \"Reply\",\r\n      \"Il tuo carrello\" : \"Your shopping cart\",\r\n      \"Totale\" : \"Total\",\r\n      \"elemento/i\" : \"element/s\",\r\n      \"Vendi o noleggi?\" : \"Do you sell or rent?\",\r\n      \"Vendo / Noleggio\" : \"Sell / Rent\",\r\n      \"Vendi\" : \"Sell\",\r\n      \"Città\" : \"City\",\r\n      \"Descrizione completa\" : \"Full description\",\r\n      \"Breve descrizione\" : \"Short description\",\r\n      \"Inserisci il prezzo per giornata\" : \"Enter the price per day\",\r\n      \"Nome prodotto\" : \"Product name\",\r\n      \"Noleggia\" : \"Rent\",\r\n      \"Carica foto\" : \"Upload photo\",\r\n      \"devi caricare almeno una foto, fino ad un massimo di 5\" : \"you must upload at least one photo, up to a maximum of 5\",\r\n      \"se noleggi il prodotto inserisci il suo valore assoluto per stabilirne la caparra\" : \"if you rent the product, enter its absolute value to establish the deposit\",\r\n      \"Inserisci il prezzo\" : \"Enter the price\",\r\n      \"Procedi all'acquisto\" : \"Proceed to checkout\",\r\n      \"compila questo campo solo se stai noleggiando il prodotto\" : \"fill in this field only if you are renting the product\",\r\n      \"differenza tra costo noleggio e valore totale del prodotto, per ulteriori info controlla il nostro regolamento\" : \"difference between rental cost and total value of the product, for more info check our rules\",\r\n    }\r\n  },\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    lng: \"it\",\r\n    returnObjects: true,\r\n    interpolation: {\r\n      escapeValue: false,\r\n      format: function (value, format, lng) {\r\n        if (format === \"uppercase\") return value.toUpperCase();\r\n        return value;\r\n      }\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './Header.css';\r\nimport logo from './logo.png';\r\nimport SavedSearchIcon from '@mui/icons-material/SavedSearch';\r\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getAuth, signOut, onAuthStateChanged, sendEmailVerification, deleteUser} from 'firebase/auth';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { Button } from '@mui/material';\r\nimport { toast } from 'react-toastify';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport './icon.css';\r\nimport \"./i18n\";\r\nimport Cookies from 'js-cookie';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDatabase, ref, child, get } from \"firebase/database\";\r\nimport { context } from \"./App.js\";\r\n\r\n\r\n\r\nfunction Header() {\r\n    \r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    const [{basket},dispatch] = useStateValue();\r\n    const [isSignedin, setisSignedin] = useState(true)\r\n    let history = useHistory();\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const open = Boolean(anchorEl);\r\n    const [showResults, setShowResults] = useState(false);\r\n    const allcart = [];\r\n    let location = useLocation();\r\n    const { t, i18n } = useTranslation();\r\n    const [classheader,setClassheader] = useState('header');\r\n    const [classmenu,setClassmenu] = useState('menuham');\r\n    const {language, setLanguage} = React.useContext(context);\r\n\r\n    console.log(language)\r\n\r\n    function classMenu () {\r\n      if (classheader === 'header') {\r\n        setClassheader('header open')\r\n        setClassmenu('menuham active')\r\n      }\r\n      else {\r\n        setClassheader('header')\r\n        setClassmenu('menuham')\r\n      }\r\n    }\r\n    \r\n    \r\n    //Setto i cookies con la lingua impostata dall'utente e con l'useeffect gli e la imposto automaticamente in modo che dal suo pc si possa ritrovare la lingua gia impostata in precedenza\r\n    function cookieslan (lan) {\r\n      Cookies.set('lan', lan);  \r\n    }\r\n\r\n    //inizializza il sito con la lingua salvata nell'ultimo cookies in modo da far trovare l'utente con la lingua impostata precedentemente\r\n    useEffect(() => {\r\n      if(Cookies.get('lan') !== \"\")\r\n      i18n.changeLanguage(Cookies.get('lan'))\r\n    //va a settare la lingua nel USECONTEXT in modo da switchare correttamente anche tutti gli altri elementi nella lingua rilevata dai cookies\r\n      setLanguage(Cookies.get('lan'))\r\n    }, []);\r\n\r\n\r\n    //per sapere dove indica la location del dom\r\n    console.log(location.pathname)\r\n\r\n    //per fare ricerca di un oggetto nella barra in alto \r\n    const parentToChild = () => {\r\n        const search = {\r\n            pathname: `/search/${searchTerm}`,\r\n          }\r\n        history.push(search)\r\n      }\r\n\r\n    const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n    setAnchorEl(null);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n      onAuthStateChanged(auth, (user) => {\r\n        if (user) {\r\n            setisSignedin(true)\r\n            const uid = user.uid;\r\n          // ...\r\n        } else {\r\n            setisSignedin(false)\r\n        }\r\n      });\r\n      if (user != null) {\r\n        setShowResults(false)\r\n          if (user.email === 'lodovico.giberti@libero.it') //ho impostato la mia email come admin per vedere la dashboard ed accettare i prodotti\r\n          {\r\n          setShowResults(true)\r\n          }\r\n          const dbRef = ref(getDatabase());\r\n          get(child(dbRef, `users/` + user.uid)).then((snapshot) => {\r\n            if (snapshot.exists()) {\r\n              console.log(snapshot.val());\r\n              for(var i in snapshot.val())\r\n              allcart.push([i, snapshot.val() [i]]);\r\n            } else {\r\n              console.log(user.uid);\r\n            }\r\n          }).catch((error) => {\r\n            console.error(error);\r\n          }).finally(() => { \r\n          if (basket?.length === 0) {  \r\n          if(allcart.length > 0)\r\n          addtoBasket();\r\n          }\r\n          });\r\n        }\r\n      },[user])\r\n\r\n\r\n//sezione aggiornamento carrello tramite realtime database se utente ha elementi in carrello, ottenuti dal passaggio nell useEffect sopra\r\n    const addtoBasket = () => {\r\n\r\n      for(var i = 0; i < allcart.length; i++){\r\n\r\n          dispatch({\r\n            type: 'ADD_TO_BASKET',\r\n            item: {\r\n                id: allcart[i][0],\r\n                preview: allcart[i][1].preview,\r\n                title: allcart[i][1].title,\r\n                image: allcart[i][1].image,\r\n                price: allcart[i][1].price,\r\n                startDate: allcart[i][1].startDate,\r\n                endDate: allcart[i][1].endDate,\r\n                totalday: allcart[i][1].totalday,\r\n                city: allcart[i][1].city,\r\n                tipo: allcart[i][1].tipo, \r\n                CreatedOn: allcart[i][1].CreatedOn,\r\n                idbuyer: allcart[i][1].idbuyer,\r\n                caparra: allcart[i][1].caparra,\r\n            }\r\n        })\r\n      console.log(allcart[i]);\r\n    }\r\n  }\r\n\r\n    \r\n    const verificaemail = () => {\r\n        handleClose();\r\n        sendEmailVerification(auth.currentUser)\r\n        .then(() => {\r\n        toast.success(\"Un email di verifica è stata mandata all'indirizzo \" + user.email, { \r\n        position: \"top-left\",\r\n        autoClose: true,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n    }); }\r\n\r\n\r\n    const eliminaaccount = () => {\r\n        deleteUser(user).then(() => {\r\n            toast.success(\"Account eliminato correttamente\" , { \r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n          }).catch((error) => {\r\n            toast.error(\"Account non eliminato, riprova più tardi o scrivici alla sezione contatti\",  {\r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined, })\r\n            // ...\r\n          });     \r\n    }\r\n\r\n    const logout = () => {\r\n        signOut(auth).then(() => {\r\n\r\n          dispatch({\r\n            type: 'CLEAR_BASKET'});\r\n\r\n            history.push(\"/\")\r\n          }).catch((error) => {\r\n            // An error happened.\r\n          });\r\n    }\r\n\r\n    const dashboard = () => {\r\n          history.push(\"/dashboard\")\r\n        }\r\n  \r\n\r\n\r\n   const submit = () => {\r\n\r\n    handleClose();\r\n        confirmAlert({\r\n          title: 'Sei sicuro di voler eliminare il tuo account?',\r\n          message: 'Per qualsiasi informazione scrivi alla sezione contatti.',\r\n          buttons: [\r\n            {\r\n              label: 'Yes',\r\n              onClick: () => eliminaaccount(),\r\n            },\r\n            {\r\n              label: 'No',\r\n            }\r\n          ]\r\n        });\r\n      };\r\n\r\n\r\n\r\n    //per salvare le info di carrello nel localstorage ad ogni cambiamento del carrello\r\n    useEffect(() => {\r\n      localStorage.setItem(\"localCart\", JSON.stringify(basket));\r\n      console.log('carrello salvato in localstorage:',JSON.parse(localStorage.getItem(\"localCart\")))\r\n    }, [basket]);\r\n\r\n\r\n      //dai funzione con il tasto invio\r\n      useEffect(() => {\r\n        const listener = event => {\r\n          if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n            console.log(\"Enter key was pressed. Run your function.\");\r\n            event.preventDefault();\r\n\r\n            if (searchTerm)\r\n            parentToChild();\r\n          }\r\n        };\r\n        document.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n          document.removeEventListener(\"keydown\", listener);\r\n        };\r\n      });\r\n\r\n        \r\n//Header senza login\r\n    if (isSignedin === false) {\r\n    return (\r\n        <div className={classheader}  style={{display: location.pathname === \"/paysection\" || location.pathname === \"/signin\" || location.pathname === \"/login\" ? \"none\" : \"\" }}>\r\n        <div style={{display:\"flex\",justifyContent: \"center\"}}>\r\n        <Link to=\"/\">\r\n            <img className=\"header_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n        </Link>\r\n        <div className=\"listmenu\">\r\n        <Link to=\"/aboutus\">\r\n        {/*il pathname a condizione dello stile è per identificare la section dell'user*/}\r\n        <div className='listitem'  style={{color: location.pathname === \"/aboutus\" ? 'rgb(198, 133, 37)' : '' }}> {t(\"Chi siamo\")} </div>\r\n        </Link>\r\n        <Link to=\"/rules\">\r\n        <div className='listitem' style={{color: location.pathname === \"/rules\" ? 'rgb(198, 133, 37)' : '' }}> {t(\"Regolamento\")} </div>\r\n        </Link>\r\n        <Link to=\"/contacts\">\r\n        <div className='listitem' style={{color: location.pathname === \"/contacts\" ? 'rgb(198, 133, 37)' : '' }}> {t(\"Contatti\")} </div>\r\n        </Link>\r\n        <span className=\"flag-icon flag-icon-it\" onClick={() => {i18n.changeLanguage(\"it\");cookieslan(\"it\");setLanguage(\"it\")}}> </span>\r\n        <span className=\"flag-icon flag-icon-gb\" onClick={() => {i18n.changeLanguage(\"en\");cookieslan(\"en\");setLanguage(\"en\")}}></span>\r\n        </div>\r\n        </div>\r\n        \r\n            <div className=\"header__search\">\r\n            <div className={classmenu} onClick={() => classMenu()}>\r\n               <li></li>\r\n               <li></li>\r\n               <li></li>\r\n           </div>\r\n         {/*input style={{width:\"100%\",height:\"31px\",borderRadius: \"5px\"}} Senza material UI */} <input style={{width:\"100%\",height:\"31px\",borderRadius: \"5px\"}}  \r\n              placeholder={t(\"Cerca\")}\r\n              name=\"search\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              onChange={(event) => {setSearchTerm(event.target.value)} } \r\n              \r\n             /> \r\n                <SavedSearchIcon style={{border:\"1px solid #E05D5D\",borderRadius:\"6px\",height:\"25px\",marginTop:\"1px\"}}  onClick={() => parentToChild()}\r\n                className=\"header__searchIcon\" />\r\n            </div>\r\n            {/* { location.pathname !== \"/paysection\" || location.pathname !== \"/signin\" || location.pathname !== \"/login\" &&\r\n            <ToastContainer />\r\n            }*/ }\r\n            <div className=\"hidelist\">\r\n            <div className=\"header__nav\">\r\n                    <div className='header__option'>\r\n                        <span className='header__optionLineOne'> {t(\"Benvenuto fratello/sorella\")} </span>\r\n                        <Link to='/signin' >\r\n                        <span className='header__optionLineTwo'> {t(\"Registrati!\")} </span>\r\n                        </Link>\r\n                    </div>\r\n            <div className='header__option'>\r\n                    <span className='header__optionLineOne'> {t(\"Sei gia registrato/a?\")}  </span>\r\n                <Link to='/login' >\r\n                    <span className='header__optionLineTwo'> Log in </span>\r\n                </Link>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n//Header con login\r\n    else {\r\n\r\n        return (\r\n            <div className={classheader} style={{display: location.pathname === \"/paysection\" || location.pathname === \"/signin\" || location.pathname === \"/login\" || location.pathname === \"/addproducts\" ? \"none\" : \"\" }}  > {/* style={{display: location.pathname === \"/paysection\" ? \"none\" : \"\" }}   condizione nello style diretto */} \r\n            <div style={{display:\"flex\",justifyContent: \"center\"}}>\r\n            <Link to=\"/\">\r\n            <img className=\"header_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n              </Link>\r\n              <div className=\"listmenu\">\r\n              <Link to=\"/aboutus\">\r\n                {/*il pathname a condizione dello stile è per identificare la section dell'user*/}\r\n              <div className='listitem' style={{color: location.pathname === \"/aboutus\" ? 'rgb(198, 133, 37)' : '' }}> {t(\"Chi siamo\")} </div>\r\n              </Link>\r\n              <Link to=\"/rules\">\r\n              <div className='listitem' style={{color: location.pathname === \"/rules\" ? 'rgb(198, 133, 37)' : '' }}> {t(\"Regolamento\")} </div>\r\n              </Link>\r\n              <Link to=\"/contacts\">\r\n              <div className='listitem' style={{color: location.pathname === \"/contacts\" ? 'rgb(198, 133, 37)' : '' }}> {t(\"Contatti\")} </div>\r\n              </Link>\r\n              <span className=\"flag-icon flag-icon-it\" onClick={() => {i18n.changeLanguage(\"it\");cookieslan(\"it\");setLanguage(\"it\")}}> </span>\r\n              <span className=\"flag-icon flag-icon-gb\" onClick={() => {i18n.changeLanguage(\"en\");cookieslan(\"en\");setLanguage(\"en\")}}> </span>\r\n              </div>\r\n              </div>\r\n            <div className=\"header__search\">\r\n            <div className={classmenu} onClick={() => classMenu()}>\r\n               <li></li>\r\n               <li></li>\r\n               <li></li>\r\n           </div>\r\n                  <input style={{width:\"100%\",height:\"31px\",borderRadius: \"5px\"}} \r\n                  autoComplete=\"off\"\r\n                  placeholder={t(\"Cerca\")}\r\n                  name=\"search\"\r\n                  type=\"text\"\r\n                  onChange={(event) => {setSearchTerm(event.target.value)} } /> \r\n                <SavedSearchIcon style={{border:\"1px solid #E05D5D\",borderRadius:\"6px\",height:\"25px\",marginTop:\"1px\"}}  onClick={() => parentToChild()}\r\n                className=\"header__searchIcon\" />\r\n            </div>\r\n            {/* { location.pathname !== \"/paysection\" || location.pathname !== \"/signin\" || location.pathname !== \"/login\" &&\r\n            <ToastContainer />\r\n            }*/ }\r\n                <div className=\"header__nav\">\r\n                  <div className='header__option'>\r\n                    <span className='header__optionLineOne'> {t(\"Ciao\")} {user && user.displayName} </span>\r\n                    <div className=\"logoutsetting\">\r\n                    <Button onClick={logout} style={{color: \"white\",height: \"21px\"}} className='login__signOutButton'> Log out </Button> \r\n                    <div className={\"icon-btn light-theme \" + (anchorEl ? 'set' : '')} onClick={handleClick}>\r\n                    <i className=\"icon fas fa-cog\" ></i>\r\n                    </div>\r\n                    </div>\r\n                    <Menu  \r\n                        id=\"basic-menu\"\r\n                        anchorEl={anchorEl}\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        MenuListProps={{\r\n                        'aria-labelledby': 'basic-button',\r\n                        }}\r\n                    >\r\n                        <MenuItem onClick={verificaemail}>{t(\"Re-autentica email\")}</MenuItem>\r\n                        <MenuItem onClick={submit}>{t(\"Elimina account\")}</MenuItem>\r\n                        { showResults ? <MenuItem onClick={dashboard}> Dashboard </MenuItem> : null }\r\n                    </Menu>\r\n                  </div>\r\n\r\n                <div className=\"header__nav two\">\r\n                    <div className='header__option'>\r\n                        <Link to='/ownorders' >\r\n                        <span className='header__optionLineTwo'> {t(\"I tuoi\")} </span>\r\n                        <br/>\r\n                        <span className='header__optionLineTwo'> {t(\"acquisti\")} </span>\r\n                        </Link>\r\n                    </div>\r\n            \r\n            <div className='header__option'>\r\n                <Link to='/ownshop' >\r\n                    <span className='header__optionLineTwo'> {t(\"Vendi o\")} </span>\r\n                    <br/>\r\n                    <span className='header__optionLineTwo'> {t(\"noleggia\")}  </span>\r\n                </Link>\r\n                </div>\r\n                </div>\r\n\r\n                 <Link to=\"/checkout\"  style={{ textDecoration: 'none', alignSelf: 'center'}}>\r\n                    <div className='header__optionBasket'>\r\n                    <span className=\"header__optionLineTwo header__basketCount\">{basket?.length}</span>\r\n                    <AddShoppingCartIcon />\r\n                    </div>\r\n                </Link>\r\n              </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default Header","import React, { useState, useEffect } from 'react';\r\nimport \"./Product.css\";\r\nimport { Button } from '@mui/material';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\nfunction Product({id,tipo,title,preview,image,price,priceday,city,previewEN,titleEN}) {\r\n\r\n    let history = useHistory();\r\n    const type = tipo;\r\n    const getprodotto = () => {history.push(`/pageproduct/${id}`)}\r\n    const [convertedText, setConvertedText] = useState('');\r\n    const [titleconvertedText, setTitleConvertedText] = useState('');\r\n    const { t } = useTranslation();\r\n    const language = React.useContext(context);\r\n\r\n\r\n  //utilizza l'useContext per cambiare la lingua\r\n  useEffect(() => {\r\n    if(language.language === 'en') {\r\n      setTitleConvertedText(titleEN);\r\n      setConvertedText(previewEN);\r\n      console.log(language.language)\r\n      }\r\n      else {\r\n      setTitleConvertedText(title);\r\n      setConvertedText(preview);\r\n      console.log(language.language)\r\n      }\r\n  },[language]);\r\n\r\n\r\n\r\n  if (type === \"VENDO\") {\r\n    return (\r\n        <div className=\"product\">\r\n                <div className=\"product__info\">\r\n                    <div className=\"product__description\">\r\n                        <h2>{titleconvertedText}</h2>\r\n                        <p>{convertedText}</p>\r\n                    </div>\r\n                    <div className=\"product__price\">\r\n                        <h5>€ {price} </h5>\r\n                    </div>\r\n                    <div className=\"product__rating\">\r\n                        {city}\r\n                    </div>\r\n                </div>   \r\n\r\n        <img src={image[0]}  className=\"imghome\" />        \r\n        <div className=\"buttonbot\">   \r\n        <Button onClick={getprodotto} className=\"buttons\" style={{width: \"100%\",backgroundColor:\"#00A19D\", border: \"1px solid black\",height:\"45px\"}}>        \r\n        <VisibilityIcon style={{color:\"white\",borderRadius:\"9px\",width:\"15%\",height:\"53px\",marginRight: \"13px\"}} />\r\n        {t(\"ACQUISTA IL PRODOTTO\")} </Button> \r\n        </div>\r\n        </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"product\">\r\n        <div className=\"product__info\">\r\n            <div className=\"product__description\">\r\n                        <h2>{titleconvertedText}</h2>\r\n                        <p>{convertedText}</p>\r\n                    </div>\r\n                    <div className=\"product__price\">\r\n                        <h5>€ {priceday} {t(\"*per giornata\")}   </h5>  \r\n                    </div>\r\n                    <div className=\"product__rating\">\r\n                        {city}\r\n                    </div>\r\n                </div> \r\n\r\n        <img src={image[0]} alt=\"\" className=\"imghome\"  /> \r\n        <div className=\"buttonbot\">\r\n        <Button onClick={getprodotto} className=\"buttons\" style={{width: \"100%\",backgroundColor:\"#c68525\", border: \"1px solid black\",height:\"45px\"}}>        \r\n        <VisibilityIcon style={{color:\"white\",borderRadius:\"9px\",width:\"15%\",height:\"53px\",marginRight: \"13px\"}} />\r\n        {t(\"NOLEGGIA IL PRODOTTO\")}  </Button> \r\n        </div>\r\n        </div>\r\n);\r\n}\r\n\r\nexport default Product\r\n","import React from 'react';\r\nimport './Loader.css';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className=\"overlay\">\r\n        <div className=\"loading\">\r\n        <div className=\"loading-bar\"></div>\r\n        <div className=\"loading-bar\"></div>\r\n        <div className=\"loading-bar\"></div>\r\n        <div className=\"loading-bar\"></div>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState} from \"react\";\r\nimport \"./Home.css\"; \r\nimport Product from \"./Product\";\r\nimport { useLocation} from \"react-router-dom\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { getAuth,  signOut, } from 'firebase/auth';\r\nimport { collection, getDocs, getFirestore, query, orderBy, where, doc, getDoc, setDoc} from \"firebase/firestore\";\r\nimport { Button } from '@mui/material';\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Cookies from 'js-cookie';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\nimport Loader from \"./Loader\";\r\n\r\n\r\n//importo il context dall'app in modo di avere lo state impostato sull'app in modo che se rientro nell'home non riesce il pop-up (in caso di rifiuto di cookies ovviamente)\r\n\r\nfunction Home() {\r\n    \r\n    const location = useLocation();\r\n    const [{basket},dispatch] = useStateValue();\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    const db = getFirestore();\r\n    const [products, setProduct] = useState([]);\r\n    const [showallprod,setShowallprod] = useState(false);\r\n    const [showbutton,setShowbutton] = useState(false);\r\n    const { showpop, setShowpop } = React.useContext(context);\r\n    const [ checkpop, setCheckpop ] = useState('')\r\n    const [email, setEmail] = useState('');\r\n    const [frase, setFrase] = useState('test');\r\n    const [checkemail, setCheckemail] = useState('');\r\n    const [classstyle, setClassstyle] = useState('default');\r\n    const {showloader, setShowloader} = React.useContext(context);\r\n    const { t } = useTranslation();\r\n    const [mailerState, setMailerState] = useState({\r\n        sender: \"L'ERMELLINO\",\r\n        email: \"\",\r\n        subject: \"ISCRIZIONE NEWSLETTER\",\r\n        message: \"Resoconto del suo ordine eseguito il: giorno test \" ,\r\n        html: \"<h1> Benvenuto nella newsletter dell'Ermellino! </h1> <br> Sarai sempre aggiornato sui nuovi arrivi ai nostri magazzini. <br> href='http://localhost:3000/test/'\"      \r\n    });\r\n    const [loading,setLoading] = useState(false);\r\n    const [buttontext,setbuttontext] = useState(\"\");\r\n    const language = React.useContext(context);\r\n  \r\n  \r\n    //utilizza l'useContext per cambiare la lingua\r\n    useEffect(() => {\r\n      if(language.language === 'en') {\r\n        setbuttontext(\"Subscribe\");\r\n        console.log(language.language)\r\n      }\r\n      else {\r\n        setbuttontext(\"Iscriviti\");\r\n        console.log(language.language)\r\n      }\r\n    },[language]);\r\n    \r\n    console.log(showpop);\r\n\r\n    /* RE-CROP DELLE IMMAGINE TRAMITE \"IMAGEKIT\" CHE VA A PESCARE DALLO STORAGE FIREBASE\r\n    var url = 'https://firebasestorage.googleapis.com/v0/b/ermellino-34a69.appspot.com/o/images%2Fkangdm.jpg?alt=media&token=6f0cad1e-626c-4ec8-8c7c-4e1eaae48e8d';\r\n    var newURL = url.split('https://firebasestorage.googleapis.com');\r\n    console.log('https://ik.imagekit.io/l3um0lstzxmw/tr:w-900,h-900' + newURL[1]);\r\n    */\r\n   useEffect(() => {\r\n    const timer = setTimeout(() => setShowloader(false), 1200);   \r\n    },[])\r\n\r\n    useEffect(() => {     \r\n        fetchMyAPI()\r\n        async function fetchMyAPI() {\r\n            const q = query(collection(db, \"products\"),where(\"State\",\"==\",\"DISPONIBILE\"),orderBy(\"CreatedOn\",\"asc\"));\r\n            const querySnapshot =  await getDocs(q);\r\n            const saveFirebaseTodos = []; \r\n            querySnapshot.forEach((doc) => {\r\n            saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n            /*console.log(doc.id, \" => \", doc.data());*/ \r\n        });\r\n        setProduct(saveFirebaseTodos) \r\n        setShowbutton(true)} \r\n        \r\n        setTimeout(() => {\r\n            if (!showpop) {\r\n                if (Cookies.get('name') === \"value\")\r\n                    {\r\n                    console.log('no pop') \r\n                    setShowpop(true);\r\n                    setCheckpop(false);\r\n                    }\r\n                else {\r\n                    setShowpop(true)\r\n                    setCheckpop(true);\r\n                    Cookies.set('name', 'value', { expires: 7 })\r\n                    console.log(Cookies.get('name'))\r\n                    }\r\n                }\r\n            }, 3000);\r\n    }, [])\r\n\r\n    function deletecookies() {\r\n        Cookies.remove('name')\r\n        setCheckpop(false);\r\n    }\r\n\r\n    async function subscribenewsletter() {\r\n        setLoading(true);\r\n        if (checkemail) {\r\n        const docRef = doc(db, \"newsletter\", email);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n            if (docSnap.exists()) {\r\n                setFrase(\"Email già presente nella nostra lista\");\r\n                setClassstyle(\"error\");\r\n                setLoading(false);\r\n            } \r\n            \r\n            else {\r\n                try {\r\n                    const docRef = await setDoc(doc(db, \"newsletter\", email), {\r\n                        }).then(() => {\r\n                            mailerState.email = email;\r\n                            mailerState.html = \"<h1> Benvenuto nella newsletter dell'Ermellino! </h1> <br> Sarai sempre aggiornato sui nuovi arrivi ai nostri magazzini. <br> <a href='\" + window.location.hostname + \"/Remove/\" + email + \"'>Disiscriviti</a> <br> <br> <p> Copyright &copy; All Rights Reserved by ERMELLINO S.P.A. </p>\";\r\n                            sendnewsletter();\r\n                            async function sendnewsletter () {\r\n                            const response = await fetch(\"https://hosteapitestlodux.herokuapp.com/\"+process.env.REACT_APP_API_KEY, {\r\n                                method: \"POST\",\r\n                                headers : { \r\n                                  'Content-Type': 'application/json',\r\n                                  'Accept': 'application/json'\r\n                                 },\r\n                                body: JSON.stringify({ mailerState }),\r\n                              })\r\n                                .then((res) => res.json())\r\n                                .then(async (res) => {\r\n                                  const resData = await res;\r\n                                  console.log(resData);\r\n                                  if (resData.status === \"success\") {\r\n                                    console.log(\"Message Sent\");\r\n                                  } else if (resData.status === \"fail\") {\r\n                                    console.log(\"Message failed to send\");\r\n                                  }\r\n                                })\r\n                                .then(() => {\r\n                                    if(language.language === 'en') {\r\n                                        setFrase(\"Thank you for subscribing to our newsletter, a confirmation email has been sent to your address!\");\r\n                                      }\r\n                                      else {\r\n                                        setFrase(\"Grazie per esserti iscritto alla nostra newsletter, un email di conferma è stata mandata al tuo indirizzo!\");\r\n                                      }\r\n                                        setClassstyle(\"success\");\r\n                                        setEmail('')\r\n                                    });\r\n                                }\r\n                        })} catch (e) {\r\n                            console.error(\"Error adding document: \", e);\r\n                        }\r\n            }\r\n        }\r\n\r\n        else { \r\n            if(language.language === 'en') {\r\n                setFrase(\"Email not valid\");              \r\n            }\r\n              else {\r\n                setFrase(\"Email non valida\");\r\n              }\r\n        setClassstyle(\"error\");\r\n        }\r\n    }\r\n  \r\n    useEffect(() => {\r\n        let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if(!regEmail.test(email)){\r\n        setCheckemail(false);\r\n        }\r\n        else \r\n        setCheckemail(true);\r\n    }, [email]);\r\n  \r\n\r\n    useEffect(() => {\r\n        if (user !== null) {\r\n\r\n            const displayName = user.displayName;\r\n            const emailVerified = user.emailVerified;\r\n\r\n            \r\n             /* MOSTRA MESSAGGIO DOPO HISTORY PUSH, \r\n            tengo un location.state undefined per assicarmi che lui nn cerchi di dare un valore a \"location.state.fromLogin\" del secondo if */\r\n            if (location.state !== undefined) {\r\n\r\n                if (location.state.fromLogin === 'signin') {\r\n                    //doppia casistica in base alla lingua inserita verificata dal Contextprovider\r\n                    var frasewelcome = \"\";\r\n                    if(language.language == 'en') {\r\n                        frasewelcome = \"Welcome abord\";              \r\n                    }\r\n                      else {\r\n                        frasewelcome = \"Benvenuto/a a bordo\"; \r\n                      }\r\n                   toast.success(frasewelcome + \" \" + displayName,  {\r\n                    position: \"top-left\",\r\n                    autoClose: true,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined, })\r\n                   } \r\n                //dopo aver effettuato correttamente il pagamento, pop di conferma invio email con tutto il resoconto necessario\r\n                else if (location.state.fromCheckout === true) {\r\n                    toast.success(\" Ordine effettuato con successo!, controlla la tua email per vedere la conferma dell'ordine\",  {\r\n                     position: \"top-left\",\r\n                     autoClose: true,\r\n                     hideProgressBar: false,\r\n                     closeOnClick: true,\r\n                     pauseOnHover: true,\r\n                     draggable: true,\r\n                     progress: undefined, })\r\n                     dispatch({\r\n                        type: 'CLEAR_BASKET'});\r\n                    } \r\n                //carrello svuotato per timeout operazioni, o perchè l'utente elimina tutti i prodotti nel carrello durante la fase finale di pagamento, inaccessibile con 0 prodotti nel carrello\r\n                else if (location.state.fromCart === true) {\r\n                    toast.warning(\" Carrello svuotato, ripetere procedura\",  {\r\n                        position: \"top-left\",\r\n                        autoClose: false,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined, })\r\n                    } \r\n                else \r\n                {\r\n                    //messaggio di benvenuto\r\n                    if (emailVerified) {\r\n                        var frasewelcome = \"\";\r\n                        if(language.language == 'en') {\r\n                            frasewelcome = \"Welcome abord\";              \r\n                        }\r\n                          else {\r\n                            frasewelcome = \"Benvenuto/a a bordo\"; \r\n                        }\r\n                       toast.success(frasewelcome + \" \" + displayName,   {\r\n                        position: \"top-left\",\r\n                        autoClose: true,\r\n                        autoClose: true,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined, })\r\n                    }\r\n                    //se l'email non è verificata, una volta loggato verrai subito sloggato fino all'avvenuta verifica\r\n                    else {\r\n                        toast.error(\"Email non verificata, controllo la tua email e conferma il tuo account\",  {\r\n                            position: \"top-left\",\r\n                            autoClose: true,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true,\r\n                            progress: undefined, })\r\n                            signOut(auth)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }, []);\r\n\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            { showloader && <Loader /> } {/* loader di inizializzazione */}\r\n            <div className=\"home__container\">\r\n            { checkpop && \r\n                <div className=\"overlay\" style={{backgroundColor:\"#0000008c\"}}>\r\n                    <div className=\"popup\">\r\n                        <div className=\"login__container\">\r\n                        <div className=\"close\"  onClick={() => setCheckpop(false)} > &times; </div>\r\n                        <div className=\"headtext\" style={{width:\"100%\"}}>\r\n                            <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}>Newsletter</span>\r\n                                </div>\r\n                                    <br />\r\n                                    <div className=\"newslettertext\">\r\n                                        {t(\"Rimani sempre connesso e scopri tutte le novità dell'ERMELLINO, iscriviti alla nostra newsletter!\")}\r\n                                    </div>\r\n                                        <h5>{t(\"Inserisci il tuo indirizzo E-mail\")}</h5>\r\n                                            <input style={{width:'100%',borderRadius:\"inherit\"}}\r\n                                                id=\"outlined-textareaname\"\r\n                                                maxLength=\"30\"\r\n                                                value={email} onChange={e => setEmail(e.target.value)}\r\n                                            />\r\n                                        <div style={{fontSize:\"12px\"}}>{t(\"Non condivideremo questa informazione con altri\")}</div>\r\n                                        <br />\r\n                                                <div style={{textAlign:\"end\"}}>\r\n                                                    <div className={classstyle} style={{textAlign:\"start\", fontSize:\"20px\", fontWeight:\"900\"}}> {frase} </div>\r\n                                                    <Button onClick={subscribenewsletter} style={{color: \"white\"}} className='login__signInButton'> {loading ? '...' : buttontext}  </Button>\r\n                                                </div>\r\n                                            <div className=\"cookiebar\">\r\n                                            <p>{t(\"Questo sito utilizza cookie tecnici, analytics e di terze parti.\")} <br /> {t(\"Proseguendo nella navigazione accetti l’utilizzo dei cookie.\")}</p>\r\n                                        <div className=\"cookiebar-buttons\">\r\n                                    <button  onClick={() => setCheckpop(false)} style={{width:\"109px\"}}> {t(\"ACCETTA\")} </button> <button onClick={deletecookies} style={{width:\"109px\"}}> {t(\"RIFIUTA\")} </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                }\r\n                <div className=\"footerdistance\" style={{minHeight:\"1000px\"}}>\r\n                <img className=\"home__photo\" src=\"https://img5.goodfon.com/original/1920x1080/8/17/instrumenty-starye-veshchi-retro.jpg\" alt=\"\" />\r\n                {showallprod === false && \r\n                <div className=\"home__row\">\r\n                <div className='text-on-image' style={{paddingLeft: \"30px\"}}>\r\n                <p className=\"vintage vintage__top\">{t(\"Acquista o noleggia articoli usati con l'Ermellino ... \")} <br /> {t(\" ... e vedrai che non te ne pentirai\")}</p>\r\n                <p className=\"vintage vintage__bot\">{t(\"Acquista o noleggia articoli usati con l'Ermellino ... \")} <br /> {t(\" ... e vedrai che non te ne pentirai\")}</p>\r\n                </div>\r\n                {/* Per fare un render solo dei primi quattro prodotti, magari anche per gestire la home in maniera piu artistica come amazon con file da tre / due / quattro */}\r\n                {products.slice(0,8).map((value, key) => \r\n                    <Product \r\n                    key={key}\r\n                    id={value.id}\r\n                    idowner={value.IDowner}\r\n                    tipo={value.Type}\r\n                    title={value.Name} \r\n                    preview={value.Preview}\r\n                    titleEN={value.NameEN} \r\n                    previewEN={value.PreviewEN}\r\n                    price={value.Price} \r\n                    priceday={value.Priceday}\r\n                    city={value.City} \r\n                    image={value.Img} />\r\n                )}  \r\n                </div>  }\r\n                \r\n                {showallprod === true && \r\n                <div className=\"home__row\">\r\n    \r\n                <div className='text-on-image'>\r\n                <p className=\"vintage vintage__top\">{t(\"Acquista o noleggia articoli usati con l'Ermellino ... \")} <br /> {t(\"... e vedrai che non te ne pentirai\")}</p>\r\n                <p className=\"vintage vintage__bot\">{t(\"Acquista o noleggia articoli usati con l'Ermellino ... \")} <br /> {t(\"... e vedrai che non te ne pentirai\")}</p>\r\n                </div>\r\n   \r\n                {/*Qui invece dopo il click \"mostra tutti i prodotti\" faccio un render di tutti i prodotti, giusto per inserire funzionalità*/}\r\n                {products.map((value, key) => \r\n                    <Product \r\n                    key={key}\r\n                    id={value.id}\r\n                    idowner={value.IDowner}\r\n                    tipo={value.Type}\r\n                    title={value.Name} \r\n                    preview={value.Preview}\r\n                    price={value.Price} \r\n                    priceday={value.Priceday}\r\n                    city={value.City} \r\n                    image={value.Img} />\r\n                )}  \r\n                </div> }\r\n                {showallprod === false && showbutton === true && products.length > 3 &&\r\n                <Button variant=\"contained\" style= {{backgroundColor: \"white\",color: \"black\"}}  onClick={() => setShowallprod(true)}  > {t(\"Mostra tutti i prodotti\")} &nbsp; <i className=\"fa fa-angle-down\" style={{fontSize:\"20px\"}}></i> </Button> }\r\n            </div>     \r\n        </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n\r\n\r\n","import React, { useState, useEffect} from 'react';\r\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\";\r\nimport { getStorage, ref, getDownloadURL, uploadBytesResumable} from \"firebase/storage\";\r\nimport logo from './logo.png';\r\nimport { useStateValue } from './StateProvider';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport './AddProducts.css';\r\nimport { Button } from '@mui/material';\r\nimport { getAuth } from 'firebase/auth';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport TextField from '@mui/material/TextField';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport OutlinedInput from '@mui/material/OutlinedInput';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport imageCompression from \"browser-image-compression\";\r\nimport { toast } from 'react-toastify';\r\nimport Loader from \"./Loader\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\n\r\nfunction AddProducts () {\r\n\r\n    const [{photo}, dispatch] = useStateValue();\r\n    const db = getFirestore();\r\n    const storage = getStorage();\r\n    let history = useHistory();\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    const { t, i18n } = useTranslation();\r\n    \r\n\r\n    useEffect(() => {\r\n    if (user != null) {\r\n      const uid = user.uid;\r\n      setId(uid);\r\n      const email = user.email;\r\n      setEmail(email)\r\n    }\r\n    }, [user])\r\n\r\n    const [productName, setProductName] = useState('');\r\n    const [preview, setPreview] = useState('');\r\n    const [description, setDesc] = useState('');\r\n    const [productPrice, setProductPrice] = useState(0);\r\n    const [productPriceday, setProductPriceday] = useState(0);\r\n    const [images, setImages] = useState([]);\r\n    const [urls, setUrls] = useState([]);\r\n    const [progress, setProgress] = useState(0);\r\n    const [selectedFiles, setSelectedFiles] = useState([]);\r\n    const [id,setId] = useState('');\r\n    const [emailowner,setEmail] = useState('');\r\n    const [type,setType] = useState('');\r\n    const [city,setCity] = useState('');\r\n    const [allfiles, setAll] = useState([]);\r\n    const [showloader, setShowloader] = useState(false);\r\n\r\n    /* const types = ['image/png', 'image/jpeg']; */  // per filtrare immagini png e jpeg\r\n\r\n\r\n  \r\n    //-----------------------------------------------------------------------------//\r\n    //inizia l'effetto a catena per tradurre le parti di testo in inglese\r\n    const [previewEN, setPreviewEN] = useState('');\r\n    const [descriptionEN, setDescEN] = useState('');\r\n    const [productNameEN, setProductNameEN] = useState('');\r\n    const TransState = {\r\n      text: \"\",\r\n    };\r\n\r\n    //traduco descrizione --------------\r\n    const sendTransdescription = async () => {\r\n      TransState.text = description\r\n      console.log({ TransState});\r\n      await fetch(\"https://hosteapitestlodux.herokuapp.com/tran\", {\r\n        method: \"POST\",\r\n        headers : { \r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n          },\r\n        body: JSON.stringify({ TransState}),\r\n      })\r\n      .then((response) => response.json())\r\n      .then((data) => setDescEN(data.status)).then(() => handleUploadok())} \r\n \r\n    //traduco preview -------------- handleUploadok()\r\n    const sendTranspreview = async () => {\r\n      TransState.text = preview\r\n      console.log({ TransState});\r\n       await fetch(\"https://hosteapitestlodux.herokuapp.com/tran\", {\r\n        method: \"POST\",\r\n        headers : { \r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n          },\r\n        body: JSON.stringify({ TransState}),\r\n      })\r\n      .then((response) => response.json())\r\n      .then((data) => setPreviewEN(data.status)).then(() => sendTransdescription())} \r\n    \r\n    //traduco titolo --------------\r\n    const sendTranstitle = async () => {\r\n      TransState.text = productName\r\n      console.log({ TransState});\r\n      await fetch(\"https://hosteapitestlodux.herokuapp.com/tran\", {\r\n        method: \"POST\",\r\n        headers : { \r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n          },\r\n        body: JSON.stringify({ TransState}),\r\n      })\r\n      .then((response) => response.json())\r\n      .then((data) => setProductNameEN(data.status)).then(() => sendTranspreview())}\r\n    //-----------------------------------------------------------------------------//\r\n\r\n\r\n    // This function will be triggered when the file field change\r\n    async function handleChange (e) {\r\n      \r\n    if (e.target.files.length <= 5 && selectedFiles.length <= 5 && images.length <= 4) {\r\n      if (e.target.files) {\r\n        const filesArray = Array.from(e.target.files).map((file) =>\r\n          URL.createObjectURL(file)\r\n        );\r\n\r\n       \r\n        setSelectedFiles((prevImages) => prevImages.concat(filesArray));\r\n        Array.from(e.target.files).map(\r\n          (file) => URL.revokeObjectURL(file) // avoid memory leak\r\n             );\r\n      }\r\n      \r\n     \r\n      for (let i = 0; i < e.target.files.length; i++) {\r\n        \r\n        const newImage = e.target.files[i];\r\n\r\n        //per comprimere le immagini\r\n        const options = {\r\n          maxSizeMB: 1,\r\n          maxWidthOrHeight:1920,\r\n          useWebWorker: true\r\n        }        \r\n        try {\r\n          const compressedFile = await imageCompression(newImage, options);\r\n          console.log('compressedFile instanceof Blob', compressedFile instanceof Blob); // true\r\n          console.log(`compressedFile size ${compressedFile.size / 1024 / 1024} MB`); // smaller than maxSizeMB\r\n          allfiles.push(compressedFile)\r\n          await uploadToServer(allfiles); // write your own logic\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n\r\n      function gosetAll(all) { setAll(all) }\r\n   \r\n      async function uploadToServer(allfilex) {\r\n        await gosetAll(allfilex);\r\n        await setImages(allfiles);\r\n        console.log(allfiles)\r\n        if(images.length === e.target.files.length)\r\n        {\r\n          console.log('fatto')\r\n        }\r\n      }   \r\n    }\r\n\r\n    else\r\n    {toast.warn(\"Stai selezionando troppe foto, il limite è di 5!\", {\r\n      position: \"top-left\",\r\n      autoClose: true,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });}\r\n};\r\n\r\n\r\n    // This function will be triggered when the \"Remove This Image\" button is clicked\r\n    const removeSelectedImage = (index) => {\r\n      console.log(images)\r\n      images.splice(index,1)\r\n      selectedFiles.splice(index, 1)\r\n      dispatch({\r\n        type: 'REMOVE_FROM_BOOK',\r\n        id: index,\r\n    })\r\n    setImages(images)\r\n    };\r\n\r\n\r\n\r\n    // add photo\r\n    const handleUpload = () => {\r\n\r\n    setShowloader(true)\r\n\r\n    if (selectedFiles !== '' && productPrice !== 0 && productName !== '' && preview !== '' && description !== '' && type !== '' && city !== '') {   \r\n              \r\n      if (type === 'NOLEGGIO' && productPriceday !== 0) \r\n      {\r\n        //traduco i testi per fare la versione in inglese\r\n        sendTranstitle();\r\n      }\r\n      else if (type === 'VENDO') \r\n      {\r\n        //traduco i testi per fare la versione in inglese\r\n        sendTranstitle();\r\n      }\r\n\r\n      else {toast.warn(\"Hai scelto l'opzione noleggio, imposta un prezzo a giornata\", {\r\n        position: \"top-left\",\r\n        autoClose: true,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });}\r\n      }\r\n\r\n      else {\r\n        setShowloader(false);\r\n        {toast.warn(\"Compila tutti i campi\", {\r\n          position: \"top-left\",\r\n          autoClose: true,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n      });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleUploadok = () => { const metadata = {contentType: 'image/jpeg'};\r\n  images.map((image) => {\r\n  // Upload file and metadata to the object 'images/mountains.jpg'\r\n  const storageRef = ref(ref(storage, 'images/' + image.name));\r\n  const uploadTask = uploadBytesResumable(storageRef, image, metadata);\r\n      uploadTask.on('state_changed', \r\n      (snapshot) => {\r\n      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n      console.log('Upload is ' + progress + '% done');\r\n      switch (snapshot.state) {\r\n      case 'paused':\r\n        console.log('Upload is paused');\r\n        break;\r\n      case 'running':\r\n        console.log('Upload is running');\r\n        break;\r\n      }\r\n      setProgress(progress);\r\n    }, \r\n  (error) => {\r\n    // Handle unsuccessful uploads\r\n  }, \r\n  async () => {\r\n    await \r\n      getDownloadURL(ref(storage, 'images/' + image.name))\r\n        .then((urls) => {\r\n          setUrls((prevState) => [...prevState, urls])\r\n        });\r\n    });\r\n  }) \r\n}\r\n\r\n\r\nuseEffect(() => {\r\n  if (selectedFiles.length === urls.length && urls.length !== 0) {\r\n    addProduct();\r\n  }\r\n }, [urls]);\r\n \r\n\r\n    \r\nconst handleType = (event) => {\r\n  setType(event.target.value);\r\n};\r\n\r\nconst handleCity = (event) => {\r\n  setCity(event.target.value);\r\n};\r\n\r\n// add product\r\n \r\n    const addProduct = () => {\r\n\r\n\r\n      try {\r\n        const docRef = addDoc(collection(db, \"products\"), {\r\n                Name: productName,\r\n                Price: Number(productPrice),\r\n                Priceday: Number(productPriceday),\r\n                Img: urls,\r\n                City: city,\r\n                Type: type,\r\n                CreatedOn: new Date(Date.now()),\r\n                State: 'ATTESA', \r\n                IDowner: id,  \r\n                Emailowner: emailowner,    \r\n                Description: description,\r\n                Preview: preview,   \r\n                NameEN: productNameEN,\r\n                DescriptionEN: descriptionEN,\r\n                PreviewEN: previewEN, \r\n            }).then(() => {\r\n              setShowloader(false)\r\n                history.push('/ownshop')\r\n            })} catch (e) {\r\n              setShowloader(false)\r\n                console.error(\"Error adding document: \", e);\r\n              }\r\n          }\r\n          \r\n          const hiddenFileInput = React.useRef(null);\r\n\r\n          const handleClick = event => {\r\n            hiddenFileInput.current.click();\r\n          };\r\n          \r\n\r\n    return (\r\n\r\n\r\n        <div className='container addproducts'>\r\n          { showloader && <Loader /> }\r\n          {/* Queste due classi DEMO sono state aggiunte per fare l'effetto immagine background opaca, che applicherò in tutte le sezioni senza header*/}\r\n          <div className=\"demo-wrap\">\r\n          <div className=\"demo-content\">\r\n            <div className='login'>\r\n            <Link to=\"/\">\r\n            <img className=\"login_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n            </Link>     \r\n           \r\n        <div className=\"login__container\"  style={{width:\"auto\"}}>\r\n            <div className=\"allblock\">\r\n            <div className=\"headtext\" style={{width:\"100%\"}}>\r\n            <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}>{t(\"Aggiungi articolo\")}</span>\r\n            </div>\r\n            <div className=\"addbrodi\">\r\n            <div className=\"leftprod\">\r\n            <div className=\"city\">\r\n                  <h5>{t(\"Vendi o noleggi?\")} </h5> \r\n                    <FormControl fullWidth>\r\n                    <InputLabel id=\"demo-simple-select-label\">{t(\"Vendo / Noleggio\")}</InputLabel>\r\n                    <Select\r\n                      labelId=\"demo-simple-select-label\"\r\n                      id=\"demo-simple-select\"\r\n                      value={type}\r\n                      label=\"Acquista / Noleggia\"\r\n                      onChange={ handleType }\r\n                      required\r\n                    >\r\n                      <MenuItem value={'VENDO'}>{t(\"Vendi\")}</MenuItem>\r\n                      <MenuItem value={'NOLEGGIO'}>{t(\"Noleggia\")}</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n             </div>\r\n             <hr />\r\n            <div className=\"city\">\r\n              <h5> {t(\"Città\")}: </h5> \r\n            <FormControl fullWidth>\r\n            <InputLabel id=\"demo-simple-select-label\">MI / RM</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-label\"\r\n              id=\"demo-simple-select\"\r\n              value={city}\r\n              label=\"Acquista / Noleggia\"\r\n              onChange={ handleCity }\r\n              required\r\n            >\r\n              <MenuItem value={'Milano'}>Milano</MenuItem>\r\n              <MenuItem value={'Roma'}>Roma</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          </div>\r\n          <hr />\r\n                <div className=\"product-name\"> <h5> {t(\"Nome prodotto\")}: </h5>\r\n                <TextField\r\n                      id=\"outlined-textareaname\"\r\n                      autoComplete='no'\r\n                      inputProps={{\r\n                        maxLength: 16,\r\n                      }}\r\n                      value={productName}\r\n                      onChange={(e) => setProductName(e.target.value)}\r\n                    />\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"product-name\"> <h5> {t(\"Breve descrizione\")}: </h5>\r\n                <TextField\r\n                      className=\"preview\"\r\n                      id=\"outlined-textarea\"\r\n                      inputProps={{\r\n                        maxLength: 34,\r\n                      }}\r\n                      value={preview}\r\n                      onChange={(e) => setPreview(e.target.value)}\r\n                    />\r\n                    </div>\r\n                    <hr />\r\n                <div className=\"product-name\" > <h5> {t(\"Descrizione completa\")}: </h5>\r\n                    <TextField  \r\n                      className=\"description\"\r\n                      id=\"outlined-multiline-static\"\r\n                      inputProps={{\r\n                        maxLength: 250,\r\n                      }}\r\n                      rows={4}\r\n                      value={description}\r\n                      onChange={(e) => setDesc(e.target.value)}\r\n                    />\r\n                    </div>\r\n                    <br />\r\n                  </div>\r\n                  \r\n                  <div className=\"rightprod\">\r\n                  <div className=\"prezzo\">\r\n                <div className=\"label\"> <h5> {t(\"Inserisci il prezzo\")}: </h5> \r\n                \r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-amount\"\r\n                    type=\"number\"\r\n                    inputProps={{\r\n                      maxLength: 0,\r\n                    }}\r\n                    onChange={(e) => setProductPrice(e.target.value = Math.max(0, parseInt(e.target.value) ).toString().slice(0,9))} value={productPrice}\r\n                    startAdornment={<InputAdornment position=\"start\">€</InputAdornment>}\r\n                  />,00 €\r\n                  <p> *({t(\"se noleggi il prodotto inserisci il suo valore assoluto per stabilirne la caparra\")}) </p>\r\n                   </div> \r\n                   <hr />\r\n                  <div className=\"label noleggio\"> <h5> {t(\"Inserisci il prezzo per giornata\")}: </h5> \r\n                \r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-amount-day\"\r\n                    type=\"number\"\r\n                    onChange={(e) => setProductPriceday(e.target.value = Math.max(0, parseInt(e.target.value) ).toString().slice(0,9))} value={productPriceday}\r\n                    startAdornment={<InputAdornment position=\"start\">€</InputAdornment>}\r\n                  />,00 €\r\n                  <p> *({t(\"compila questo campo solo se stai noleggiando il prodotto\")}) </p>\r\n                   </div>\r\n                   </div> \r\n                   <hr />\r\n                <div className=\"imagepre\">\r\n                <Button onClick={handleClick} className=\"button__photo\" style={{border:\"1px solid #337ab7\", width: \"145px\",marginBottom:\"5px\",marginTop:\"10px\",backgroundColor:\"white\"}}> {t(\"Carica foto\")} </Button>\r\n                <div className=\"separatore\">\r\n                <img src=\"https://www.windowsteca.net/wp-content/uploads/2016/09/Microsoft-Foto-730x430.jpg\"   style={{width:\"145px\"}} />\r\n                <input type=\"file\" multiple onChange={handleChange} ref={hiddenFileInput} style={{display: 'none'}} />\r\n                <p> *({t(\"devi caricare almeno una foto, fino ad un massimo di 5\")}) </p>\r\n                </div>\r\n                </div>\r\n\r\n                  <br />\r\n                </div>\r\n                \r\n                </div>\r\n               \r\n                <TransitionGroup className=\"toda-lista\">\r\n                {selectedFiles.map((url, index) => (     \r\n                  \r\n                  <CSSTransition\r\n                  key={url}\r\n                  timeout={200}\r\n                  classNames=\"item\"\r\n                  >\r\n\r\n                  <div key={url} className=\"photopreview\">\r\n                  <Button style={{height:\"20px\"}} variant=\"outlined\" startIcon={<DeleteIcon />} onClick={() => removeSelectedImage(index)}> {t(\"Rimuovi\")}  </Button>\r\n                  <br />\r\n                  <img \r\n                    style={{width:\"120px\",objectFit: \"contain\", height: \"170px\",backgroundColor: \"black\"}}\r\n                    src={url}\r\n                    alt=\"firebase-image\"\r\n                  />\r\n\r\n                  </div> \r\n\r\n                  </CSSTransition> ))\r\n                }\r\n                \r\n                </TransitionGroup>\r\n        \r\n                <div className=\"loader\">\r\n                 <progress value={progress} max=\"100\" />\r\n                 </div>\r\n                 <hr style={{width:\"90%\"}} />\r\n                 <div className=\"add\">\r\n                <Button variant=\"contained\" onClick={handleUpload} type=\"submit\" className='btn btn-success btn-md mybtn'>{t(\"INVIA RICHIESTA AGGIUNTA PRODOTTO ALL'ERMELLINO\")}</Button>     \r\n                </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n        </div>   \r\n    )\r\n}\r\n\r\n\r\nexport default AddProducts;\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/barcode.a54ae03d.png\";","import React, { useEffect, useState } from \"react\";\r\nimport \"./Searchlist.css\"; \r\nimport Product from \"./Product\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport barcode from \"./barcode.png\"\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { collection, getDocs, getFirestore,query, orderBy, where} from \"firebase/firestore\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nexport default function Searchlist() {\r\n\r\n    let { slug } = useParams();\r\n    const db = getFirestore();\r\n    const [products, setProduct] = useState([]);\r\n    const { t } = useTranslation();\r\n\r\n    useEffect(() => {\r\n        fetchMyAPI()\r\n        async function fetchMyAPI() {\r\n            const q = query(collection(db, \"products\"),where(\"State\",\"==\",\"DISPONIBILE\"),orderBy(\"CreatedOn\",\"asc\"));\r\n            const querySnapshot =  await getDocs(q);\r\n            const saveFirebaseTodos = []; \r\n            querySnapshot.forEach((doc) => {\r\n            saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n            /*console.log(doc.id, \" => \", doc.data());*/ \r\n        });\r\n        setProduct(saveFirebaseTodos) \r\n        }        \r\n}, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"headlist\">\r\n            \r\n            <div className=\"headtext\" style={{textAlign: \"start\"}}>\r\n            <span className=\"intro intro--num\"> <img src={barcode} width={50}/> </span>\r\n            <span className=\"intro\">{t(\"Risultati ricerca\")}: {slug}</span>  \r\n            </div>\r\n            </div>\r\n            <img className=\"home__photo\" src=\"https://media.messe.ch/baselworld/OnlineCatalogue/images/brandimage/1440x/1031540.png\" alt=\"\" />\r\n            <div className=\"footerdistance\" style={{minHeight:\"1300px\"}}>   \r\n            <div className=\"home__row\" style={{marginTop:\"-65%\"}} >\r\n            <div className=\"home__container\">\r\n            <div className=\"search__row\" style={{display: \"flex\"}}>\r\n\r\n                {products.filter((value) => {\r\n                if (slug === \"\") {return value}\r\n                else if ((value.Name.toString().toLowerCase().includes(slug.toLowerCase())) || (value.Price.toString().toLowerCase().includes(slug.toLowerCase())) || (value.City.toString().toLowerCase().includes(slug.toLowerCase())) || (value.Preview.toString().toLowerCase().includes(slug.toLowerCase()))) {\r\n                    return value\r\n                }\r\n                }).map((value, key) =>\r\n                <Product \r\n                    key={key}\r\n                    id={value.id}\r\n                    idowner={value.IDowner}\r\n                    tipo={value.Type}\r\n                    title={value.Name} \r\n                    titleEN={value.NameEN}\r\n                    preview={value.Preview}\r\n                    previewEN={value.PreviewEN}\r\n                    price={value.Price} \r\n                    priceday={value.Priceday}\r\n                    city={value.City} \r\n                    image={value.Img} \r\n                    />\r\n            )}\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./OwnShop.css\"; \r\nimport { Button } from '@mui/material';\r\nimport {Link} from \"react-router-dom\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { getAuth} from 'firebase/auth';\r\nimport barcode from \"./barcode.png\"\r\nimport { collection, getDocs, getFirestore, query, orderBy, where} from \"firebase/firestore\";\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\n\r\n\r\n\r\nexport default function OwnShop() {\r\n\r\n\r\n    const db = getFirestore();\r\n    const [products, setProduct] = useState([]);\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    const [idowner,setIdowner] = useState('');\r\n    const { t } = useTranslation();\r\n    const [Noletext,setNoletext] = useState(\"\");\r\n    const [Acquitext,setAcquitext] = useState(\"\");\r\n    const language = React.useContext(context);\r\n    const [titleconvertedText, setTitleConvertedText] = useState('');\r\n\r\n\r\n    //utilizza l'useContext per cambiare la lingua\r\n    useEffect(() => {\r\n    if(language.language === 'en') {\r\n        setNoletext(\"RENT\");\r\n        setAcquitext(\"SALE\");\r\n        //setTitleConvertedText(titleEN);\r\n    }\r\n    else {\r\n        setNoletext(\"NOLEGGIO\");\r\n        setAcquitext(\"VENDO\");\r\n        //setTitleConvertedText(title);\r\n    }\r\n    },[language]);\r\n\r\n    products.map((value, key) => console.log(value))\r\n\r\nconst getdata = () => {\r\n            fetchMyAPI()\r\n            async function fetchMyAPI() {\r\n                const q = query(collection(db, \"products\"),where(\"IDowner\", \"==\", idowner),orderBy(\"CreatedOn\",\"desc\"));\r\n                const querySnapshot =  await getDocs(q);\r\n                const saveFirebaseTodos = []; \r\n                querySnapshot.forEach((doc) => {\r\n                saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n    \r\n            });\r\n            setProduct(saveFirebaseTodos) \r\n            }\r\n        } \r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        if (user !== null) {\r\n            const uid = user.uid;\r\n            setIdowner(uid);\r\n        }\r\n            if (idowner !== '')\r\n            getdata();\r\n    }, [user, idowner])\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"headlist\">\r\n            <div className=\"headtext\" style={{textAlign: \"start\"}}>\r\n            <span className=\"intro intro--num\"> <img src={barcode} width={50}/> </span>\r\n            <span className=\"intro\">{t(\"Stato dei tuoi articoli\")}</span>\r\n            </div>\r\n            <div className=\"buttonadd\">\r\n            <Link to=\"/addproducts\">\r\n            <Button variant=\"contained\"> {t(\"Aggiungi articolo\")} </Button>\r\n            </Link>\r\n            </div>\r\n            </div>\r\n            <div className=\"home__container\">\r\n            <img className=\"home__photo\" src=\"https://ideas.rejuvenation.com/content/images/2018/07/160729_Y2016B7_A-V_Hardware_V1_BRIGHT_6697.jpg\" alt=\"\" />\r\n            <div className=\"footerdistance\" style={{minHeight:\"1000px\"}}> \r\n            <div className=\"home__row\" style={{marginTop:\"-65.5%\"}}  >\r\n                {products.map((value, key) =>\r\n                 <div className=\"productlist\" key={key} >\r\n                    <div className=\"product\" style={{boxShadow:\"none\",transform: \"none\"}}>\r\n                        <div className=\"product__info\" style={{textAlign:\"start\"}}>\r\n                    <h4> {value.Type === \"Vendo\" ? Noletext : Acquitext} </h4>\r\n                    <div className=\"product__description\">\r\n                        <h2>{language.language === \"en\" ? value.NameEN : value.Name}</h2>\r\n                        <p>{value.preview}</p>\r\n                    </div>\r\n                    <p className=\"product__price\"> </p>\r\n                    {value.Type === 'VENDO' &&\r\n                        <h5> € {value.Price} </h5> }\r\n                    {value.Type === 'NOLEGGIO' &&\r\n                        <h5> € {value.Priceday} {t(\"per giornata\")} </h5> }     \r\n                    \r\n                    <div className=\"product__rating\">\r\n                        {value.City}\r\n                    </div>\r\n                </div>   \r\n            <img src={value.Img[0]} alt=\"\" />\r\n            <div className=\"hovereye\">\r\n            <Link to={`/pageproduct/${value.id}`} style={{height:\"40px\"}}> <VisibilityIcon style={{color:\"black\",border:\"1px solid black\",borderRadius:\"9px\",width:\"50%\",height:\"38px\"}} />\r\n           </Link>\r\n           </div>\r\n        </div>  \r\n                    <div className=\"product__infolist left\"> {t(\"Stato\")}:  \r\n                        {value.State === 'ATTESA' && \r\n                        <div className='state' style={{color:\"#ffb344\"}}> {t(\"ATTESA\")} </div> } \r\n                        {value.State === 'RIFIUTATO' &&\r\n                        <div className='state' style={{color:\"red\"}}> {t(\"RIFIUTATO\")} </div> } \r\n                        {value.State === 'DISPONIBILE' &&\r\n                        <div className='state' style={{color:\"green\"}}> {t(\"DISPONIBILE\")} </div> } \r\n                        {value.State === 'VENDUTO' &&\r\n                        <div className='state' style={{color:\"red\"}}> {t(\"VENDUTO\")} </div> } </div>       \r\n                    </div>\r\n                )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ownorder.68a1762f.png\";","import React, { useEffect, useState } from \"react\";\r\nimport \"./OwnShop.css\"; \r\nimport barcode from \"./barcode.png\"\r\nimport {Link} from \"react-router-dom\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { getAuth} from 'firebase/auth';\r\nimport { collection, getDocs, getFirestore, query, where} from \"firebase/firestore\";\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport ownorderpic from './ownorder.png';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\n\r\nexport default function OwnOrders() {\r\n\r\n\r\n    const db = getFirestore();\r\n    const [idorder, setIdorder] = useState(\"\");\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    const [idowner,setIdowner] = useState('');\r\n    const [textrent,setTextrent] = useState(\"\");\r\n    const [textsold,setTextsold] = useState(\"\");\r\n    const { t } = useTranslation();\r\n    const language = React.useContext(context);\r\n    const [infoprod,setInfoprod] = useState([])\r\n  \r\n  \r\n    //utilizza l'useContext per cambiare la lingua\r\n    useEffect(() => {\r\n      if(language.language ==='en') {\r\n        setTextrent(\"RENT\");\r\n        setTextsold(\"PURCHASE\");\r\n      }\r\n      else {\r\n        setTextrent(\"NOLEGGIO\");\r\n        setTextsold(\"ACQUISTO\");\r\n      }\r\n    },[language]);\r\n\r\n\r\n\r\nconst getdata = () => {\r\n    //vado a recuperare gli ordini del cliente dal database\r\n            fetchMyAPI()\r\n            async function fetchMyAPI() {\r\n                const q = query(collection(db, \"orders\"),where(\"clientID\", \"==\", idowner));\r\n                const querySnapshot =  await getDocs(q);\r\n                const saveFirebaseTodos = []; \r\n                querySnapshot.forEach((doc) => {\r\n                saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n                console.log(doc.id, \" => \", doc.data());\r\n                })  \r\n                //in un primo momento tiro giù l'intero ordine, qui sotto invece suddivido tutti i prodotti in modo che compaiano sul client come unità singole, ma con specificato l'ordine padre di appartenza\r\n                if(saveFirebaseTodos.length > 0) {\r\n                console.log(saveFirebaseTodos) \r\n                setIdorder(saveFirebaseTodos[0].id);\r\n                setInfoprod(saveFirebaseTodos[0].infoproducts)\r\n                }\r\n            }\r\n        } \r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        if (user !== null) {\r\n            const uid = user.uid;\r\n            setIdowner(uid);\r\n        }\r\n            if (idowner !== '')\r\n            getdata();\r\n    }, [user, idowner])\r\n\r\n   \r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"headlist\">\r\n            <div className=\"headtext\" style={{textAlign: \"start\"}}>\r\n            <span className=\"intro intro--num\"> <img src={barcode} width={50}/> </span>\r\n            <span className=\"intro\">{t(\"Lista dei tuoi ordini\")}</span>\r\n            </div>\r\n            </div>\r\n            <div className=\"home__container\">\r\n            <div className=\"footerdistance\" style={{minHeight:\"1170px\"}}>\r\n            <img className=\"home__photo\" src={ownorderpic} alt=\"\" />\r\n            <div className=\"home__row\" style={{marginTop:\"-65.5%\"}}  >\r\n            {infoprod.map((value, key) => \r\n                 <div className=\"productlist\" key={key} >\r\n                    <div className=\"product\" style={{boxShadow:\"none\",transform: \"none\"}}>\r\n                        <div className=\"product__info\" style={{textAlign:\"start\"}}>\r\n                        <h4>{value.tipo ==='Acquisto' ? textsold : textrent} </h4>\r\n                    <h2>{value.titolo}</h2>\r\n                    <div className=\"product__description\">\r\n                        <h2>{value.prewiev}</h2>\r\n                    </div>\r\n                    <div className=\"product__rating\" >                   \r\n                    {t(\"Spesa\")}: {value.prezzo} € </div>\r\n\r\n                    {value.tipo === 'Acquisto' &&\r\n                    <div className=\"product__rating\" style={{color:\"transparent\"}}>                   \r\n                    {t(\"Caparra versata\")}: {value.caparra} € </div> }\r\n\r\n                    {value.tipo === 'Acquisto' &&\r\n                    <p className=\"product__price\" style={{color:\"transparent\"}}> </p> }\r\n\r\n                    {value.tipo === 'Acquisto' &&\r\n                    <div className=\"datesinfo\" style={{color:\"transparent\"}}>\r\n                    {t(\"Data inizio noleggio\")}: {value.datainizio} </div>}  {value.tipo === 'Acquisto' &&\r\n                    <div className=\"datesinfo\" style={{color:\"transparent\"}}> {t(\"Data fine noleggio\")}: {value.datafine} </div>  }\r\n\r\n                    {value.tipo === 'Noleggio' &&\r\n                    <div className=\"product__rating\" >                   \r\n                    {t(\"Caparra versata\")}: {value.caparra} € </div>}\r\n                    \r\n                    {value.tipo === 'Noleggio' &&\r\n                    <p className=\"product__price\"> </p> }\r\n\r\n                    {value.tipo === 'Noleggio' &&\r\n                    <div className=\"datesinfo\" >\r\n                    {t(\"Data inizio noleggio\")}: {value.datainizio} </div>}  \r\n\r\n                    {value.tipo === 'Noleggio' &&\r\n                    <div className=\"datesinfo\" > {t(\"Data fine noleggio\")}: {value.datafine} </div>  }  \r\n                    \r\n\r\n\r\n                </div>   \r\n            <img src={value.foto} alt=\"\" />\r\n            <div className=\"hovereye\">\r\n            <Link to={`/pageproduct/${value.id}`} style={{height:\"40px\"}}> <VisibilityIcon style={{color:\"black\",border:\"1px solid black\",borderRadius:\"9px\",width:\"50%\",height:\"38px\"}} />\r\n           </Link>\r\n           </div>\r\n           <div className=\"ordine\">\r\n           {t(\"Ordine\")}:  {idorder} <br />\r\n           {t(\"Effettuato il\")}: {value.data}\r\n           </div>\r\n        </div>            \r\n         </div>\r\n            )}\r\n            </div> \r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./Dashboard.css\"\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./OwnShop.css\"; \r\nimport { Button } from '@mui/material';\r\nimport barcode from \"./barcode.png\"\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStateValue } from './StateProvider';\r\nimport { collection, getDocs, getFirestore, query, orderBy, where, updateDoc, doc} from \"firebase/firestore\";\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Dashboard() {\r\n\r\n\r\n    const db = getFirestore();\r\n    const [products, setProduct] = useState([]);\r\n    const [{dash}, dispatch] = useStateValue();\r\n\r\n\r\nconst acceptprod = (id,index) => {\r\n    products.splice(index, 1)\r\n        acceptproduct()\r\n        async function acceptproduct () {\r\n        const productReftwo = doc(db, \"products\", id);\r\n        await updateDoc(productReftwo, {\r\n            State: 'DISPONIBILE',\r\n          });\r\n          dispatch({\r\n            type: 'REMOVE_FROM_DASH',\r\n            id: id,\r\n        })\r\n        setProduct(products)\r\n        console.log(products)\r\n    }\r\n}\r\n\r\n    const declineprod = (id,index) => {\r\n        products.splice(index, 1)\r\n        console.log(products)\r\n        declineproduct()\r\n        async function declineproduct () {\r\n        const productRefone = doc(db, \"products\", id);\r\n        await updateDoc(productRefone, {\r\n            State: 'RIFIUTATO',\r\n          });\r\n\r\n          dispatch({\r\n            type: 'REMOVE_FROM_DASH',\r\n            id: id,\r\n        })\r\n        setProduct(products)\r\n        console.log(products)\r\n    }\r\n    }\r\n\r\n    useEffect(() => {\r\n            fetchMyAPI()\r\n            async function fetchMyAPI() {\r\n                const q = query(collection(db, \"products\"),where(\"State\",\"==\",\"ATTESA\"),orderBy(\"CreatedOn\",\"asc\"));\r\n                const querySnapshot =  await getDocs(q);\r\n                const saveFirebaseTodos = []; \r\n                querySnapshot.forEach((doc) => {\r\n                saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n            });\r\n            setProduct(saveFirebaseTodos) \r\n            }\r\n        }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n           <div className=\"headlist\" >\r\n            <div className=\"headtext\" style={{textAlign: \"start\"}}>\r\n            <span className=\"intro intro--num\"> <img src={barcode} width={50}/> </span>\r\n            <span className=\"intro\">Dashboard accettazione</span>\r\n            </div>\r\n            </div>\r\n            <div className=\"home__container\">\r\n\r\n            <div className=\"list__row\">\r\n                {products.map((value,index) =>\r\n                 <div className=\"productlist\" key={value.id}>\r\n                        <div className=\"product\" style={{boxShadow:\"none\",transform: \"none\"}}>\r\n                        <div className=\"product__info\" >\r\n                    <h4>{value.Type}</h4>\r\n                    <div className=\"product__description\">\r\n                        <h2>{value.Name}</h2>\r\n                        <p>{value.preview}</p>\r\n                    </div>\r\n                    <p className=\"product__price\"> </p>\r\n                    {value.Type === 'VENDO' &&\r\n                        <h5> € {value.Price} </h5> }\r\n                    {value.Type === 'NOLEGGIO' &&\r\n                        <h5> € {value.Priceday} per giornata </h5> }     \r\n                    \r\n                    <div className=\"product__rating\">\r\n                        {value.City}\r\n                    </div>\r\n                </div>   \r\n            <img src={value.Img[0]} alt=\"\" />\r\n            <Link to={`/pageproduct/${value.id}`} style={{height:\"40px\"}}> <VisibilityIcon style={{color:\"black\",border:\"1px solid black\",borderRadius:\"9px\",width:\"50%\",height:\"38px\"}} />\r\n           </Link>\r\n        </div>  \r\n           \r\n\r\n             <div className=\"product__infolist left\"> \r\n             <Button id=\"ok\" onClick={() => acceptprod(value.id,index)} style={{color:'green',fontSize:'x-large',fontWeight:'900'}}> ACCETTA </Button> \r\n             <Button id=\"not\" onClick={() => declineprod(value.id,index)} style={{color:'red',fontSize:'x-large',fontWeight:'900'}}> RIFIUTA </Button> \r\n             </div>                        \r\n         </div>\r\n            )}\r\n        \r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect } from \"react\";\r\nimport { getFirestore, collection, addDoc, doc, updateDoc } from \"firebase/firestore\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { Button } from '@mui/material';\r\nimport { context } from \"./App.js\";\r\n\r\n//dad e papa ID per riferimento replies\r\n\r\n//\r\n\r\nfunction CommentForm({name, idpost, type, email, iduser, initialText, functions,whatis ,iddad}) {\r\n\r\n  const [text, setText] = useState(initialText);\r\n  const db = getFirestore();\r\n  let history = useHistory();\r\n  const [alert,setAlertz] = useState('');\r\n  const papaid = iddad;\r\n  const what = whatis;\r\n  const [textModi,setTextModi] = useState(\"\");\r\n  const [textAgg,setTextAgg] = useState(\"\");\r\n  const language = React.useContext(context);\r\n\r\n  //utilizza l'useContext per cambiare la lingua\r\n  useEffect(() => {\r\n    if(language.language === 'en') {\r\n      setTextModi(\"Update comment\");\r\n      setTextAgg(\"Add Comment\");\r\n    }\r\n    else {\r\n      setTextModi(\"Modifica commento\");\r\n      setTextAgg(\"Aggiungi commento\");\r\n    }\r\n  },[language]);\r\n\r\n  \r\n\r\n  const onSubmit = (event) => {\r\n  event.preventDefault();\r\n\r\n  if (text != null) {\r\n  if(text.length < 5 || name === null) {\r\n      if (name === null ) {\r\n        if(language.language === 'en') {\r\n          setAlertz('You must login in order to leave a comments')\r\n        }\r\n        else\r\n          setAlertz('Devi effettuare il login per poter commentare')\r\n      }   \r\n      else {\r\n        if(language.language === 'en') {\r\n          setAlertz('Text too short')\r\n        }\r\n        else\r\n        setAlertz('Testo troppo corto')\r\n      }\r\n  }\r\n  else {\r\n  addComment(text, name, idpost, new Date, type, email, iduser)\r\n  setText('');\r\n  if (type === \"edit\" || type === \"reply\")\r\n  functions();\r\n  }\r\n}\r\nelse {\r\n  if(language.language === 'en') {\r\n    setAlertz('Insert a comment')\r\n  }\r\n  else\r\n  setAlertz('Inserisci un commento')\r\n}\r\n};  \r\n\r\nconst addComment = (text, name, idpost, Date, type, email, iduser) => { \r\n\r\n  switch (type) {\r\n\r\n  case \"comment\":\r\n\r\n      try {\r\n      const docRef = addDoc(collection(db, \"comments\"), {\r\n              Name: name,\r\n              Text: text,\r\n              Idpost: idpost,\r\n              CreatedOn: Date,\r\n              Email: email,  \r\n              IDuser: iduser,\r\n              whatis: \"comments\",\r\n          }).then(() => {\r\n            history.push(`/pageproduct/${idpost}`)\r\n          })} catch (e) {\r\n              console.error(\"Error adding document: \", e);\r\n            }  \r\n            \r\n  break;\r\n\r\n  case \"edit\": \r\n  try {\r\n  async function fetchMyedit() {\r\n    const washingtonRef = doc(db, what, papaid);\r\n    // Set the \"capital\" field of the city 'DC'\r\n    await updateDoc(washingtonRef, {\r\n      Text: text,\r\n    })\r\n  }\r\n  \r\n  fetchMyedit().then(() => {\r\n    history.push(`/pageproduct/${idpost}`)\r\n  })\r\n  } catch (e) {\r\n    console.error(\"Error adding document: \", e);\r\n  }  \r\n  break;\r\n\r\n\r\n  case \"reply\": \r\n  \r\n  try {\r\n    const docRef = addDoc(collection(db, \"replies\"), {\r\n            Name: name,\r\n            Text: text,\r\n            Iddad: papaid,\r\n            idpost: idpost,\r\n            CreatedOn: Date,\r\n            Email: email,  \r\n            IDuser: iduser,\r\n            whatis: \"replies\",\r\n        }).then(() => {\r\n          history.push(`/pageproduct/${idpost}`)\r\n        })} catch (e) {\r\n            console.error(\"Error adding document: \", e);\r\n          }  \r\n  \r\n  break;\r\n\r\n  }\r\n}\r\n  \r\n  return (\r\n  <div className=\"comments\">\r\n    <div className=\"comment-form-title\"></div>\r\n    <form onSubmit={onSubmit}>\r\n    <textarea\r\n        className=\"comment-form-textarea\"\r\n        value={text}\r\n        onChange={(e) =>{ setText(e.target.value); setAlertz('')}}\r\n    />\r\n   { alert !== '' && <div className=\"alert\"> {alert} </div> }\r\n    <Button variant=\"contained\" onClick={onSubmit} >\r\n    {type === \"edit\" ? textModi  : textAgg }\r\n    </Button>\r\n    </form>\r\n    <div className=\"comments-container\">\r\n\r\n    </div>\r\n</div>\r\n)}\r\n\r\nexport default CommentForm\r\n","export default __webpack_public_path__ + \"static/media/user-icon.b89021c6.png\";","import React, {useState, useEffect} from 'react'\r\nimport CommentForm from \"./CommentForm\";\r\nimport {getFirestore, doc, deleteDoc,  query,  where, collection, getDocs} from \"firebase/firestore\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport { getAuth} from 'firebase/auth';\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport icon from './user-icon.png';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\n\r\n\r\nfunction Comment({id,idprodowner,comment,idowner,nameowner,date,name,idpost,email,iduser, whatis,iddad, loadcomment}) {\r\n\r\n\r\nconst [replies,setReplies] = useState([])\r\nconst [isEditing,setIsediting] = useState(false)\r\nconst [isReplying,setIsreplying] = useState(false)\r\nconst dates = new Intl.DateTimeFormat('eu-EU', { year: 'numeric', month: '2-digit', day: '2-digit'}).format(date*1000)\r\nconst db = getFirestore();\r\nconst auth = getAuth();\r\nconst user = auth.currentUser;\r\nconst location = useLocation();\r\nlet history = useHistory();\r\nconst { t, i18n } = useTranslation();\r\nconst [textModi,setTextModi] = useState(\"\");\r\nconst [textAgg,setTextAgg] = useState(\"\");\r\nconst language = React.useContext(context);\r\n\r\n//utilizza l'useContext per cambiare la lingua\r\nuseEffect(() => {\r\n  if(language.language === 'en') {\r\n    setTextModi(\"Update comment\");\r\n    setTextAgg(\"Add Comment\");\r\n  }\r\n  else {\r\n    setTextModi(\"Modifica commento\");\r\n    setTextAgg(\"Aggiungi commento\");\r\n  }\r\n},[language]);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n    getCommentsReplies();\r\n    async function getCommentsReplies() {\r\n        const q = query(collection(db, \"replies\"),where(\"Iddad\",\"==\", id));\r\n        const querySnapshot =  await getDocs(q);\r\n        const saveFirebaseTodos = []; \r\n        querySnapshot.forEach((doc) => {\r\n        saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n    });\r\n    console.log(saveFirebaseTodos)\r\n    setReplies(saveFirebaseTodos)\r\n   }\r\n\r\n  \r\n}, [location])\r\n\r\n\r\n\r\n \r\nconsole.log(dates);\r\n\r\n\r\n    const replyComment = () => {\r\n      setIsreplying(true)\r\n      setIsediting(false)\r\n      if (isReplying === true)\r\n      setIsreplying(false)\r\n    }\r\n\r\n    const updateComment = () => {\r\n      setIsediting(true)\r\n      setIsreplying(false)\r\n      if (isEditing === true)\r\n      setIsediting(false)\r\n    }\r\n\r\n    const deleteComment = () => {\r\n\r\n      confirmAlert({\r\n        message: 'Sei sicuro di voler eliminare il tuo commento?',\r\n        buttons: [\r\n          {\r\n            label: 'Yes',\r\n            onClick: () =>   fetchMydelete().then(() => {\r\n              if (whatis === \"comments\") {\r\n                history.push(`/pageproduct/${idpost}`)\r\n              }\r\n            else {\r\n              history.push(`/pageproduct/${idpost}`) }}) \r\n          },\r\n          {\r\n            label: 'No',\r\n          }\r\n        ]\r\n      });\r\n\r\n      async function fetchMydelete() {\r\n      await deleteDoc(doc(db, whatis, id));\r\n      }        \r\n    }\r\n\r\n    console.log(id,whatis,comment,idowner,nameowner,name,idpost,email,iduser,iddad)\r\n    return (\r\n        <div>\r\n             <div key={id} className={`comment ${whatis===\"replies\" ? \"replic\" : \"\"}`}>\r\n      <div className=\"comment-image-container\">\r\n        <img src={icon} style={{width:\"32px\"}}/>\r\n      </div>\r\n      <div className=\"comment-right-part\">\r\n        <div className=\"comment-content\">\r\n          <div className=\"comment-author\">{nameowner}</div>\r\n          <div style={{color:\"rgb(0 161 157)\"}}> {dates} </div>\r\n          \r\n        </div>\r\n        <div style={{textAlign:\"initial\", fontWeight: \"600\",fontSize: \"small\"}}>ID:{idowner}</div>\r\n        {!isEditing && <div className=\"comment-text\">{comment}</div>}\r\n        {isEditing && (\r\n          <CommentForm \r\n          onClick={() =>\r\n            updateComment()\r\n           }\r\n          name = {name}\r\n          initialText = {comment} \r\n          type = 'edit'\r\n          email = {email}\r\n          iduser = {iduser}\r\n          idpost = {idpost}\r\n          functions = {updateComment}\r\n          whatis = {whatis}\r\n          iddad = {id} \r\n          loadcomment = {loadcomment} /> \r\n        )}\r\n        <div className=\"comment-actions\">\r\n          \r\n            <div\r\n              className=\"comment-action\"\r\n              onClick={() =>\r\n                replyComment()\r\n              }\r\n            >\r\n              {t(\"Rispondi\")}\r\n            </div>\r\n        \r\n          {idowner === iduser && (\r\n            <div\r\n              className=\"comment-action\"\r\n              onClick={() =>\r\n               updateComment()\r\n              }\r\n            >\r\n              {t(\"Modifica\")}\r\n            </div>\r\n          )}\r\n          {idowner === iduser && (\r\n            <div\r\n              className=\"comment-action\"\r\n              onClick={() => deleteComment()}\r\n            >\r\n              {t(\"Elimina\")}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {isReplying && (\r\n          <CommentForm \r\n          name = {name}\r\n          type = 'reply'\r\n          email = {email}\r\n          idpost = {idpost}\r\n          iduser = {iduser}\r\n          functions = {replyComment}\r\n          whatis = 'replies'\r\n          iddad = {id}\r\n          loadcomment = {loadcomment}\r\n          /> \r\n        )}\r\n        {replies.length > 0 && (\r\n          <div className=\"replies\">\r\n             {replies.map((value,key) => (\r\n            <Comment\r\n            key = {key}\r\n            id = {value.id}\r\n            //replies= {replies}\r\n            idprodowner = {idprodowner}\r\n            comment = {value.Text}\r\n            idowner = {value.IDuser}\r\n            nameowner = {value.Name} \r\n            date = {value.CreatedOn.seconds}\r\n            name = {user && user.displayName}\r\n            idpost = {idpost}\r\n            email = {email}\r\n            iduser = {iduser}\r\n            whatis = 'replies'\r\n            iddad = {id}\r\n            loadcomment = {loadcomment}\r\n          /> ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default Comment\r\n","import React, { useEffect, useState, useLayoutEffect } from \"react\";\r\nimport \"./PageProduct.css\"; \r\nimport { Button } from '@mui/material';\r\nimport { useParams, useLocation} from \"react-router-dom\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { getAuth} from 'firebase/auth';\r\nimport { doc, getFirestore, getDoc,  query, orderBy, where, collection, getDocs} from \"firebase/firestore\";\r\nimport { useStateValue } from './StateProvider';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport 'react-date-range/dist/styles.css'; // main css file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport { DateRange } from 'react-date-range';\r\nimport moment from 'moment';\r\nimport CommentForm from \"./CommentForm\";\r\nimport Comment from \"./Comment\";\r\nimport { getDatabase, ref, set, get , child } from \"firebase/database\";\r\nimport barcode from \"./barcode.png\"\r\nimport { toast } from 'react-toastify';\r\nimport { context } from \"./App.js\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nfunction PageProduct() {\r\n\r\n    var today = new Date();\r\n    const images = [];  \r\n    const [gallery,setGallery] =  useState([])\r\n    const [img,setImages] = useState([])\r\n    const [totaldays,setTotaldays] = useState([])\r\n    const [show,setShow] = useState(false);\r\n    const [startDate,setStartDate] = useState(new Date(today.setDate(today.getDate() + 1)));\r\n    const [endDate,setEndDate] = useState(new Date(today.setDate(today.getDate())));\r\n    const db = getFirestore();\r\n    const [products, setProduct] = useState([]);\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    const [iduser,setId] = useState('');\r\n    const [email,setEmail] = useState('');\r\n    const [totalcost, setTotalcost] = useState(0);\r\n    const [caparra, setCaparra] = useState(0);\r\n    const [comments, setComments] = useState([]);\r\n    const [subDays,setSubDay] = useState([]);\r\n    let { id } = useParams();\r\n    var tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    const location = useLocation();\r\n    const [textrent,setTextrent] = useState(\"\");\r\n    const [textbuy,setTextbuy] = useState(\"\");\r\n    const [textdeposit, setTextdeposit] = useState(\"\");\r\n    const language = React.useContext(context);\r\n    const { t, i18n } = useTranslation();\r\n  \r\n    //utilizza l'useContext per cambiare la lingua\r\n    useEffect(() => {\r\n      if(language.language === 'en') {\r\n        setTextbuy(\"Purchase\");\r\n        setTextrent(\"Rent\");\r\n        setTextdeposit(\"*per days selected\")\r\n      }\r\n      else {\r\n        setTextbuy(\"Acquista\");\r\n        setTextrent(\"Noleggia\");\r\n        setTextdeposit(\"*per le giornate selezionate\")\r\n      }\r\n    },[language]);\r\n    \r\n    \r\n    const startdate = new Intl.DateTimeFormat('eu-EU', { year: 'numeric', month: '2-digit', day: '2-digit'}).format(startDate)\r\n    const enddate = new Intl.DateTimeFormat('eu-EU', { year: 'numeric', month: '2-digit', day: '2-digit'}).format(endDate)\r\n\r\n    useEffect(() => {\r\n        if (user !== null) {\r\n          const uid = user.uid;\r\n          setId(uid);\r\n          const email = user.email;\r\n          setEmail(email)\r\n        }\r\n        }, [user])\r\n\r\n    //gestione settaggio data inizio e data fine    \r\n    const handleselected = (ranges) => {\r\n        setStartDate(ranges.selection.startDate);\r\n        setEndDate(ranges.selection.endDate);\r\n    };\r\n\r\n    const selectionRange = {\r\n        startDate: startDate,\r\n        endDate: endDate,\r\n        key: 'selection',\r\n      }\r\n\r\n\r\n    useLayoutEffect(() => { \r\n        //fase di assegnazioni dei valori che può cambiare nei prodotti a noleggio, ma per comodità messa anche assegnazione valore totale articolo in vendita\r\n    if (products.Type === 'VENDO') {\r\n        setTotalcost(products.Price)\r\n        setCaparra(0)\r\n    }\r\n    else {\r\n        setTotalcost(products.Priceday)\r\n        setCaparra(products.Price - products.Priceday)\r\n        }\r\n    }, [products])\r\n\r\n\r\n      useLayoutEffect(() => {            \r\n        //useEffect necessario a recuperare tt le date tra i due intervalli di tempo inseriti dall'utente, applicata per comodità nelle fasi di ricerca ed esclusione date\r\n        var getDaysBetweenDates = function(start, end) {\r\n        var now = start.clone(), dates = [];\r\n        var total = 0\r\n        var caparrone = 0\r\n      \r\n        while (now.isSameOrBefore(end)) {\r\n                dates.push(now.format('YYYY/MM/DD'));\r\n                now.add(1, 'days');\r\n                total = total + products.Priceday;\r\n                caparrone = products.Price - total;\r\n                console.log(total)\r\n                setTotalcost(total)\r\n                setCaparra(caparrone)\r\n            }\r\n            return dates;\r\n        };\r\n      \r\n      var start = moment(startDate);\r\n      var end = moment(endDate);\r\n      \r\n      var dateList = getDaysBetweenDates(start, end);\r\n      setTotaldays(dateList);\r\n      console.log(dateList);}, [startDate, endDate])\r\n\r\n\r\n\r\n    //Recupero le info del prodotto\r\n    useEffect(() => {\r\n        async function fetchMyAPI() {\r\n            const docRef = doc(db, \"products\", id);\r\n            const docSnap = await getDoc(docRef);\r\n            setProduct(docSnap.data())\r\n            return docSnap.data()\r\n            } \r\n\r\n            fetchMyAPI().then((value) => { \r\n                //dopo aver recuperato nella maniera completa le info dal database comincio la fase di assegnazione dei valori al calendario e il caousel delle immagini\r\n\r\n                //if per far si che solo quando si è nella schermata di un prodotto a noleggio vengano aggiornate nel format corretto le date da disabilitare perchè gia prenotate\r\n                if(value.Type === 'NOLEGGIO') {\r\n                    //variabile in let che verrai poi pushata con le date nel format leggibile dal date-range-picker e disattivare i giorni in cui il prodotto è prenotato\r\n                    let datesArray = [];\r\n                    console.log(value.datesbooked)\r\n\r\n                    //per evitare che vada in errore quando non è ancora stata noleggiata una data\r\n                    if(value.datesbooked != null) {\r\n                    datesArray =  value.datesbooked.map(dateString => new Date(dateString))   \r\n                    }\r\n\r\n                    setSubDay(datesArray) \r\n                    }\r\n\r\n                //aggiornamento nel format corretto delle immagini\r\n                for (let i = 0; i < value.Img.length; i++) {\r\n                    images.push({\r\n                        original: value.Img[i],\r\n                        thumbnail: value.Img[i],\r\n                      });\r\n                      if (i === (value.Img.length - 1))\r\n                      {\r\n                      setImages(images)\r\n                      }\r\n                    }\r\n                })\r\n        }, [])\r\n\r\n\r\n    useLayoutEffect(() => { setGallery(img); setShow(true); }, [img])\r\n\r\n\r\n    const [{basket},dispatch] = useStateValue();\r\n    var basketlenght = basket?.length;\r\n    const checkcart = [];\r\n    const lastcart = [];\r\n    var checkprodincart = '';\r\n    var sentence = 'good';\r\n\r\n    //TUTTA SERIE DI CONTROLLI PER VERIFICARE SE IL PRODOTTO NON é IN UN ALTRO CARRELLO O é STATO ACQUISTATO/NOLEGGIATO MENTRE IL CLIENTE ERA GIA NELLA PAGINA DEL PRODOTTO\r\n\r\n    const addtoBasket = () => {  \r\n    const timestamp = Date.now();\r\n\r\n    console.log(basketlenght);\r\n\r\n    for (var i = 0; i < basketlenght; i++) //controllo se l'id di questo prodotto è gia presente nel mio carrello    \r\n    { checkprodincart = (basket[i].id).includes(id)  }\r\n  \r\n        if (user && basketlenght < 5 && checkprodincart == false) {\r\n\r\n            // qui gli faccio rifare un controllo di sicurezza al database principale per vedere se nel mentre che lui guardava il prodotto qualcuno non ha finito un acquisto\r\n            fetchMyAPI()\r\n            async function fetchMyAPI() {\r\n            const docRef = doc(db, \"products\", id);\r\n            const docSnap = await getDoc(docRef);\r\n            const saveFirebaseTodos = []; \r\n\r\n            if (docSnap.exists()) {\r\n            console.log(\"Document data:\", docSnap.data());\r\n            saveFirebaseTodos.push(docSnap.data());\r\n            console.log(saveFirebaseTodos[0].Type);\r\n            if(saveFirebaseTodos[0].State === 'DISPONIBILE') \r\n            {\r\n            console.log(\"ceee\");\r\n            console.log(saveFirebaseTodos[0].datesbooked)\r\n                if(saveFirebaseTodos[0].Type === 'NOLEGGIO') \r\n                { \r\n                    var found = \"\";\r\n                    if(saveFirebaseTodos[0].datesbooked != undefined) {\r\n                    found = saveFirebaseTodos[0].datesbooked.some(r => totaldays.includes(r))\r\n                    console.log(found)\r\n                    }\r\n                    else {\r\n                    found = false;\r\n                    console.log(found)\r\n                    }\r\n                    if(found === false)\r\n                    checkothercarts(); //non sono state trovate date già prenotato nel mentre, quindi procedo a controllare i carrelli provvisori\r\n                    else\r\n                    {   //state trovate date già prenotato nel mentre, quindi faccio refreshare la pagina all'user per valutare le date disponibili\r\n                        toast.warning(\"Siamo spiacenti, ma il prodotto è stato già prenotato per alcune delle date selezionate, ricarica la pagina e verifica le date ancora disponibili\" , { \r\n                            position: \"top-left\",\r\n                            autoClose: true,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true,\r\n                            progress: undefined,\r\n                            });\r\n                    }\r\n                }\r\n                else \r\n                checkothercarts(); //in quanto è disponibile ed è un acquisto definitivo, ora c'è solo da controllare gli altri carrelli\r\n            }\r\n            \r\n            else { \r\n                toast.warning(\"Siamo spiacenti, ma il prodotto non è più disponibile\" , { \r\n                    position: \"top-left\",\r\n                    autoClose: true,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    });\r\n                \r\n                //alert('siamo spiacenti, ma il prodotto non è più disponibile') \r\n            }\r\n\r\n            } else { \r\n                \r\n                toast.warning(\"Siamo spiacenti, ma il prodotto non è più disponibile\" , { \r\n                    position: \"top-left\",\r\n                    autoClose: true,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    });\r\n                //alert('siamo spiacenti, ma il prodotto non è più disponibile')\r\n            console.log(\"No such document!\");\r\n            }\r\n        }\r\n\r\n        //puo eseguire questa funzione in quanto ha superato gli altri requisiti qui sopra\r\n        const checkothercarts = () => { \r\n\r\n          const dbRef = ref(getDatabase());\r\n            get(child(dbRef, `users/`)).then((snapshot) => {\r\n            if (snapshot.exists()) {\r\n                console.log(snapshot.val());\r\n                for(var i in snapshot.val())\r\n                checkcart.push([i, snapshot.val() [i]]);\r\n                \r\n\r\n            } else {\r\n                console.log(\"No data available, quindi via libera che dopo rimetto su good per non fare un altro CASE nello switch\"); \r\n                sentence=\"vialibera\";\r\n            }\r\n            }).then(() => \r\n            {   console.log(timestamp);\r\n\r\n                for (var j = 0; j < checkcart.length; j++) {\r\n\r\n                    for(var i in checkcart[j][1])\r\n                    lastcart.push([i, checkcart[0][1] [i]]);\r\n                    console.log(lastcart)\r\n\r\n                }\r\n            }).then(() => { \r\n\r\n            if( sentence !== 'vialibera') {\r\n\r\n            for (var g = 0; g < lastcart.length; g++) {  \r\n\r\n                console.log(lastcart[g][1])\r\n\r\n                if(lastcart[g][0] === id) \r\n                {\r\n                    console.log(lastcart[g][1].CreatedOn)\r\n                    var timecheck = timestamp - lastcart[g][1].CreatedOn;\r\n                    console.log(sentence,timestamp,timecheck)\r\n\r\n                    if ( timecheck < 240000 ) //240000 sono i millisecondi corrispondenti ai 4 minuti di tempo per completare l'acquisto di chi ha il prodotto nel carrello\r\n                    { \r\n                        console.log(lastcart[g][1].tipo)\r\n                        if (lastcart[g][1].tipo === \"NOLEGGIO\" ) { \r\n\r\n                        const found = lastcart[g][1].totalday.some(r=> totaldays.includes(r))\r\n\r\n                        console.log(found)\r\n\r\n                        if(found === true)\r\n                        sentence = 'articolo con date in comune in altro carrello'\r\n\r\n                        }\r\n                        else {sentence ='articolo in vendita in un altro carrello'}\r\n                    }\r\n                    else { sentence=\"good\" }\r\n                }  \r\n\r\n            }} else { sentence=\"good\" }})\r\n\r\n            .catch((error) => {\r\n            console.error(error);\r\n\r\n            }).finally(() => { \r\n            \r\n            console.log(sentence)\r\n\r\n            switch (sentence) {\r\n\r\n            case 'good' :\r\n            \r\n            writeUserData();\r\n                    function writeUserData() {\r\n                    const db = getDatabase();\r\n                    set(ref(db, 'users/' + iduser + '/' + id), {\r\n                        id: id,\r\n                        preview: products.Preview,\r\n                        title: products.Name,\r\n                        image: products.Img,\r\n                        price: totalcost,\r\n                        startDate: startdate,\r\n                        endDate: enddate,\r\n                        totalday: totaldays,\r\n                        city: products.City,\r\n                        tipo: products.Type, \r\n                        CreatedOn: timestamp,\r\n                        idbuyer: iduser,\r\n                        caparra: caparra,\r\n                    });\r\n                }\r\n                //manda l'articolo all data layer (il punto raccolta dati)\r\n                dispatch({\r\n                    type: 'ADD_TO_BASKET',\r\n                    item: {\r\n                        id: id,\r\n                        preview: products.Preview,\r\n                        title: products.Name,\r\n                        image: products.Img,\r\n                        price: totalcost,\r\n                        caparra: caparra,\r\n                        startDate: startdate,\r\n                        endDate: enddate,\r\n                        totalday: totaldays,\r\n                        city: products.City,\r\n                        tipo: products.Type,\r\n                        CreatedOn: timestamp, \r\n                        idbuyer: iduser,\r\n                    }\r\n                }) \r\n\r\n                break;\r\n\r\n                case 'articolo in vendita in un altro carrello':\r\n\r\n                    toast.warning(\"Siamo spiacenti, articolo in vendita in un altro carrello, riprova tra qualche minuto\" , { \r\n                        position: \"top-left\",\r\n                        autoClose: true,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                        });\r\n                  \r\n\r\n                break;\r\n\r\n                case 'articolo con date in comune in altro carrello':\r\n\r\n                    toast.warning(\"Siamo spiacenti, articolo con date in comune in un altro carrello, riprova tra qualche minuto o cambia le date\" , { \r\n                        position: \"top-left\",\r\n                        autoClose: true,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                        });\r\n                   \r\n \r\n                break;\r\n\r\n                }\r\n            }); \r\n            }\r\n        } \r\n\r\n        else \r\n        { \r\n          if (!user) {\r\n\r\n            toast.error(\"Devi prima effettuare il login, per poter prenotare un prodotto nel carrello\" , { \r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n    \r\n          } else if (basketlenght > 3) {\r\n\r\n            toast.error(\"Hai gia troppi articoli bloccati nel tuo carrello, bloccando i prodotti il massimo prenotabile per volta è di soli 3 articoli\" , { \r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n            \r\n          }\r\n          else { \r\n            \r\n            toast.error(\"Questo articolo è già presente nel carrello, se è un noleggio e lo vuoi noleggiare un altra volta dovrai fare un altro carrello\" , { \r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nuseLayoutEffect(() => { getComments() },  [location])\r\n        \r\n        async function getComments() {\r\n            const q = query(collection(db, \"comments\"),where(\"Idpost\",\"==\", id),orderBy(\"CreatedOn\",\"asc\"));\r\n            const querySnapshot =  await getDocs(q);\r\n            const saveFirebaseTodos = []; \r\n            querySnapshot.forEach((doc) => {\r\n            saveFirebaseTodos.push(({id: doc.id, ...doc.data()}));\r\n        });\r\n        console.log(saveFirebaseTodos.length) \r\n        setComments(saveFirebaseTodos)\r\n    };   \r\n\r\n\r\n\r\n    return (\r\n        <div className=\"pageprod\">\r\n\r\n        <div className=\"headlist\"> \r\n        \r\n        <div className=\"headtext\" style={{textAlign: \"start\"}}>\r\n            <span className=\"intro intro--num\"> <img src={barcode} width={50}/> </span>\r\n            <span className=\"intro\">{products.Type === \"NOLEGGIO\" ? textrent  : textbuy }</span>\r\n            </div>\r\n        \r\n        </div>\r\n\r\n        <div className=\"allblock\">\r\n            <div className=\"pageproduct\">\r\n                <div className=\"pageproduct__info\">\r\n                    <div className=\"pageproduct__description\">\r\n                        <h2>{language.language === 'en' ? products.NameEN : products.Name}</h2>\r\n                        {show === true &&\r\n                        <ImageGallery items={gallery} /> }\r\n                    </div>\r\n                </div>  \r\n\r\n                <div className=\"vl\"></div>\r\n                \r\n           <div className=\"pageproduct__right\">\r\n           <br />\r\n                    <h3>{language.language === 'en' ? products.PreviewEN : products.Preview}</h3>\r\n                    <div className=\"page__description\">\r\n                    <p>{language.language === 'en' ? products.DescriptionEN : products.Description}</p>\r\n                    </div>\r\n \r\n                    <div className=\"pageproduct__aggiungi\">\r\n                    {products.Type === \"NOLEGGIO\" && show === true &&\r\n                    <div>\r\n                    <DateRange\r\n                    minDate={tomorrow}\r\n                    ranges={[selectionRange]}\r\n                    onChange={handleselected}\r\n                    disabledDates={subDays}\r\n                    /> </div> }\r\n\r\n\r\n                    <div className=\"pageproduct__rating\">\r\n                    {products.City} \r\n\r\n                    <h3> € {totalcost} {products.Type === \"NOLEGGIO\" ? textdeposit  : \"\" } </h3>\r\n                    {products.Type === \"NOLEGGIO\" && <div className=\"pageproduct__aggiungi\"> {t(\"Deposito caparra\")}: {caparra} €  <div className=\"infocaparra\">*{t(\"differenza tra costo noleggio e valore totale del prodotto, per ulteriori info controlla il nostro regolamento\")} </div>  </div>  }\r\n           <Button className=\"buttons\" style={{backgroundColor:\"#00A19D\", border: \"1px solid black\",height:\"39.9px\"}} onClick={addtoBasket}>{t(\"Aggiungi al carrello\")}</Button>\r\n           </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        <div className=\"comments\">\r\n        <CommentForm \r\n        name = {user && user.displayName}\r\n        idpost = {id}\r\n        type = 'comment'\r\n        email = {email}\r\n        iduser = {iduser}\r\n        /> \r\n        <div className=\"comments-container\">\r\n        {comments.map((value,key) => (\r\n          <Comment\r\n          key = {key}\r\n            id = {value.id}\r\n            idprodowner = {products.IDowner}\r\n            comment = {value.Text}\r\n            idowner = {value.IDuser}\r\n            nameowner = {value.Name} \r\n            date = {value.CreatedOn.seconds}\r\n            name = {user && user.displayName}\r\n            idpost = {id}\r\n            email = {email}\r\n            iduser = {iduser}\r\n            whatis = 'comments'\r\n            iddad = {value.id}\r\n          /> ))}\r\n          </div>\r\n        </div> \r\n        </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default PageProduct\r\n","// JSON.parse(localStorage.getItem('localhost'))\r\nexport const initialState = {\r\n    basket: [], \r\n    photo: [],\r\n    dash: [],\r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\nbasket.reduce((amount, item) => item.price + amount, 0);\r\n\r\nexport const getCaparraTotal = (basket) => \r\nbasket.reduce((amount, item) => item.caparra + amount, 0);\r\n\r\n\r\nconst reducer = (state, action) => {\r\n\r\n    console.log(action);\r\n    switch (action.type) {\r\n        \r\n        case 'ADD_TO_BASKET':\r\n\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item]\r\n            };\r\n        \r\n\r\n        case 'CLEAR_BASKET':\r\n\r\n        //alert('basket pulito')\r\n                return {\r\n                    ...state,\r\n                    basket:[]\r\n                };\r\n\r\n        case \"REMOVE_FROM_BASKET\":\r\n\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );\r\n            let newBasket = [...state.basket];\r\n\r\n            if (index >= 0) {\r\n                newBasket.splice(index, 1)\r\n            } else {\r\n                console.log('Impossibile rimuovere il prodotto (id:  ${action.id}) perchè non è presente nel carrello!')\r\n            }\r\n\r\n        default:\r\n                return { ...state,\r\n                    basket: newBasket\r\n                }\r\n            \r\n\r\n        case \"REMOVE_FROM_BOOK\":\r\n                return {\r\n                    ...state,\r\n                    photo: [...state.photo]\r\n                };\r\n\r\n                \r\n        case \"REMOVE_FROM_DASH\" :\r\n                    return {\r\n                        ...state,\r\n                        dash: [...state.dash]\r\n                    };\r\n    }\r\n};\r\n\r\nexport default reducer;","import React , { useState, useEffect }  from 'react';\r\nimport './CheckoutProduct.css';\r\nimport { useStateValue } from './StateProvider';\r\nimport { Button } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport {Link} from \"react-router-dom\";\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport { getDatabase, ref, remove } from \"firebase/database\";\r\nimport { toast } from 'react-toastify';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nfunction CheckoutProduct({id,title,image,price,city,tipo,caparra,startDate,endDate,preview,totalday,idbuyer,createdon }) {\r\n\r\nconst [{basket}, dispatch] = useStateValue();\r\nconst timestamp = Date.now() - createdon;\r\nconst startcount = 237000 - timestamp;\r\nconst [counter, setCounter] = useState(Math.round(startcount / 1000));\r\n\r\nconst removefromBasket = () => {\r\n    writeUserData();\r\n        function writeUserData() {\r\n            const db = getDatabase();\r\n            remove(ref(db, 'users/' + idbuyer + '/' + id), {\r\n            });\r\n          }\r\n    //rimuove elemento dal carrello\r\n    dispatch({\r\n        type: 'REMOVE_FROM_BASKET',\r\n        id: id,\r\n    }) \r\n}\r\n\r\n//countdown\r\nuseEffect(() => {\r\n\r\n   //console.log(\" id: \" + title + \" startcount: \" + startcount + \" timestamp: \" + timestamp + \" counter: \" + counter)\r\n    if (counter < 1) \r\n    {\r\n           toast.warning(\"L'articolo \" + title + \" è stato rimosso dal carrello per troppo tempo\" , { \r\n            position: \"top-left\",\r\n            autoClose: true,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            });\r\n    removefromBasket(); \r\n    }\r\n\r\n    else if (counter > 0) \r\n    {\r\n        const timerId = setInterval(() => setCounter(counter - 1), 1000);\r\n        return () => clearInterval(timerId);\r\n    }\r\n  }, [counter]);\r\n    \r\n \r\n\r\nreturn (\r\n        <div className=\"product\" style={{transform: \"none\"}}>\r\n        <div className=\"product__info\" >\r\n        <div className=\"countdown\">\r\n        <h4>{tipo === \"VENDO\" ? \"ACQUISTA\" : \"NOLEGGIA\"} </h4>\r\n        <div className=\"contatore\">\r\n        Countdown: {counter} </div> </div>\r\n            <div className=\"product__description\">\r\n                <h2>{title}</h2>\r\n            </div>\r\n            <br />\r\n            {tipo === \"VENDO\" &&\r\n            <div className=\"product__price\">\r\n                <h3>€ {price} </h3>\r\n                <div className=\"details\">\r\n                  <br />\r\n                  <br />\r\n                  <br />\r\n            </div>\r\n            </div>\r\n            }\r\n            {tipo === \"NOLEGGIO\" &&\r\n            <div className=\"product__price\">\r\n                <h3>€ {price} </h3>\r\n                <div className=\"details\" >\r\n                  {totalday.length < 2 && <p style={{fontSize:\"11px\"}}> Per la giornata del {totalday[0]} </p> } {totalday.length >= 2 && <p style={{fontSize:\"11px\"}} > Per le giornate che vanno dal {startDate} al {endDate} </p> }\r\n            </div>\r\n            </div>\r\n\r\n            }\r\n            <div className=\"product__rating\">\r\n                {city}\r\n            </div>\r\n        </div>   \r\n    <img src={image} className=\"imghome\" />     \r\n    <div className=\"buttonbot\">\r\n    <Link to={`/pageproduct/${id}`} style={{marginRight:\"5px\",height:\"36px\"}}> <VisibilityIcon style={{color:\"black\",border:\"1px solid white\",borderRadius:\"9px\",width:\"100%\",height:\"34.035px\"}} />\r\n    </Link>\r\n    <Button variant=\"outlined\" startIcon={<DeleteIcon />} onClick={removefromBasket} >Rimuovi articolo </Button>\r\n    </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { doc, updateDoc, arrayUnion, getFirestore, addDoc, collection} from \"firebase/firestore\";\r\nimport { useHistory } from \"react-router-dom\"; \r\nimport Loader from \"./Loader\";\r\n\r\n\r\n\r\n\r\n/*per utilizzare paypal va inserito l'src script nell'index.html della cartella public! */\r\nexport default function Paypal({name,surname,props,total,email, idbuyer, caparra}) {\r\n\r\n  \r\n  //Faccio questo passaggio per nascondere l'accesso alla mia API grazie all'ENV\r\n  console.log(name,surname,props,total,idbuyer)\r\n  require('dotenv').config()\r\n\r\n  console.log(process.env.REACT_APP_API_KEY)\r\n  \r\n  let history = useHistory();\r\n  const amount = total;\r\n  console.log(amount)\r\n  const paypal = useRef();\r\n  const db = getFirestore();\r\n  let infoprod = [];\r\n  let info = '';\r\n  let html = '';\r\n  let allinfo = [];\r\n  let allinfoS = [];\r\n  const [showloader, setShowloader] = useState(false);\r\n  \r\n  const location = {\r\n    pathname: '/',\r\n    state: { fromCheckout: true }\r\n  }\r\n\r\n//faccio il resoconto di ogni singolo ordine in una sola stringa per poter archiviare e mandare il resoconto via email in html\r\n  useEffect(() => {\r\n    html = \"<h2> Resoconto del suo ordine eseguito il: \" + s + \" </h2> <br> <h3> Spesa totale: <h2> \" + total + \" <h2> </h3> <br> <h3> Caparra totale: <h2> \" + caparra + \" <h2> </h3> <br> <h3> Persona delegata al ritiro (presentarsi con documento di identita valido: \" + name + \" \" + surname + \" </h3>  <br> <h2> Lista delle sue operazioni: </h2>  <br> <br> <p> Copyright &copy; All Rights Reserved by ERMELLINO S.P.A. </p>\"           \r\n    for(var i = 0; i < props.length; i++) \r\n    {\r\n      if(props[i].tipo === 'NOLEGGIO')\r\n      {\r\n      info = \"Id prodotto: \" + props[i].id + \" / Nome articolo: \" + props[i].title + \" / Tipo : Noleggio / Data inizio noleggio: \" + props[i].startDate + \" - Data fine noleggio: \" + props[i].endDate + \" / Caparra: \" + props[i].caparra;\r\n      allinfo = {id: props[i].id, titolo: props[i].title, tipo: \"Noleggio\", caparra: props[i].caparra, datainizio: props[i].startDate, datafine: props[i].endDate, prezzo: props[i].price, foto: props[i].image[0], data: s}\r\n      infoprod.push(info) //pusho le info in questo modo per avere la lista in vettori \r\n      allinfoS.push(allinfo);\r\n      html = html + \" <br> \" + info; //creo l'html e lo mando a capo ogni volta\r\n      console.log(html)\r\n      console.log(allinfoS)\r\n      }\r\n      else {\r\n      info = \"Id prodotto: \" + props[i].id + \" / Nome articolo: \" + props[i].title + \" / Nome articolo: \" +  props[i].price + \" / Tipo : Acquisto \" ;\r\n      allinfo = {id: props[i].id, titolo: props[i].title, tipo: \"Acquisto\", prezzo: props[i].price, foto: props[i].image[0], data: s }\r\n      infoprod.push(info)\r\n      allinfoS.push(allinfo);\r\n      html = html + \" <br> \" + info;\r\n      console.log(html)\r\n      console.log(allinfoS)\r\n      }\r\n    }\r\n  }, []);\r\n\r\n\r\n  //formatta l'ora nella maniera che più aggrada, questo caso nel format Italiano tipo , esempio 12 Maggio 2022 \r\n  function join(t, a, s) {\r\n    function format(m) {\r\n      let f = new Intl.DateTimeFormat('it', m);\r\n      return f.format(t);\r\n      }\r\n    return a.map(format).join(s);\r\n    }\r\n \r\n let a = [{day: 'numeric'}, {month: 'long'}, {year: 'numeric'}];\r\n let s = join(new Date, a, ' ');\r\n console.log(s);\r\n\r\n \r\n  const [mailerState, setMailerState] = useState({\r\n    sender: \"L'ERMELLINO\",\r\n    email: email,\r\n    subject: \"\",\r\n    message: \"Resoconto del suo ordine eseguito il: \" + s,\r\n    html: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    \r\n    window.paypal.Buttons({\r\n        createOrder: (data, actions, err, total) => {\r\n          return actions.order.create({\r\n            intent: \"CAPTURE\",\r\n            purchase_units: [\r\n              {\r\n                description: \"Acquisto dall'ermellino\",\r\n                amount: {\r\n                  currency_code: \"EUR\",\r\n                  value: amount,\r\n                },\r\n              },\r\n            ],\r\n          });\r\n        },\r\n        onApprove: async (data, actions) => {\r\n        setShowloader(true);\r\n        const productRef = doc(db, \"products\", props[0].id);\r\n        const order = await actions.order.capture();          \r\n        //A PAGAMENTO ANDATO CON SUCCESSO RIMUOVO IL PRODOTTO DALLA DISPONIBILITA, O SE è UN NOLEGGIO AGGIUNGO LE DATE IN CUI NON SARA DISPONIBILE AL DATABASE PRINCIPALE\r\n        if(props[0].tipo === \"NOLEGGIO\") \r\n        {\r\n          await updateDoc(productRef, {\r\n            datesbooked: arrayUnion(...props[0].totalday) //MESSO CON I PUNTINI PER AGGIUNGERE UN ARRAY \r\n          });\r\n        }\r\n        else{\r\n          await updateDoc(productRef, {\r\n            State: \"VENDUTO\" \r\n          });\r\n        }    \r\n        \r\n        try {\r\n          //METTO L'ORDINE NEL DATABASE\r\n          const docRef = addDoc(collection(db, \"orders\"), {\r\n            clientID:idbuyer,\r\n            emailclient:email,      \r\n            infoproducts:allinfoS,\r\n            CreatedOn: Date.now(),\r\n              }).then(function(docRef) {\r\n                //setto l'id dell'ordine che poi spedisco per email al cliente\r\n                console.log(docRef.id)\r\n                mailerState.subject = \"Ricevuta ordine: \" + docRef.id;\r\n                mailerState.html = html;\r\n              }).then(() => { \r\n              submitEmail();\r\n              })\r\n              } catch (e) {\r\n                  console.error(\"Error adding document: \", e);\r\n                } \r\n  \r\n                const submitEmail = async () => {\r\n             \r\n                  console.log({ mailerState });\r\n                  const response = await fetch(\"https://hosteapitestlodux.herokuapp.com/\"+process.env.REACT_APP_API_KEY, {\r\n                  method: \"POST\",\r\n                  headers : { \r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                  },\r\n                  body: JSON.stringify({ mailerState }),\r\n                })\r\n                  .then((res) => res.json())\r\n                  .then(async (res) => {\r\n                    const resData = await res;\r\n                    console.log(resData);\r\n                    if (resData.status === \"success\") {\r\n                      \r\n                    } else if (resData.status === \"fail\") {\r\n                      alert(\"Message failed to send\");\r\n                    }\r\n                  })\r\n                  .then(() => {\r\n                      setShowloader(false);\r\n                      history.push(location)\r\n                  });\r\n                }\r\n\r\n        console.log(order,name,surname,props,amount,props[0].totalday);\r\n        },\r\n        onError: (err) => {\r\n          console.log(err);\r\n        },\r\n      })\r\n      .render(paypal.current);\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div ref={paypal}>\r\n      { showloader && <Loader /> }\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect  } from 'react';\r\nimport './Paysection.css';\r\nimport logo from './logo.png';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport { getAuth } from 'firebase/auth';\r\nimport { Button } from '@mui/material';\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from './reducer';\r\nimport { getCaparraTotal } from './reducer';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport Radio from '@mui/material/Radio';\r\nimport TextField from '@mui/material/TextField';\r\nimport PayPal from \"./PayPal\";\r\nimport {loadStripe} from '@stripe/stripe-js';\r\nimport {\r\n  CardElement,\r\n  Elements,\r\n  useStripe,\r\n  useElements,\r\n} from '@stripe/react-stripe-js';\r\n\r\n\r\n\r\n\r\nexport default function Paysection() {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n    //setto per default il metodo paypal, cosi per scelta\r\n    const [method, setMethod] = useState('paypal');\r\n    const [name, setName] = useState('');\r\n    const [surname, setSurname] = useState('');\r\n    const [totale, setTotale] = useState(0);\r\n    const [showpaypal, setShowpaypal] = useState(false);\r\n    const [showpaymentmethod, setShowpaymentmethod] = useState(false);\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    let history = useHistory();\r\n    const props = [];\r\n    // eventuale variabile per calcolare la percentuale del totale che spetterebbe all'ermellino:\r\n    let ermellinotax = totale * 2 / 100;\r\n\r\n  \r\n    console.log(ermellinotax)\r\n    //creo tutti i props da mandare all resoconto paypal\r\n    basket.map((item) => ( props.push(item), console.log(props)))\r\n    \r\n    //Checkout di stripe\r\n    const CheckoutForm = () => {\r\n      const stripe = useStripe();\r\n      const elements = useElements();\r\n    \r\n      const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n    \r\n        if (elements === null) {\r\n          return;\r\n        }\r\n    \r\n        const {error, paymentMethod} = await stripe.createPaymentMethod({\r\n          type: 'card',\r\n          card: elements.getElement(CardElement),\r\n        });\r\n      };\r\n    \r\n      return (\r\n        <form onSubmit={handleSubmit}>\r\n          <CardElement />\r\n          <Button  type=\"submit\" disabled={!stripe || !elements} style={{backgroundColor:\"#E05D5D\",color:\"white\",width:\"-webkit-fill-available\",marginTop:\"10px\"}}>\r\n           PAGA ORA </Button>\r\n        </form>\r\n      );\r\n    };\r\n    \r\n    const stripePromise = loadStripe('pk_test_6pRNASCoBOKtIshFeQd4XMUh');\r\n\r\n    //gestisce scelta metodo pagamento\r\n    const handleChange = (event) => {\r\n      setMethod(event.target.value);\r\n    };\r\n\r\n    //per avere il totale sempre aggiornato in variabile da mandare al metodo di pagamento\r\n    let total_amount = getBasketTotal(basket);\r\n\r\n    //useEffect per assicurarsi il render del paypal con un valore maggiore di 0 e il riaggiornamento nel caso un articolo viene rimosso (o per timer o scelta utente)\r\n    useEffect(() => {\r\n      setShowpaypal(false)\r\n      setTotale(total_amount)\r\n      console.log(\"Totale pagare ora: \" + totale + \" €\")\r\n      if(name !== '' && surname !== '') {\r\n        setShowpaymentmethod(true)\r\n      }\r\n      else\r\n      setShowpaymentmethod(false)\r\n      const timer = setTimeout(() => {\r\n        setShowpaypal(true) \r\n      }, 1000);\r\n     \r\n      if (basket.length < 1)\r\n      history.push(location)\r\n    }, [total_amount,name,surname])\r\n\r\n  \r\n  //meccanismo di rispedizione alla home page quando il carrello va a 0\r\n  const location = {\r\n       pathname: '/',\r\n      state: { fromCart: true }\r\n    }\r\n\r\n    return (      \r\n        <div className=\"signin ciek\">\r\n            <Link to=\"/\">\r\n            <img className=\"signin_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n            </Link>      \r\n            \r\n           \r\n        <div className=\"signin__container check\">\r\n        <div className=\"iphone\">\r\n  <header className=\"header_pay\">\r\n  <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}>Checkout</span>\r\n  </header>\r\n\r\n  <div className=\"form\" > \r\n    <div>\r\n      <h2>Dettagli cliente</h2>\r\n        <h5>Nome e cognome di chi effettuerà il ritiro nelle sede/i dei prodotti</h5>          \r\n          <div className=\"name__surname\" > \r\n          <div className=\"nome__ritiro\">\r\n           <p> Nome </p>\r\n            <TextField style={{height:\"23px\", width:\"100%\"}}\r\n                  className=\"preview\"\r\n                  id=\"outlined-textarea\"\r\n                  inputProps={{\r\n                    maxLength: 10,\r\n                  }}\r\n                  type=\"input\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)} \r\n                />\r\n                </div>\r\n                <div className=\"cognome__ritiro\">\r\n            <p> Cognome </p>\r\n              <TextField style={{ width:\"100%\"}}\r\n                  className=\"preview\"\r\n                  id=\"outlined-textarea\"\r\n                  inputProps={{\r\n                    maxLength: 10,\r\n                  }}\r\n                  value={surname}\r\n                  onChange={(e) => setSurname(e.target.value)}\r\n                />\r\n              </div>       \r\n      </div>\r\n      <hr />\r\n      <h5 style={{textAlign:\"start\"}}>Info utente registrato che sta effettuando l'operazione</h5> \r\n      <div style={{textAlign:\"start\",lineHeight: \"9px\"}}>\r\n      <p>Nome: {user && user.displayName}</p>\r\n      <p>Email: {user && user.email}</p>\r\n      <p>ID: {user && user.uid}</p>\r\n      </div>\r\n    <h2>Lista acquisti</h2>\r\n      <div className=\"lista__uscita\">\r\n      {basket.map((item,index) => ( <CheckoutProduct \r\n            key={item.id}\r\n            id={item.id}\r\n            title={item.title}\r\n            image={item.image}\r\n            price={item.price}\r\n            city={item.city}\r\n            tipo={item.tipo}\r\n            totalday={item.totalday}\r\n            pricerent={item.pricerent}\r\n            caparra={item.caparra}\r\n            startDate={item.startDate}\r\n            endDate={item.endDate}\r\n            preview={item.preview}\r\n            idbuyer={item.idbuyer}\r\n            createdon={item.CreatedOn}>\r\n            </CheckoutProduct> ))}\r\n      </div>\r\n     \r\n      <h2>Dettagli pagamento</h2>\r\n      <fieldset style={{width:\"-webkit-fill-available\",textAlign:\"justify\"}}>\r\n      <legend >Metodo di pagamento</legend> \r\n      <div className=\"paypal\">\r\n      <Radio\r\n        checked={method === 'paypal'}\r\n        onChange={handleChange}\r\n        value=\"paypal\"\r\n        name=\"radio-buttons\"\r\n        inputProps={{ 'aria-label': 'A' }}\r\n      />\r\n        <img className=\"paypal\" style={{width:\"78%\"}} src=\"https://www.paypalobjects.com/webstatic/mktg/logo/AM_mc_vs_dc_ae.jpg\" alt=\"PayPal-acceptance-mark-picture\" />\r\n      </div>\r\n      <div className=\"paypal stripe\">\r\n      <Radio\r\n        checked={method === 'stripe'}\r\n        onChange={handleChange}\r\n        value=\"stripe\"\r\n        name=\"radio-buttons\"\r\n        inputProps={{ 'aria-label': 'B' }}\r\n      />\r\n       <img className=\"paypal\"  style={{width:\"78%\"}} src=\"https://www.pngkey.com/png/detail/206-2068262_how-macro-really-works-checkout-pay-with-credit.png\" alt=\"PayPal-acceptance-mark-picture\" />\r\n \r\n      </div>\r\n    </fieldset>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>Da pagare ora</td>\r\n            <td align=\"right\">   <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                    <p style={{lineHeight: \"0px\"}}>\r\n                    <strong> {value}.00  </strong> \r\n                    </p>\r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"€ \"}\r\n            /></td>\r\n          </tr>\r\n          <tr>\r\n            <td>Caparra al momento del ritiro (*per noleggi)</td>\r\n            <td align=\"right\"><CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                    <p style={{lineHeight: \"0px\"}}>\r\n                    <strong>   {value}.00  </strong> \r\n                    </p>\r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getCaparraTotal(basket)}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"€ \"}/></td>\r\n          </tr>\r\n        </tbody>\r\n        </table>\r\n        <hr />\r\n        {showpaymentmethod === false &&\r\n        <div className=\"warning\">Inserisci Nome e Cognome di chi verrà a ritirare il prodotto</div> }\r\n          { method === 'paypal' && showpaypal === true && showpaymentmethod === true &&\r\n          <PayPal \r\n          name={name}\r\n          surname={surname}\r\n          caparra={getCaparraTotal(basket)}\r\n          idbuyer={user && user.uid}\r\n          email={user && user.email}\r\n          props={props}\r\n          total={totale}\r\n          />\r\n          }\r\n          { method === 'stripe' && showpaymentmethod === true &&\r\n            <Elements stripe={stripePromise}>\r\n              <CheckoutForm />\r\n            </Elements>\r\n          }\r\n    </div>   \r\n    <div>\r\n    </div>\r\n  </div>\r\n</div>\r\n </div>\r\n</div>\r\n    )\r\n};\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/old-staff-removebg-preview.2046095b.png\";","export default __webpack_public_path__ + \"static/media/pappagallo.3f8722b4.jpg\";","export default __webpack_public_path__ + \"static/media/pavone.1c0e40be.jpg\";","export default __webpack_public_path__ + \"static/media/struzzo.31cc4513.jpg\";","import React, { useEffect } from 'react';\r\nimport AOS from 'aos';\r\nimport 'aos/dist/aos.css'; //importo AOs per gli effetti di fade-in degli elementi\r\nimport Foto from './old-staff-removebg-preview.png';\r\nimport Pappagallo from './pappagallo.jpg';\r\nimport Pavone from './pavone.jpg';\r\nimport Struzzo from './struzzo.jpg';\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\n\r\n\r\nexport default function Aboutus() {\r\n\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    AOS.init({\r\n      duration : 2000\r\n    });\r\n  }, []);\r\n\r\n\r\n  return <div className='aboutus' style={{minHeight:\"100%\"}}>   \r\n          <img className=\"home__photo\" style={{position:\"relative\"}} src=\"https://www.wtskiphire.co.uk/latest-news/img/antique-film-camera-photo.jpg\" alt=\"\" />   \r\n          <div className=\"footerdistance\" style={{minHeight:\"1000px\"}}>       \r\n            <div className=\"home__row\" style={{display:\"block\", marginTop:\"-65.7%\"}}>    \r\n              <div className='text-on-image section'>\r\n                <p className=\"vintage vintage__top\"></p>\r\n                <p className=\"vintage vintage__bot\" style={{fontSize: \"calc(9vh + 20px)\"}}>{t(\"Chi siamo\")}</p>\r\n              </div>\r\n              <div className=\"box\">\r\n                <hr style={{marginRight:\"110px\",border:\"1px solid white\"}}/>\r\n                  <div className=\"textbox\">\r\n                    {t(\"L'Ermellino è un progetto E-COMMERCE di articoli di seconda mano con ritiro in sede, sviluppato a scopo di Portofolio da Lodovico Giberti.\")}\r\n                    <br />\r\n                    {t(\"Le varie sedi, che in questo prototipo sono presenti solo a Milano e Roma, svolgono un compito di magazzino e tutela sia per il venditore che per l'acquirente.\")}\r\n                  </div>\r\n              </div>\r\n              <img src={Foto} alt=\"cop\" width=\"100%\" style={{marginTop:\"50px\",maxWidth:\"550px\"}}/>\r\n              <hr style={{marginTop:\"20px\"}} />\r\n              <div className=\"textbeforcard\">\r\n              {t(\"Scopri le carte, scopri le nostre priorità...\")}\r\n              </div>\r\n              <hr />\r\n              <div className=\"container2\" data-aos=\"fade-in\">\r\n                <div className=\"cardarrow\" >\r\n                  <svg id=\"more-arrows\">\r\n                    <polygon className=\"arrow-top\" points=\"37.6,27.9 1.8,1.3 3.3,0 37.6,25.3 71.9,0 73.7,1.3 \"/>\r\n                    <polygon className=\"arrow-middle\" points=\"37.6,45.8 0.8,18.7 4.4,16.4 37.6,41.2 71.2,16.4 74.5,18.7 \"/>\r\n                    <polygon className=\"arrow-bottom\" points=\"37.6,64 0,36.1 5.1,32.8 37.6,56.8 70.4,32.8 75.5,36.1 \"/>\r\n                  </svg>\r\n              \r\n        <div className=\"card2\">\r\n          \r\n            <span></span>\r\n            <div className=\"prBox\"> <img src={Struzzo} alt=\"latte\" /> </div>\r\n            <div className=\"content2\">\r\n                <div>\r\n                    <h2>{t(\"SICUREZZA\")}</h2>\r\n                    <p>{t(\"I nostri magazzini sono dotati dei sistemi di sicurezza più all'avanguardia del mercato.\")}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n<div className=\"cardarrow\">\r\n                  <svg id=\"more-arrows\">\r\n                    <polygon className=\"arrow-top\" points=\"37.6,27.9 1.8,1.3 3.3,0 37.6,25.3 71.9,0 73.7,1.3 \"/>\r\n                    <polygon className=\"arrow-middle\" points=\"37.6,45.8 0.8,18.7 4.4,16.4 37.6,41.2 71.2,16.4 74.5,18.7 \"/>\r\n                    <polygon className=\"arrow-bottom\" points=\"37.6,64 0,36.1 5.1,32.8 37.6,56.8 70.4,32.8 75.5,36.1 \"/>\r\n                  </svg>\r\n              \r\n        <div className=\"card2\">\r\n          \r\n            <span></span>\r\n            <div className=\"prBox\"> <img src={Pappagallo} alt=\"latte\"  /> </div>\r\n            <div className=\"content2\">\r\n                <div>\r\n                <h2>{t(\"AFFIDABILITA\")}</h2>\r\n                    <p>{t(\"Il trattamento e la gestione della vostra merce sarà sempre fatto nel massimo rispetto delle regole e del buon senso.\")} </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n<div className=\"cardarrow\">\r\n                  <svg id=\"more-arrows\">\r\n                    <polygon className=\"arrow-top\" points=\"37.6,27.9 1.8,1.3 3.3,0 37.6,25.3 71.9,0 73.7,1.3 \"/>\r\n                    <polygon className=\"arrow-middle\" points=\"37.6,45.8 0.8,18.7 4.4,16.4 37.6,41.2 71.2,16.4 74.5,18.7 \"/>\r\n                    <polygon className=\"arrow-bottom\" points=\"37.6,64 0,36.1 5.1,32.8 37.6,56.8 70.4,32.8 75.5,36.1 \"/>\r\n                  </svg>\r\n              \r\n        <div className=\"card2\">\r\n          \r\n            <span></span>\r\n            <div className=\"prBox\"> <img src={Pavone} alt=\"latte\" /> </div>\r\n            <div className=\"content2\">\r\n                <div>\r\n                <h2>{t(\"PRECISIONE\")}</h2>\r\n                    <p>{t(\"Ci affidiamo alle migliori tecnologie software per la gestione di tutti i dati e le informazioni riguardanti ogni singolo prodotto che vendiamo o noleggiamo.\")}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n<div className=\"box\" style={{textAlign:\"end\"}}>\r\n                <hr style={{marginLeft:\"110px\",border:\"1px solid white\"}}/>\r\n                  <div className=\"textbox\" style={{marginRight:\"0px\",marginLeft:\"110px\"}}>\r\n                  {t(\"Il progetto consiste nel creare un luogo dove chiunque puo vendere o noleggiare un suo oggetto.\")}\r\n                    <br />\r\n                  {t(\"L'inserimento di un prodotto o l'acquisto / noleggio vengono sempre fatti attraverso la piattaforma, il ritiro però avviene in sede sotto la nostra supervisione.\")} </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>;\r\n}\r\n","import React from 'react';\r\nimport './Rules.css';\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function Rules() {\r\n\r\n  const { t } = useTranslation();\r\n\r\n  return <div className='rules' style={{minHeight:\"100%\"}}>     \r\n            <img className=\"home__photo\" style={{position:\"relative\"}} src=\"https://global-uploads.webflow.com/5d7cb2fda3db082fa2313a36/6083433d71f01d2f3be6987e_second%20hand%20shop.jpeg\" alt=\"\" />   \r\n            <div className=\"footerdistance\" style={{minHeight:\"1000px\"}}>       \r\n              <div className=\"home__row\" style={{display:\"block\", marginTop:\"-55.6%\"}}>          \r\n                <div className='text-on-image first'>\r\n                  <p className=\"vintage vintage__top\"></p>\r\n                  <p className=\"vintage vintage__bot\" style={{fontSize: \"calc(9vh + 20px)\"}}>{t(\"Regolamento\")}</p>\r\n                </div>\r\n                <div className=\"rules__section\">\r\n                  <div className=\"first__text\">\r\n                  <div className=\"box\" style={{width:\"100%\",margin:\"0\", maxWidth:\"fit-content\"}}>\r\n                <hr style={{marginRight:\"110px\",border:\"1px solid white\"}}/>\r\n                  <div className=\"textbox\">\r\n                  <p>\r\n                    - {t(\"La missione dell'Ermellino è quella di creare un ambiente comodo e sicuro per poter dare la possibilitò di vendere o noleggiare un proprio prodotto senza avere a che fare direttamente con il cliente.\")}\r\n                    \r\n                    <br />\r\n                    <br />\r\n\r\n                    - {t(\"Per poter mettere un tuo articolo all'interno della nostra lista dovrai procedere tu stesso ad inserire l'articolo con relative foto nella sezione aggiungi articolo che troverai nella sezione 'Vendi o noleggia'.\")}\r\n\r\n                    <br />\r\n                    <br />\r\n                    \r\n                    - {t(\"Una volta inserito l'articolo, verrà inseritò in una lista di attesa dal quale potrà essere accettato solamente dal momento che l'articolo verrà consegnato al magazzino selezionato in fase di inserimento, se le foto e il valore saranno considerati corretti, l'articolo verrà approvato e sarà quindi acquistabile o noleggiabile.\")} \r\n                    \r\n                    <br />\r\n                    <br />\r\n                    \r\n                   - {t(\"L'acquisto e il noleggio degli articoli presenti in questa DEMO possono essere fatti solamente attraverso un profilo sandbox di paypal in quanto l'applicazione è a solo scopo dimostrativo e i prodotti non sono quindi reali.\")}\r\n                  </p>\r\n                  </div>\r\n                  </div>\r\n                                 \r\n                  </div>  <hr style={{marginTop:\"20px\"}} />   <div className='separe' style={{marginTop:\"40px\", backgroundColor:\"#1a1a1ab3\", height:\"20px\",marginBottom:\"40px\"}}></div>\r\n                  <hr />   \r\n                  <ul style={{backgroundColor: \"rgb(234 237 237 / 20%)\",padding:\"25px\",fontWeight:\"600\"}}>\r\n                    <li>\r\n                  \r\n                      \r\n\r\n                     \r\n                  \r\n                      <i></i>\r\n                      <h2>{t(\"Linee Guida\")}</h2>\r\n                      <b>I. {t(\"Commenti sotto i Post\")}<br /> </b>\r\n                  {t(\"E' possibile commentare i gli articoli semplicemente creando un account, qualsiasi commento ritenuto offensivo o non idoneo potrà essere eliminato dal nostro Staff.\")}\r\n                  <br />\r\n                        \r\n                  <br />\r\n                  <b>II. {t(\"Regole sul pagamento\")} <br /> </b>\r\n                  {t(\"Il pagamento può essere testato solamente con PayPal in modalità sandbox in quanto è un sito portofolio NON IN PRODUZIONE\")}.\r\n                  <br />\r\n                        \r\n                  <br />\r\n                  <b>III. {t(\"Altra regola Random\")}<br /> </b>\r\n                    {t(\"Non è consentito alcun tipo di ...\")}  <br />\r\n                        \r\n                  <br />\r\n                  <b>IV. {t(\"Altra regola Random\")} <br /> </b>\r\n                  {t(\"Non è consentito alcun tipo di ...\")}    <br />\r\n                    \r\n                    </li>\r\n\r\n                  </ul>\r\n                  </div>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n         \r\n}\r\n","import React from 'react';\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from './reducer';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { Button } from '@mui/material';\r\nimport { toast } from 'react-toastify';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nfunction Subtotal() {\r\n    const [{basket}, dispatch] = useStateValue();\r\n    let history = useHistory();\r\n    const { t } = useTranslation();\r\n\r\n    const gotopay = () => {\r\n        \r\n        if(basket.length > 0)\r\n        history.push('/paysection')\r\n\r\n        else \r\n        {\r\n            toast.error(\"Carrello vuoto\" , { \r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"subtotal\" >\r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                    <p style={{lineHeight: \"15px\"}}>\r\n                    {t(\"Totale\")} ({basket.length} {t(\"elemento/i\")}):\r\n                    <strong>    {value}  </strong> \r\n                    </p>\r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"€ \"}\r\n            />\r\n\r\n            <Button variant=\"contained\" onClick={gotopay} > {t(\"Procedi all'acquisto\")} </Button>\r\n        </div>\r\n    )\r\n}\r\n \r\nexport default Subtotal\r\n","import React, {useState, useEffect} from 'react';\r\nimport './Checkout.css';\r\nimport { useStateValue } from './StateProvider';\r\nimport Subtotal from \"./Subtotal\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport barcode from \"./barcode.png\";\r\nimport { context } from \"./App.js\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\nfunction Checkout() {\r\n    const [{basket}, dispatch] = useStateValue();\r\n    const { t } = useTranslation();\r\n    const language = React.useContext(context);\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"headlist\">\r\n         \r\n            <div className=\"checkout__left\">\r\n            <div className=\"headtext\" style={{textAlign:\"start\"}}> <span className=\"intro intro--num\"> <img src={barcode} width={50}/> </span>\r\n            <span className=\"intro\"> {t(\"Il tuo carrello\")} </span> </div>\r\n            </div>\r\n            <div className=\"checkout__right\" > \r\n            <Subtotal />\r\n            </div>\r\n            </div>\r\n            <div className=\"home__container\">\r\n            <div className=\"footerdistance\" style={{minHeight:\"1170px\"}}>\r\n            <img className=\"home__photo\" src=\"https://img-prod.ilfoglio.it/2021/11/29/091843519-2b237430-a66a-4398-acd9-40d9efbc1b6e.jpg\" alt=\"\" />\r\n            <div className=\"home__row\" style={{marginTop:\"-52%\"}} >\r\n\r\n            \r\n            <div className=\"list\">\r\n            {basket.map((item,index) => ( <CheckoutProduct \r\n            key={item.id}\r\n            id={item.id}\r\n            title={item.title}\r\n            image={item.image}\r\n            price={item.price}\r\n            city={item.city}\r\n            tipo={item.tipo}\r\n            totalday={item.totalday}\r\n            pricerent={item.pricerent}\r\n            caparra={item.caparra}\r\n            startDate={item.startDate}\r\n            endDate={item.endDate}\r\n            preview={item.preview}\r\n            idbuyer={item.idbuyer}\r\n            createdon={item.CreatedOn}>\r\n            </CheckoutProduct> ))}\r\n            </div>\r\n            </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect  } from 'react';\r\nimport './Login.css';\r\nimport logo from './logo.png';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {getAuth, signInWithEmailAndPassword} from 'firebase/auth';\r\nimport { Button } from '@mui/material';\r\nimport { toast } from 'react-toastify';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\nfunction Login() {\r\n\r\nconst [email, setEmail] = useState('');\r\nconst [password, setPassword] = useState('');\r\nconst [loading, setLoading] = useState(false);\r\nlet history = useHistory();\r\nconst auth = getAuth();\r\nconst { t } = useTranslation();\r\nconst [buttontext,setbuttontext] = useState(\"\");\r\nconst language = React.useContext(context);\r\n\r\nconsole.log(language.language)\r\n\r\n//utilizza l'useContext per cambiare la lingua\r\nuseEffect(() => {\r\n  if(language.language === 'en') {\r\n    setbuttontext(\"Login\");\r\n    console.log(language.language)\r\n  }\r\n  else {\r\n    setbuttontext(\"Accedi\");\r\n    console.log(language.language)\r\n  }\r\n},[language]);\r\n\r\n//Setting per mostrare nascondere la password con l'icon\r\nconst [values, setValues] = useState({\r\n    password: \"\",\r\n    showPassword: false,\r\n  });\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n\r\n//variabile di riassegnazione per far apparire il messaggio di benvenuto\r\nconst location = {\r\n    pathname: '/',\r\n    state: { fromLogin: true }\r\n  }\r\n\r\nconst logIn = () => {\r\n    setLoading(true);\r\n    signInWithEmailAndPassword(auth, email, password)\r\n    .then(() => { history.push(location)\r\n    }).catch((e) => { switch (e.message) {\r\n        case 'Firebase: Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. (auth/too-many-requests).' :                         \r\n            toast.error(\"Troppi tentativi di accesso sono stati tentati con questa email. Reimposta la tua password, o riprova più tardi. \",  {\r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined, })\r\n\r\n            break;\r\n        case 'Firebase: Error (auth/invalid-email).' :\r\n            toast.error(\"Email inserita non valida\",  {\r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined, })\r\n            break;\r\n\r\n        case 'Firebase: Error (auth/user-not-found).' :\r\n                toast.warn(\"Utente non trovato\",  {\r\n                    position: \"top-left\",\r\n                    autoClose: true,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined, })\r\n                break;\r\n\r\n        case 'Firebase: Password should be at least 6 characters (auth/weak-password).' :\r\n                toast.warn('La password deve contenere almeno 6 caratteri', {\r\n                    position: \"top-left\",\r\n                    autoClose: true,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    });\r\n                break;   \r\n        default:\r\n            alert(e.message)\r\n    }})\r\n} \r\n\r\n\r\n    return (\r\n        <div className=\"demo-login\">\r\n        <div className=\"login-content\">\r\n        <div className='login'>\r\n\r\n            <Link to=\"/\">\r\n            <img className=\"login_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n            </Link>      \r\n       \r\n           \r\n\r\n        <div className=\"login__container\">\r\n        <div className=\"headtext\" style={{width:\"100%\"}}>\r\n        <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}>{t(\"Accedi\")}</span>\r\n            </div>\r\n\r\n            \r\n            <h5>E-mail</h5>\r\n                <input style={{width:'100%',borderRadius: \"inherit\"}}\r\n                      id=\"outlined-textareaname\"\r\n                      maxLength=\"30\"\r\n                      value={email} onChange={e => setEmail(e.target.value)}\r\n                    />\r\n                 {/*<input type='text'  name='email' value={email} onChange={e => setEmail(e.target.value)} />*/}\r\n \r\n                <h5>Password</h5>\r\n               <div className=\"password\"> \r\n                <input  style={{width:'100%',backgroundColor:\"white\",borderRadius: \"5px\"}}\r\n                        value={password} onChange={e => setPassword(e.target.value)}    \r\n                        type={values.showPassword ? \"text\" : \"password\"}\r\n  \r\n                />\r\n                <div className=\"visibilty\">\r\n                 {values.showPassword ? <Visibility  onClick={handleClickShowPassword}\r\n                 onMouseDown={handleMouseDownPassword}/> : <VisibilityOff  onClick={handleClickShowPassword}\r\n                 onMouseDown={handleMouseDownPassword} /> }\r\n                 </div>\r\n            </div>\r\n            \r\n                <div className=\"resetpass\">\r\n                    <Link to=\"./resetpassword\">\r\n                   {t(\"Password dimenticata?\")}\r\n                    </Link>\r\n                </div>\r\n                <Button onClick={logIn} style={{color: \"white\"}} className='login__signInButton'>  {loading ?  <div className=\"load\"></div> : buttontext } </Button>\r\n                <p>\r\n                    {t(\"Una volta eseguito il Login sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\")}\r\n                </p>\r\n           \r\n\r\n                <div className=\"registrazione\"> <p> {t(\"Non ti sei ancora registrato/a\")} ? </p>\r\n                <Link to=\"./signin\">\r\n                <Button style={{color: \"#1877f2\", marginBottom: \"9px\",borderRadius: \"7px\", border: \"2px solid\", backgroundColor: \"#fff\"}} type=\"submit\"  className='signin__registerButton'> {t(\"Registrati\")} </Button>\r\n                </Link>\r\n                </div> \r\n        </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './Signin.css';\r\nimport logo from './logo.png';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport { Button } from '@mui/material';\r\nimport { toast } from 'react-toastify';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport {getAuth, sendEmailVerification, createUserWithEmailAndPassword, updateProfile, FacebookAuthProvider, signInWithPopup,  GoogleAuthProvider, signOut} from 'firebase/auth';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\n\r\nfunction Signin() {\r\nconst [name, setName] = useState(\"\");\r\nconst [email, setEmail] = useState(\"\");\r\nconst [password, setPassword] = useState(\"\");\r\nconst [loading, setLoading] = useState(false);\r\nlet history = useHistory();\r\nconst provider = new GoogleAuthProvider();\r\nconst providerf = new FacebookAuthProvider();\r\nconst auth = getAuth();\r\nconst { t } = useTranslation();\r\nconst [buttontext,setbuttontext] = useState(\"\");\r\nconst language = React.useContext(context);\r\n\r\nconsole.log(language.language)\r\n\r\n//utilizza l'useContext per cambiare la lingua\r\nuseEffect(() => {\r\n  if(language.language === 'en') {\r\n    setbuttontext(\"Sign In\");\r\n  }\r\n  else {\r\n    setbuttontext(\"Registrati\");\r\n  }\r\n},[language]);\r\n \r\n//Setting per mostrare nascondere la password con l'icon\r\nconst [values, setValues] = useState({\r\n    password: \"\",\r\n    showPassword: false,\r\n  });\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n\r\n//variabile di riassegnazione per far apparire il messaggio di benvenuto\r\nconst location = {\r\n    pathname: '/',\r\n    state: { fromLogin: 'signin' }\r\n  }\r\n\r\n\r\nconst facebook = e => {\r\n\r\n    const auth = getAuth();\r\n    signInWithPopup(auth, providerf)\r\n      .then((result) => {\r\n        // The signed-in user info.\r\n        const user = result.user;\r\n\r\n        // This gives you a Facebook Access Token. You can use it to access the Facebook API.\r\n        const credential = FacebookAuthProvider.credentialFromResult(result);\r\n        const accessToken = credential.accessToken;\r\n        history.push(location)\r\n        // ...\r\n      })\r\n      .catch((error) => {\r\n        \r\n\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // The email of the user's account used.\r\n        const email = error.email;\r\n\r\n        toast.error(\"Email associata al tuo account facebook già presente in lista\", {\r\n            position: \"top-left\",\r\n            autoClose: true,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: false,\r\n            draggable: true,\r\n            progress: undefined,\r\n            });\r\n        // The AuthCredential type that was used.\r\n        const credential = FacebookAuthProvider.credentialFromError(error);\r\n        // ...\r\n      });\r\n}\r\n\r\n\r\nconst google = e => {\r\n  \r\n    signInWithPopup(auth, provider)\r\n    .then((result) => {\r\n      // This gives you a Google Access Token. You can use it to access the Google API.\r\n      const credential = GoogleAuthProvider.credentialFromResult(result);\r\n      const token = credential.accessToken;\r\n      // The signed-in user info.\r\n      const user = result.user;\r\n      history.push(location)\r\n      // ...\r\n    }).catch((error) => {\r\n      // Handle Errors here.\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      // The email of the user's account used.\r\n      const email = error.email;\r\n      // The AuthCredential type that was used.\r\n      toast.error(\"Email associata al tuo account google già presente in lista\", {\r\n        position: \"top-left\",\r\n        autoClose: true,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true,\r\n        progress: undefined,\r\n        });\r\n      const credential = GoogleAuthProvider.credentialFromError(error);\r\n      // ...\r\n    }) }\r\n\r\n\r\n\r\n    //registra\r\nconst register = e => {\r\n\r\n    if (name !== \"\" && name.length > 5 ) {\r\n\r\n    setLoading(true);\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n    .then(() => { \r\n        updateProfile(auth.currentUser, {\r\n            displayName: name\r\n          }).then(() => {\r\n            sendEmailVerification(auth.currentUser)\r\n            toast.success(\"Un email di verifica è stata mandata all'indirizzo \" + email, {\r\n                position: \"top-left\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                });\r\n            signOut(auth)\r\n            setTimeout(() =>\r\n            history.push(\"/login\"),5000)\r\n        })\r\n    }).catch((e) => \r\n    \r\n    { switch (e.message) {\r\n        case 'Firebase: Error (auth/email-already-in-use).' :\r\n            toast.error(\"Email già presente nella nostra lista\",  {\r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined, })\r\n\r\n            break;\r\n        case 'Firebase: Error (auth/invalid-email).' :\r\n            toast.error(\"Email inserita non valida\",  {\r\n                position: \"top-left\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined, })\r\n            break;\r\n        case 'Firebase: Password should be at least 6 characters (auth/weak-password).' :\r\n                toast.warn('La password deve contenere almeno 6 caratteri', {\r\n                    position: \"top-left\",\r\n                    autoClose: true,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    });\r\n                break;   \r\n        default:\r\n            alert(e.message)\r\n    }}) \r\n    \r\n    \r\n    .finally(() => setLoading(false))\r\n    }\r\n\r\n    else {\r\n        toast.warn('Metti un nome contenente almeno 4 lettere', {\r\n            position: \"top-left\",\r\n            autoClose: true,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            });\r\n        }\r\n}\r\n\r\n    return (\r\n      <div className=\"demo-signin\">\r\n      <div className=\"signin-content\">\r\n        <div className='signin'>\r\n            <Link to=\"/\">\r\n            <img className=\"signin_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n            </Link>      \r\n            \r\n        \r\n        <div className=\"signin__container\">\r\n        <div className=\"headtext\" style={{width:\"100%\"}}>\r\n        <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}>{t(\"Registrati\")}</span>\r\n            </div>\r\n\r\n            <h5>{t(\"Nome\")}</h5>\r\n            <input style={{width:'100%',borderRadius: \"inherit\",backgroundColor: \"#fff\",borderRadius: \"5px\"}}\r\n                    autoComplete=\"yes\"\r\n                      id=\"outlined-textareaname\"\r\n                      name='Name'\r\n                      inputprops={{\r\n                        maxLength: 16,\r\n                      }}\r\n                      value={name} onChange={e => setName(e.target.value)}\r\n                    />\r\n                {/*<input type='text'  name='name' value={name} onChange={e => setName(e.target.value)} />*/}\r\n\r\n                <h5>E-mail</h5>\r\n                <input style={{width:'100%',borderRadius: \"inherit\",backgroundColor: \"#fff\"}}\r\n                      id=\"outlined-textareaname 2\"\r\n                      maxLength=\"30\"\r\n                      value={email} onChange={e => setEmail(e.target.value)}\r\n                    />\r\n                 {/*<input type='text'  name='email' value={email} onChange={e => setEmail(e.target.value)} />*/}\r\n \r\n                <h5>Password</h5>\r\n               <div className=\"password\"> \r\n                <input  style={{width:'100%',backgroundColor:\"white\",borderRadius: \"5px\"}}\r\n                        value={password} onChange={e => setPassword(e.target.value)}    \r\n                        type={values.showPassword ? \"text\" : \"password\"}\r\n  \r\n                />\r\n                <div className=\"visibilty\">\r\n                 {values.showPassword ? <Visibility  onClick={handleClickShowPassword}\r\n                 onMouseDown={handleMouseDownPassword}/> : <VisibilityOff  onClick={handleClickShowPassword}\r\n                 onMouseDown={handleMouseDownPassword} /> }\r\n                 </div>\r\n            </div>\r\n                <Button  style={{color: \"#1877f2\", marginBottom: \"9px\",borderRadius: \"7px\",marginTop: \"25px\", border: \"2px solid\", backgroundColor: \"#fff\"}} onClick={register}  type=\"submit\"  className='signin__registerButton'> {loading ?  <div className=\"load\"></div> : buttontext} </Button>\r\n\r\n                <p>\r\n                    {t(\"Una volta eseguita la registrazione sarai d'accordo con le condizioni di Uso & Vendita del L'ERMELLINO. La preghiamo quindi di andare a verificare le nostre informative riguardo la Privacy e l'utilizzo di Cookies.\")}\r\n                </p>\r\n                \r\n                <Button onClick={google}   style={{backgroundColor: \"white\", color: \"red\", marginBottom: \"9px\",marginBottom: \"9px\",borderRadius: \"7px\", width: \"175px\" , alignSelf: \"center\"}} variant=\"contained\" size=\"medium\"> Google login </Button>\r\n                \r\n                <Button  onClick={facebook} style={{backgroundColor: \"#1877f2\", color: \"#fff\", marginBottom: \"9px\",marginBottom: \"9px\",borderRadius: \"7px\", lineHeight: \"inerith\", width: \"175px\" , alignSelf: \"center\"}} variant=\"contained\" size=\"medium\"> Facebook login </Button>\r\n\r\n                <div className=\"registrazione\"> <p> {t(\"Hai gia un account?\")} </p>\r\n                <Link to=\"/login\">\r\n                    {t(\"fai il login\")}!\r\n                </Link>\r\n                </div>\r\n                </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Signin;\r\n","import React , { useState } from 'react';\r\nimport './Forgetpassword.css';\r\nimport logo from './logo.png';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {getAuth, sendPasswordResetEmail} from 'firebase/auth';\r\nimport { Button } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nfunction Forgetpassword() {\r\n    const [showText, setShowText] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    let history = useHistory();\r\n    \r\n    \r\n    const Text = () => <div style={{color:'green'}}>Email inviata, ora verrai reindirizzato al login! </div>\r\n    ;\r\n    \r\n    \r\n    const resetpassword = e => {\r\n        setLoading(true);\r\n        const auth = getAuth();\r\n\r\n    \r\n        sendPasswordResetEmail(auth,email)\r\n        .then(() => { \r\n            setShowText(true);\r\n            \r\n            setTimeout(() =>\r\n            history.push(\"/login\"),3000)\r\n    \r\n        }).catch((e) => alert(e.message))\r\n        .finally(() => setLoading(false))\r\n    \r\n    } \r\n    \r\n    return (\r\n        <div className=\"demo_resetpassword\">\r\n        <div className='resetpassword' style={{marginTop: \"5%\"}}>\r\n             <Link to=\"/\">\r\n            <img className=\"login_logo\"\r\n            src={logo} alt=\"logo\"  width=\"160\" height=\"118\" />\r\n            </Link>      \r\n       \r\n\r\n        <div className=\"resetpassword__container\">\r\n        <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\", transform: \"rotate(-1deg)\"}}>Recupera password</span>\r\n\r\n            \r\n            <h5>E-mail</h5>\r\n                <input style={{width:'100%',borderRadius: \"inherit\"}}\r\n                      id=\"outlined-textareaname\"\r\n                      maxLength=\"30\"\r\n                      value={email} onChange={e => setEmail(e.target.value)}\r\n                    />\r\n\r\n\r\n                <Button onClick={resetpassword} style={{color: \"white\",lineHeight:\"17px\",height:\"auto\",width:\"auto\"}} className='login__signInButton'>  {loading ? '... invio in corso ...' : 'Invia modulo'}  </Button>\r\n\r\n                <div>\r\n                        {showText ? <Text /> : null}\r\n                </div>\r\n                <p>\r\n                    Una volta premuto invio riceverai via email tutte le indicazioni necessarie per il recupero password del tuo account.\r\n                </p>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Forgetpassword\r\n","export default __webpack_public_path__ + \"static/media/contacts.79cb4355.jpg\";","import React, { useState, useEffect } from 'react';\r\nimport { Button } from '@mui/material';\r\nimport { getFirestore, doc, getDoc, setDoc} from \"firebase/firestore\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\nexport default function Newsletter() {\r\n\r\n  const [mailerState, setMailerState] = useState({\r\n      sender: \"L'ERMELLINO\",\r\n      email: \"\",\r\n      subject: \"ISCRIZIONE NEWSLETTER\",\r\n      message: \"Resoconto del suo ordine eseguito il: giorno test \" ,\r\n      html: \"<h1> Benvenuto nella newsletter dell'Ermellino! </h1> <br> Sarai sempre aggiornato sui nuovi arrivi ai nostri magazzini. <br> href='http://localhost:3000/test/'\"      \r\n  });\r\n\r\n//Sezione dedicata alla newsletter\r\nconst [loading, setLoading] = useState(false);\r\nconst [email, setEmail] = useState('');\r\nconst [frase, setFrase] = useState('');\r\nconst [checkemail, setCheckemail] = useState('');\r\nconst [classstyle, setClassstyle] = useState('default');\r\nconst db = getFirestore();\r\nconst { t } = useTranslation();\r\nconst [buttontext,setbuttontext] = useState(\"\");\r\nconst language = React.useContext(context);\r\n\r\n\r\n//utilizza l'useContext per cambiare la lingua\r\nuseEffect(() => {\r\n  if(language.language === 'en') {\r\n    setbuttontext(\"Subscribe\");\r\n    console.log(language.language)\r\n  }\r\n  else {\r\n    setbuttontext(\"Iscriviti\");\r\n    console.log(language.language)\r\n  }\r\n},[language]);\r\n\r\nuseEffect(() => {\r\n  let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  if(!regEmail.test(email)){\r\n  setCheckemail(false);\r\n  }\r\n  else \r\n  setCheckemail(true);\r\n}, [email]);\r\n\r\nasync function subscribenewsletter() {\r\n\r\n  if (checkemail) {\r\n  setLoading(true)\r\n  const docRef = doc(db, \"newsletter\", email);\r\n  const docSnap = await getDoc(docRef);\r\n      if (docSnap.exists()) {\r\n          setLoading(false);\r\n          setFrase(\"Email già presente nella nostra lista\");\r\n          setClassstyle(\"error\");\r\n      }  \r\n      else {\r\n          try {\r\n            const docRef = await setDoc(doc(db, \"newsletter\", email), {\r\n            }).then(() => {\r\n              mailerState.email = email;\r\n              mailerState.html = \"<h1> Benvenuto nella newsletter dell'Ermellino! </h1> <br> Sarai sempre aggiornato sui nuovi arrivi ai nostri magazzini. <br> <a href='\" + window.location.hostname + \"/deletesub/\" + email + \"'>Disiscriviti</a> <br> <br> <p> Copyright &copy; All Rights Reserved by ERMELLINO S.P.A. </p>\";\r\n              sendnewsletter();\r\n              async function sendnewsletter () {\r\n              const response = await fetch(\"https://hosteapitestlodux.herokuapp.com/\"+process.env.REACT_APP_API_KEY, {\r\n                method: \"POST\",\r\n                headers : { \r\n                  'Content-Type': 'application/json',\r\n                  'Accept': 'application/json'\r\n                  },\r\n                body: JSON.stringify({ mailerState }),\r\n                })\r\n                .then((res) => res.json())\r\n                .then(async (res) => {\r\n                  const resData = await res;\r\n                  console.log(resData);\r\n                  if (resData.status === \"success\") {\r\n                   console.log(\"Message Sent\");\r\n                  } else if (resData.status === \"fail\") {\r\n                   console.log(\"Message failed to send\");\r\n                  }\r\n                })\r\n                .then(() => {\r\n                  setLoading(false);\r\n                  if(language.language === 'en') {\r\n                    setFrase(\"Thank you for subscribing to our newsletter, a confirmation email has been sent to your address!\");\r\n                  }\r\n                  else {\r\n                    setFrase(\"Grazie per esserti iscritto alla nostra newsletter, un email di conferma è stata mandata al tuo indirizzo!\");\r\n                  }\r\n                    setClassstyle(\"success\");\r\n                    setEmail('')\r\n                    });\r\n                }\r\n          })} catch (e) {\r\n              setLoading(false);\r\n              console.error(\"Error adding document: \", e);\r\n          }\r\n      }\r\n  }\r\n\r\n  else { \r\n    if(language.language === 'en') {\r\n      setFrase(\"Email not valid\");              \r\n    }\r\n    else {\r\n      setFrase(\"Email non valida\");\r\n    }\r\n  setClassstyle(\"error\");\r\n  }\r\n}\r\n\r\n\r\n  return (\r\n    <div className=\"login__container\">\r\n                  <div className=\"headtext\" style={{width:\"100%\"}}>\r\n                    <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}>Newsletter</span>\r\n                      </div>\r\n                      <br />\r\n                      <div className=\"newslettertext\">\r\n                      {t(\"Rimani sempre connesso e scopri tutte le novità dell'ERMELLINO, iscriviti alla nostra newsletter!\")}\r\n                      </div>\r\n                        <h5>{t(\"Inserisci il tuo indirizzo E-mail\")}</h5>\r\n                          <input style={{width:'100%',borderRadius:\"inherit\"}}\r\n                            id=\"outlined-textareanam\"\r\n                            maxLength=\"30\"\r\n                            onChange={e => setEmail(e.target.value)}\r\n                          />\r\n                          <div style={{fontSize:\"12px\"}}>{t(\"Non condivideremo questa informazione con altri\")}</div>\r\n                          <div style={{textAlign:\"end\"}}>\r\n                        <div className={classstyle} style={{textAlign:\"start\", fontSize:\"20px\", fontWeight:\"900\"}}> {frase} </div>\r\n                      <Button onClick={subscribenewsletter} style={{color: \"white\"}} className='login__signInButton'> {loading ? <div className=\"load\"></div> : buttontext}  </Button>\r\n                    </div>\r\n                <br />\r\n              </div>\r\n  )\r\n}\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Image from './contacts.jpg';\r\nimport './Contacts.css';\r\nimport { Button } from '@mui/material';\r\nimport Newsletter from \"./Newsletter\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { context } from \"./App.js\";\r\n\r\n\r\n\r\nexport default function Contacts() {\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [checkemail, setCheckemail] = useState('');\r\n  const [classstyle, setClassstyle] = useState('default');\r\n  const { t } = useTranslation();\r\n  const [mailerState, setMailerState] = useState({\r\n    sender: \"L'ERMELLINO\",\r\n    name: \"\",\r\n    email: \"\",\r\n    subject: \"Informazione\",\r\n    message: \"Resoconto del suo ordine eseguito il: giorno test\" ,\r\n    html: \"<h1> Test da TEST.js ERMELLINO </h1>\",\r\n  });\r\n  const [buttontext,setbuttontext] = useState(\"\");\r\n  const language = React.useContext(context);\r\n\r\n\r\n  //utilizza l'useContext per cambiare la lingua\r\n  useEffect(() => {\r\n    if(language.language ==='en') {\r\n      setbuttontext(\"Send message!\");\r\n      console.log(language.language)\r\n    }\r\n    else {\r\n      setbuttontext(\"Invia messaggio!\");\r\n      console.log(language.language)\r\n    }\r\n  },[language]);\r\n\r\n\r\n\r\n\r\n  function handleStateChange(e) {\r\n    setMailerState((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  }\r\n\r\n\r\n  //sezione dedicata alla richiesta informazione tramite il FORM\r\n\r\n  const [fraseinfo, setFraseinfo] = useState('test');\r\n\r\n  //verifico che l'email inserita sia valida tramite questo metodo di verifica\r\n  useEffect(() => {\r\n    let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if(!regEmail.test(mailerState.email)){\r\n    setCheckemail(false);\r\n    }\r\n    else \r\n    setCheckemail(true);\r\n}, [mailerState.email]);\r\n\r\n/*\r\nTRANSLATION A MIA API SU HEROKU\r\n*/\r\n\r\nconst TransState = {\r\n  text: \"\",\r\n};\r\n\r\nconst sendTrans = async (e) => {\r\n  e.preventDefault();\r\n  TransState.text = \"Ciao amici miei\"\r\n  console.log({ TransState});\r\n  const response = await fetch(\"https://hosteapitestlodux.herokuapp.com/tran\", {\r\n    method: \"POST\",\r\n    headers : { \r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n      },\r\n    body: JSON.stringify({ TransState}),\r\n  })\r\n  .then((response) => response.json())\r\n  .then((data) => console.log(data)) ;}\r\n\r\n//va a richiamare l'email all'API mandandoli i dati necessari\r\nconst sendEmail = async (e) => {\r\n  setLoading(true)\r\n  if (checkemail) {\r\n  e.preventDefault();\r\n  console.log({ mailerState});\r\n  mailerState.html = \"<h1> Richiesta informazione da parte di: \" + mailerState.name + \" </h1> che richiede la seguente informazione  <br> \" + mailerState.message + \"  <br> <br> <p> Copyright &copy; All Rights Reserved by ERMELLINO S.P.A. </p>\";\r\n  const response = await fetch(\"https://hosteapitestlodux.herokuapp.com/\"+process.env.REACT_APP_API_KEY, {\r\n    method: \"POST\",\r\n    headers : { \r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n      },\r\n    body: JSON.stringify({ mailerState}),\r\n  })\r\n    .then((res) => res.json())\r\n    .then(async (res) => {\r\n      const resData = await res;\r\n      console.log(resData);\r\n      if (resData.status === \"success\") {\r\n        if(language.language ==='en') {\r\n          setFraseinfo(\"Message sent successfully!\");\r\n        }\r\n        else {\r\n          setFraseinfo(\"Messaggio mandato correttamente!\");\r\n        }\r\n          setClassstyle(\"emailref\"); /*tengo un colore unico per qualsiasi risultato, ma tengo un margine*/\r\n          setMailerState({\r\n            email: \"\",\r\n            name: \"\",\r\n            message: \"\",\r\n          })\r\n      } else if (resData.status === \"fail\") {\r\n        if(language.language ==='en') {\r\n          setFraseinfo(\"Message sent successfully!\");\r\n        }\r\n        else {\r\n          setFraseinfo(\"There was an error, please double check the data entered, or try again later\");\r\n        }\r\n        setClassstyle(\"emailref\");\r\n      }\r\n    })\r\n    .then(() => {\r\n      setLoading(false)\r\n      setMailerState({\r\n        email: \"\",\r\n        name: \"\",\r\n        message: \"\",\r\n      });\r\n    });\r\n  }\r\n  else {\r\n    if(language.language ==='en') {\r\n      setFraseinfo(\"Email not valid\");              \r\n    }\r\n    else {\r\n      setFraseinfo(\"Email non valida\");\r\n    }\r\n  setClassstyle(\"error\");\r\n  setLoading(false)\r\n  }\r\n};\r\n\r\n\r\nreturn <div className='contacts' style={{minHeight:\"100%\"}}>\r\n          <img className=\"home__photo\" src={Image} alt=\"\" />     \r\n            <div className=\"footerdistance\" style={{minHeight:\"1000px\"}}>   \r\n              <div className=\"home__row\" style={{display:\"block\", marginTop:\"-55.6%\", textAlign: \"-webkit-center\"}}>             \r\n                <div className='text-on-image first'>\r\n                  <p className=\"vintage vintage__top\"> </p>\r\n                  <p className=\"vintage vintage__bot\" style={{fontSize: \"calc(9vh + 20px)\"}}>{t(\"Contatti\")}</p>\r\n                </div>\r\n\r\n              \r\n                  \r\n<div className=\"contact-wrapper\">\r\n\r\n\r\n    <div className=\"direct-contact-container\">\r\n\r\n      <ul className=\"contact-list\">\r\n        <li className=\"list-item\"><i className=\"fa fa-map-marker fa-2x\"> Sede legale: Via Angelo Duro, 3 - 20139 Milano </i></li>\r\n\r\n        <li className=\"list-item\"><i className=\"fa fa-map-marker fa-2x\"> Sede operativa: Via Spessa del Po, 8 - 20139 Milano </i></li>\r\n\r\n        <li className=\"list-item\"><i className=\"fa fa-map-marker fa-2x\"> Sede operativa: Via Gladiatore, 10 - 20139 Roma </i></li>\r\n        \r\n        <li className=\"list-item\"><i className=\"fa fa-phone fa-2x\">  02 89763234</i></li>\r\n        \r\n        <li className=\"list-item\"><i className=\"fa fa-envelope fa-2x\"> lermellino@gmail.com</i></li>\r\n        \r\n      </ul>\r\n\r\n      <hr />\r\n      <div className=\"col-md-4 col-sm-6 col-xs-12\" style={{textAlign:\"center\"}}>\r\n          <ul className=\"social-icons\">\r\n            <li><a className=\"facebook\" style={{backgroundColor:\"black\"}} href=\"#\"><i className=\"fa fa-facebook\"></i></a></li>\r\n            <li><a className=\"instagram\" style={{backgroundColor:\"black\"}} href=\"#\"><i className=\"fa fa-instagram\"></i></a></li>  \r\n          </ul>\r\n        </div>\r\n      <hr />\r\n\r\n      <div className=\"copyright\">&copy; All Rights Reserved by ERMELLINO S.P.A. </div>\r\n        </div>\r\n          <div className=\"vl\"></div>\r\n          <Newsletter />\r\n\r\n          </div>\r\n          \r\n                {/* PARTE RICHIESTA INFO*/}\r\n          <form>      \r\n          <div className=\"headtext contact\" style={{ position: \"relative\"}}>\r\n            <span className=\"intro\" style={{color: \"#E05D5D\", fontSize:\"40px\"}}> {t(\"Per ulteriori informazione compila il form qui sotto\")} </span>\r\n              </div>\r\n\r\n                <div className=\"login-content\" style={{marginTop: \"1%\",color: \"#fff8e5\"}}>\r\n                  <div className='login'>\r\n                    <div className=\"login__container\" style={{backgroundColor: \"#e05d5d\", borderColor:\"#fff8e5\", textAlign: \"justify\"}}>\r\n                      <h5>Nome</h5>\r\n                        <div className=\"password\"> \r\n                          <input style={{width:'100%',backgroundColor:\"white\",borderRadius: \"5px\"}}\r\n                            placeholder=\"Name\"\r\n                            onChange={handleStateChange}\r\n                            name=\"Name\"\r\n                            value={mailerState.nome}\r\n                            maxLength=\"30\"\r\n                          />\r\n                        </div>   \r\n                      <h5>E-mail</h5>\r\n                        <input style={{width:'100%',borderRadius: \"inherit\"}}\r\n                          placeholder=\"Email\"\r\n                          onChange={handleStateChange}\r\n                          value={mailerState.email}\r\n                          name=\"email\"\r\n                          maxLength=\"30\"\r\n                        />\r\n                      <h5>{t(\"Messaggio\")}</h5>\r\n                        <textarea\r\n                          style={{ minHeight: \"200px\", width:'100%',borderRadius: \"inherit\"}}\r\n                          placeholder={t(\"Scrivi il tuo messaggio...\")}\r\n                          onChange={handleStateChange}\r\n                          name=\"message\"\r\n                          value={mailerState.messaggio}\r\n                        />\r\n                        <div className={classstyle} style={{textAlign:\"start\", fontSize:\"20px\", fontWeight:\"900\"}}> {fraseinfo} </div>\r\n                      <Button onClick={sendEmail} style={{color: \"white\"}} id='emailbutton' className='login__signInButton'> {loading ? <div className=\"load\"></div> : buttontext}  </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                </form>\r\n\r\n              </div>\r\n            </div> \r\n          </div>;\r\n}\r\n","import React from 'react';\r\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n\r\nfunction Footer() {\r\n\r\n    let year = new Date().getFullYear();\r\n\r\n    let location = useLocation();\r\n\r\n    return (\r\n        <div>\r\n            <div className='site-footer'  style={{display: location.pathname === \"/paysection\" || location.pathname === \"/signin\" || location.pathname === \"/login\" ? \"none\" : \"\", marginTop: \"50px\" }}>         \r\n        <hr style={{padding: \"0\"}} />\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 col-sm-6 col-xs-12\">\r\n            <p className=\"copyright-text\">Copyright &copy; {year} All Rights Reserved by \r\n              ERMELLINO S.P.A. \r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"col-md-4 col-sm-6 col-xs-12\">\r\n            <ul className=\"social-icons\">\r\n              <li><a className=\"facebook\" href=\"\"><i className=\"fa fa-facebook\"></i></a></li>\r\n              <li><a className=\"instagram\" href=\"\"><i className=\"fa fa-instagram\"></i></a></li>  \r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useEffect, useState} from 'react';\r\nimport { useParams} from \"react-router-dom\";\r\nimport { getFirestore, doc, deleteDoc, getDoc} from \"firebase/firestore\";\r\nimport Newsletter from './Newsletter';\r\n\r\n\r\n\r\nexport default function DeleteSub() {\r\n\r\n        let { email } = useParams();\r\n        const db = getFirestore();\r\n        const [response,setResponse] = useState(\"\");\r\n\r\n        useEffect(() => {\r\n\r\n            getEmail();\r\n            async function getEmail() {\r\n\r\n                const docRef = doc(db, \"newsletter\", email);\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                console.log(\"Document data:\", docSnap.data());\r\n                deleteDoc(doc(db, \"newsletter\", email))\r\n                setResponse(\"La tua email è stata rimossa correttamente dal nostro database, non riceverai più le nostre news\")\r\n                } else {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such document!\");\r\n                setResponse(\"La tua email non è più presente nei nostri database\")\r\n                }\r\n            }\r\n       \r\n        }, [])\r\n    \r\n\r\n  return (\r\n    <div>DeleteSub {email} <h1>{response}</h1> </div>\r\n    \r\n  )\r\n}\r\n","import React, {useState, useEffect, Suspense} from \"react\";\nimport { ToastContainer} from 'react-toastify';\nimport { BrowserRouter , Switch, Route} from \"react-router-dom\"; \nimport './App.css';\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport AddProducts from \"./AddProducts\";\nimport Searchlist from \"./Searchlist\";\nimport OwnShop from \"./OwnShop\";\nimport OwnOrders from \"./OwnOrders\";\nimport Dashboard from \"./Dashboard\";\nimport PageProducts from \"./PageProduct\";\nimport Paysection from \"./Paysection\";\nimport Aboutus from \"./Aboutus\";\nimport Rules from \"./Rules\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport Signin from \"./Signin\";\nimport Forgetpassword from \"./Forgetpassword\";\nimport Contacts from \"./Contacts\";\nimport Footer from \"./Footer\";\nimport Loader from \"./Loader\";\nimport DeleteSub from \"./DeleteSub\";\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth,onAuthStateChanged } from \"@firebase/auth\";\n\n\n\n/* Esempio di pagina caricata a richiesta per non sovraccaricare\nconst PageProducts = React.lazy(() => {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(import(\"./PageProduct\")), 1000);\n  });\n});\n*/\n\n\n\nconsole.log('carrello salvato in localstorage:',JSON.parse(localStorage.getItem(\"localCart\")))\n\n//TENGO I DATI DI ACCESSO AL MIO FIREBASE NASCOSTI\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEYS,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  projectId: process.env.REACT_APP_PROJECTID,\n  databaseURL: process.env.REACT_DATABASEURL,\n  storageBucket: process.env.REACT_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_MESSAGINGSENDERID,\n  appId: process.env.REACT_APPID,\n  measurementId: process.env.REACT_MEASUREMENTID\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\nexport const context = React.createContext(null);\n\n\n\nfunction App() {\n\nconst [showpop,setShowpop] = useState(false); //setto il pop-up \nconst [showloader, setShowloader] = useState(true);\nconst [user, setUser] = useState(null);\nconst [language, setLanguage] = useState(null);\n\nuseEffect(() => {\nconst auth = getAuth();\nonAuthStateChanged(auth, user => {\n  setUser(user)\n})\n}, [])\n\n  return (\n    <BrowserRouter>\n    <Suspense fallback={<Loader />}>\n    <context.Provider value={{ showpop, setShowpop, showloader, setShowloader, language, setLanguage}} >\n      <div className=\"App\">\n      <ToastContainer />\n        <Switch>\n        <Route path=\"/aboutus\">\n          <Header />\n\n    \n            <Aboutus> \n            </Aboutus>\n          \n\n            <Footer />\n            </Route>\n            <Route path=\"/rules\">\n          <Header />\n\n    \n            <Rules> \n            </Rules>\n          \n\n            <Footer />\n            </Route>\n            <Route path=\"/contacts\">\n          <Header />\n\n            <Contacts> \n            </Contacts>\n \n\n            <Footer />\n            </Route>\n        <Route path=\"/signin\">\n          <Header />\n\n    \n            <Signin> \n            </Signin>\n          \n\n            </Route>\n\n          <Route path=\"/login\">\n            <Header />\n          \n      \n            <Login> \n            </Login>\n            \n\n            </Route>\n          <Route path=\"/resetpassword\">\n\n      \n            <Forgetpassword> \n            </Forgetpassword>\n            \n\n            </Route>\n        <Route path=\"/checkout\">\n              <Header />\n\n        \n            <Checkout />\n            \n\n            <Footer />\n          </Route>\n          <Route path=\"/ownshop\">\n            <Header />\n\n      \n            <OwnShop> \n            </OwnShop>\n          \n\n            <Footer />\n            </Route>\n            <Route path=\"/ownorders\">\n          <Header />\n\n          \n            <OwnOrders> \n            </OwnOrders>\n            \n\n            <Footer />\n            </Route>\n          <Route path=\"/addproducts\">\n          <Header />\n\n          \n            <AddProducts> \n            </AddProducts>\n            \n\n            </Route>\n            <Route path=\"/dashboard\">\n            <Header />\n\n          \n            <Dashboard> \n            </Dashboard>\n          \n\n            <Footer />\n            </Route>\n            <Route path=\"/search/:slug\">\n          <Header />\n\n          \n            <Searchlist> \n            </Searchlist>\n            \n\n            <Footer />\n            </Route>\n            <Route path=\"/pageproduct/:id\">\n            <Header />\n            \n            \n            <PageProducts> \n            </PageProducts>\n           \n\n            <Footer />\n            </Route>\n            <Route path=\"/paysection\">\n            <Header />\n\n            \n            <Paysection> \n            </Paysection>\n            \n\n            </Route>\n\n            <Route path=\"/deletesub/:email\">\n              <DeleteSub></DeleteSub>\n            </Route>\n            \n            <Route path=\"/\">\n            <Header />        \n            <Home />       \n            <Footer />\n          </Route>\n\n            \n            \n        </Switch>\n      </div>\n      </context.Provider>\n      </Suspense>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './StateProvider';\nimport reducer, {initialState} from \"./reducer\";\n\n\n\n<link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.2/css/all.css\" integrity=\"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr\" crossorigin=\"anonymous\" />\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}